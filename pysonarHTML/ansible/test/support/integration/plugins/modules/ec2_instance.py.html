<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/ansible/test/support/integration/plugins/modules/ec2_instance.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.__metaclass__', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.__metaclass__'>__metaclass__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ANSIBLE_METADATA', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ANSIBLE_METADATA'>ANSIBLE_METADATA</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.DOCUMENTATION', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.DOCUMENTATION'>DOCUMENTATION</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.EXAMPLES', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.EXAMPLES'>EXAMPLES</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.RETURN', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.RETURN'>RETURN</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module'>module</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script'>tower_callback_script</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags'>manage_tags</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec'>build_volume_spec</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile'>add_or_update_instance_profile</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec'>build_network_spec</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed'>warn_if_public_ip_assignment_changed</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed'>warn_if_cpu_options_changed</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups'>discover_security_groups</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options'>build_top_level_options</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags'>build_instance_tags</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec'>build_run_instance_spec</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances'>await_instances</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params'>diff_instance_and_params</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments'>change_network_attachments</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances'>find_instances</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc'>get_default_vpc</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet'>get_default_subnet</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state'>ensure_instance_state</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state'>change_instance_state</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance'>pretty_instance</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role'>determine_iam_role</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing'>handle_existing</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present'>ensure_present</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances'>run_instances</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main', xid='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main'>main</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> #!/usr/bin/python
<span class='lineno'>   2</span> # Copyright: Ansible Project
<span class='lineno'>   3</span> # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)
<span class='lineno'>   4</span> 
<span class='lineno'>   5</span> from __future__ import absolute_import, division, print_function
<span class='lineno'>   6</span> <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.__metaclass__', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.__metaclass__', title='? -> ?'>__metaclass__</a> = type
<span class='lineno'>   7</span> 
<span class='lineno'>   8</span> 
<span class='lineno'>   9</span> <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ANSIBLE_METADATA', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ANSIBLE_METADATA', title='dict'>ANSIBLE_METADATA</a> = {&#39;metadata_version&#39;: &#39;1.1&#39;,
<span class='lineno'>  10</span>                     &#39;status&#39;: [&#39;preview&#39;],
<span class='lineno'>  11</span>                     &#39;supported_by&#39;: &#39;community&#39;}
<span class='lineno'>  12</span> 
<span class='lineno'>  13</span> <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.DOCUMENTATION', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.DOCUMENTATION', title='str'>DOCUMENTATION</a> = &#39;&#39;&#39;
<span class='lineno'>  14</span> ---
<span class='lineno'>  15</span> module: ec2_instance
<span class='lineno'>  16</span> short_description: Create &amp; manage EC2 instances
<span class='lineno'>  17</span> description:
<span class='lineno'>  18</span>   - Create and manage AWS EC2 instances.
<span class='lineno'>  19</span>   - &gt;
<span class='lineno'>  20</span>     Note: This module does not support creating
<span class='lineno'>  21</span>     L(EC2 Spot instances,https://aws.amazon.com/ec2/spot/). The M(ec2) module
<span class='lineno'>  22</span>     can create and manage spot instances.
<span class='lineno'>  23</span> version_added: &quot;2.5&quot;
<span class='lineno'>  24</span> author:
<span class='lineno'>  25</span>   - Ryan Scott Brown (@ryansb)
<span class='lineno'>  26</span> requirements: [ &quot;boto3&quot;, &quot;botocore&quot; ]
<span class='lineno'>  27</span> options:
<span class='lineno'>  28</span>   instance_ids:
<span class='lineno'>  29</span>     description:
<span class='lineno'>  30</span>       - If you specify one or more instance IDs, only instances that have the specified IDs are returned.
<span class='lineno'>  31</span>     type: list
<span class='lineno'>  32</span>   state:
<span class='lineno'>  33</span>     description:
<span class='lineno'>  34</span>       - Goal state for the instances.
<span class='lineno'>  35</span>     choices: [present, terminated, running, started, stopped, restarted, rebooted, absent]
<span class='lineno'>  36</span>     default: present
<span class='lineno'>  37</span>     type: str
<span class='lineno'>  38</span>   wait:
<span class='lineno'>  39</span>     description:
<span class='lineno'>  40</span>       - Whether or not to wait for the desired state (use wait_timeout to customize this).
<span class='lineno'>  41</span>     default: true
<span class='lineno'>  42</span>     type: bool
<span class='lineno'>  43</span>   wait_timeout:
<span class='lineno'>  44</span>     description:
<span class='lineno'>  45</span>       - How long to wait (in seconds) for the instance to finish booting/terminating.
<span class='lineno'>  46</span>     default: 600
<span class='lineno'>  47</span>     type: int
<span class='lineno'>  48</span>   instance_type:
<span class='lineno'>  49</span>     description:
<span class='lineno'>  50</span>       - Instance type to use for the instance, see U(https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-types.html)
<span class='lineno'>  51</span>         Only required when instance is not already present.
<span class='lineno'>  52</span>     default: t2.micro
<span class='lineno'>  53</span>     type: str
<span class='lineno'>  54</span>   user_data:
<span class='lineno'>  55</span>     description:
<span class='lineno'>  56</span>       - Opaque blob of data which is made available to the ec2 instance
<span class='lineno'>  57</span>     type: str
<span class='lineno'>  58</span>   tower_callback:
<span class='lineno'>  59</span>     description:
<span class='lineno'>  60</span>       - Preconfigured user-data to enable an instance to perform a Tower callback (Linux only).
<span class='lineno'>  61</span>       - Mutually exclusive with I(user_data).
<span class='lineno'>  62</span>       - For Windows instances, to enable remote access via Ansible set I(tower_callback.windows) to true, and optionally set an admin password.
<span class='lineno'>  63</span>       - If using &#39;windows&#39; and &#39;set_password&#39;, callback to Tower will not be performed but the instance will be ready to receive winrm connections from Ansible.
<span class='lineno'>  64</span>     type: dict
<span class='lineno'>  65</span>     suboptions:
<span class='lineno'>  66</span>       tower_address:
<span class='lineno'>  67</span>         description:
<span class='lineno'>  68</span>         - IP address or DNS name of Tower server. Must be accessible via this address from the VPC that this instance will be launched in.
<span class='lineno'>  69</span>         type: str
<span class='lineno'>  70</span>       job_template_id:
<span class='lineno'>  71</span>         description:
<span class='lineno'>  72</span>         - Either the integer ID of the Tower Job Template, or the name (name supported only for Tower 3.2+).
<span class='lineno'>  73</span>         type: str
<span class='lineno'>  74</span>       host_config_key:
<span class='lineno'>  75</span>         description:
<span class='lineno'>  76</span>         - Host configuration secret key generated by the Tower job template.
<span class='lineno'>  77</span>         type: str
<span class='lineno'>  78</span>   tags:
<span class='lineno'>  79</span>     description:
<span class='lineno'>  80</span>       - A hash/dictionary of tags to add to the new instance or to add/remove from an existing one.
<span class='lineno'>  81</span>     type: dict
<span class='lineno'>  82</span>   purge_tags:
<span class='lineno'>  83</span>     description:
<span class='lineno'>  84</span>       - Delete any tags not specified in the task that are on the instance.
<span class='lineno'>  85</span>         This means you have to specify all the desired tags on each task affecting an instance.
<span class='lineno'>  86</span>     default: false
<span class='lineno'>  87</span>     type: bool
<span class='lineno'>  88</span>   image:
<span class='lineno'>  89</span>     description:
<span class='lineno'>  90</span>       - An image to use for the instance. The M(ec2_ami_info) module may be used to retrieve images.
<span class='lineno'>  91</span>         One of I(image) or I(image_id) are required when instance is not already present.
<span class='lineno'>  92</span>     type: dict
<span class='lineno'>  93</span>     suboptions:
<span class='lineno'>  94</span>       id:
<span class='lineno'>  95</span>         description:
<span class='lineno'>  96</span>         - The AMI ID.
<span class='lineno'>  97</span>         type: str
<span class='lineno'>  98</span>       ramdisk:
<span class='lineno'>  99</span>         description:
<span class='lineno'> 100</span>         - Overrides the AMI&#39;s default ramdisk ID.
<span class='lineno'> 101</span>         type: str
<span class='lineno'> 102</span>       kernel:
<span class='lineno'> 103</span>         description:
<span class='lineno'> 104</span>         - a string AKI to override the AMI kernel.
<span class='lineno'> 105</span>   image_id:
<span class='lineno'> 106</span>     description:
<span class='lineno'> 107</span>        - I(ami) ID to use for the instance. One of I(image) or I(image_id) are required when instance is not already present.
<span class='lineno'> 108</span>        - This is an alias for I(image.id).
<span class='lineno'> 109</span>     type: str
<span class='lineno'> 110</span>   security_groups:
<span class='lineno'> 111</span>     description:
<span class='lineno'> 112</span>       - A list of security group IDs or names (strings). Mutually exclusive with I(security_group).
<span class='lineno'> 113</span>     type: list
<span class='lineno'> 114</span>   security_group:
<span class='lineno'> 115</span>     description:
<span class='lineno'> 116</span>       - A security group ID or name. Mutually exclusive with I(security_groups).
<span class='lineno'> 117</span>     type: str
<span class='lineno'> 118</span>   name:
<span class='lineno'> 119</span>     description:
<span class='lineno'> 120</span>       - The Name tag for the instance.
<span class='lineno'> 121</span>     type: str
<span class='lineno'> 122</span>   vpc_subnet_id:
<span class='lineno'> 123</span>     description:
<span class='lineno'> 124</span>       - The subnet ID in which to launch the instance (VPC)
<span class='lineno'> 125</span>         If none is provided, ec2_instance will chose the default zone of the default VPC.
<span class='lineno'> 126</span>     aliases: [&#39;subnet_id&#39;]
<span class='lineno'> 127</span>     type: str
<span class='lineno'> 128</span>   network:
<span class='lineno'> 129</span>     description:
<span class='lineno'> 130</span>       - Either a dictionary containing the key &#39;interfaces&#39; corresponding to a list of network interface IDs or
<span class='lineno'> 131</span>         containing specifications for a single network interface.
<span class='lineno'> 132</span>       - Use the ec2_eni module to create ENIs with special settings.
<span class='lineno'> 133</span>     type: dict
<span class='lineno'> 134</span>     suboptions:
<span class='lineno'> 135</span>       interfaces:
<span class='lineno'> 136</span>         description:
<span class='lineno'> 137</span>         - a list of ENI IDs (strings) or a list of objects containing the key I(id).
<span class='lineno'> 138</span>         type: list
<span class='lineno'> 139</span>       assign_public_ip:
<span class='lineno'> 140</span>         description:
<span class='lineno'> 141</span>         - when true assigns a public IP address to the interface
<span class='lineno'> 142</span>         type: bool
<span class='lineno'> 143</span>       private_ip_address:
<span class='lineno'> 144</span>         description:
<span class='lineno'> 145</span>         - an IPv4 address to assign to the interface
<span class='lineno'> 146</span>         type: str
<span class='lineno'> 147</span>       ipv6_addresses:
<span class='lineno'> 148</span>         description:
<span class='lineno'> 149</span>         - a list of IPv6 addresses to assign to the network interface
<span class='lineno'> 150</span>         type: list
<span class='lineno'> 151</span>       source_dest_check:
<span class='lineno'> 152</span>         description:
<span class='lineno'> 153</span>         - controls whether source/destination checking is enabled on the interface
<span class='lineno'> 154</span>         type: bool
<span class='lineno'> 155</span>       description:
<span class='lineno'> 156</span>         description:
<span class='lineno'> 157</span>         - a description for the network interface
<span class='lineno'> 158</span>         type: str
<span class='lineno'> 159</span>       private_ip_addresses:
<span class='lineno'> 160</span>         description:
<span class='lineno'> 161</span>         - a list of IPv4 addresses to assign to the network interface
<span class='lineno'> 162</span>         type: list
<span class='lineno'> 163</span>       subnet_id:
<span class='lineno'> 164</span>         description:
<span class='lineno'> 165</span>         - the subnet to connect the network interface to
<span class='lineno'> 166</span>         type: str
<span class='lineno'> 167</span>       delete_on_termination:
<span class='lineno'> 168</span>         description:
<span class='lineno'> 169</span>         - Delete the interface when the instance it is attached to is
<span class='lineno'> 170</span>           terminated.
<span class='lineno'> 171</span>         type: bool
<span class='lineno'> 172</span>       device_index:
<span class='lineno'> 173</span>         description:
<span class='lineno'> 174</span>         - The index of the interface to modify
<span class='lineno'> 175</span>         type: int
<span class='lineno'> 176</span>       groups:
<span class='lineno'> 177</span>         description:
<span class='lineno'> 178</span>         - a list of security group IDs to attach to the interface
<span class='lineno'> 179</span>         type: list
<span class='lineno'> 180</span>   volumes:
<span class='lineno'> 181</span>     description:
<span class='lineno'> 182</span>     - A list of block device mappings, by default this will always use the AMI root device so the volumes option is primarily for adding more storage.
<span class='lineno'> 183</span>     - A mapping contains the (optional) keys device_name, virtual_name, ebs.volume_type, ebs.volume_size, ebs.kms_key_id,
<span class='lineno'> 184</span>       ebs.iops, and ebs.delete_on_termination.
<span class='lineno'> 185</span>     - For more information about each parameter, see U(https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_BlockDeviceMapping.html).
<span class='lineno'> 186</span>     type: list
<span class='lineno'> 187</span>   launch_template:
<span class='lineno'> 188</span>     description:
<span class='lineno'> 189</span>       - The EC2 launch template to base instance configuration on.
<span class='lineno'> 190</span>     type: dict
<span class='lineno'> 191</span>     suboptions:
<span class='lineno'> 192</span>       id:
<span class='lineno'> 193</span>         description:
<span class='lineno'> 194</span>         - the ID of the launch template (optional if name is specified).
<span class='lineno'> 195</span>         type: str
<span class='lineno'> 196</span>       name:
<span class='lineno'> 197</span>         description:
<span class='lineno'> 198</span>         - the pretty name of the launch template (optional if id is specified).
<span class='lineno'> 199</span>         type: str
<span class='lineno'> 200</span>       version:
<span class='lineno'> 201</span>         description:
<span class='lineno'> 202</span>         - the specific version of the launch template to use. If unspecified, the template default is chosen.
<span class='lineno'> 203</span>   key_name:
<span class='lineno'> 204</span>     description:
<span class='lineno'> 205</span>     - Name of the SSH access key to assign to the instance - must exist in the region the instance is created.
<span class='lineno'> 206</span>     type: str
<span class='lineno'> 207</span>   availability_zone:
<span class='lineno'> 208</span>     description:
<span class='lineno'> 209</span>     - Specify an availability zone to use the default subnet it. Useful if not specifying the I(vpc_subnet_id) parameter.
<span class='lineno'> 210</span>     - If no subnet, ENI, or availability zone is provided, the default subnet in the default VPC will be used in the first AZ (alphabetically sorted).
<span class='lineno'> 211</span>     type: str
<span class='lineno'> 212</span>   instance_initiated_shutdown_behavior:
<span class='lineno'> 213</span>     description:
<span class='lineno'> 214</span>       - Whether to stop or terminate an instance upon shutdown.
<span class='lineno'> 215</span>     choices: [&#39;stop&#39;, &#39;terminate&#39;]
<span class='lineno'> 216</span>     type: str
<span class='lineno'> 217</span>   tenancy:
<span class='lineno'> 218</span>     description:
<span class='lineno'> 219</span>       - What type of tenancy to allow an instance to use. Default is shared tenancy. Dedicated tenancy will incur additional charges.
<span class='lineno'> 220</span>     choices: [&#39;dedicated&#39;, &#39;default&#39;]
<span class='lineno'> 221</span>     type: str
<span class='lineno'> 222</span>   termination_protection:
<span class='lineno'> 223</span>     description:
<span class='lineno'> 224</span>       - Whether to enable termination protection.
<span class='lineno'> 225</span>         This module will not terminate an instance with termination protection active, it must be turned off first.
<span class='lineno'> 226</span>     type: bool
<span class='lineno'> 227</span>   cpu_credit_specification:
<span class='lineno'> 228</span>     description:
<span class='lineno'> 229</span>       - For T series instances, choose whether to allow increased charges to buy CPU credits if the default pool is depleted.
<span class='lineno'> 230</span>       - Choose I(unlimited) to enable buying additional CPU credits.
<span class='lineno'> 231</span>     choices: [&#39;unlimited&#39;, &#39;standard&#39;]
<span class='lineno'> 232</span>     type: str
<span class='lineno'> 233</span>   cpu_options:
<span class='lineno'> 234</span>     description:
<span class='lineno'> 235</span>       - Reduce the number of vCPU exposed to the instance.
<span class='lineno'> 236</span>       - Those parameters can only be set at instance launch. The two suboptions threads_per_core and core_count are mandatory.
<span class='lineno'> 237</span>       - See U(https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/instance-optimize-cpu.html) for combinations available.
<span class='lineno'> 238</span>       - Requires botocore &gt;= 1.10.16
<span class='lineno'> 239</span>     version_added: 2.7
<span class='lineno'> 240</span>     type: dict
<span class='lineno'> 241</span>     suboptions:
<span class='lineno'> 242</span>       threads_per_core:
<span class='lineno'> 243</span>         description:
<span class='lineno'> 244</span>         - Select the number of threads per core to enable. Disable or Enable Intel HT.
<span class='lineno'> 245</span>         choices: [1, 2]
<span class='lineno'> 246</span>         required: true
<span class='lineno'> 247</span>         type: int
<span class='lineno'> 248</span>       core_count:
<span class='lineno'> 249</span>         description:
<span class='lineno'> 250</span>         - Set the number of core to enable.
<span class='lineno'> 251</span>         required: true
<span class='lineno'> 252</span>         type: int
<span class='lineno'> 253</span>   detailed_monitoring:
<span class='lineno'> 254</span>     description:
<span class='lineno'> 255</span>       - Whether to allow detailed cloudwatch metrics to be collected, enabling more detailed alerting.
<span class='lineno'> 256</span>     type: bool
<span class='lineno'> 257</span>   ebs_optimized:
<span class='lineno'> 258</span>     description:
<span class='lineno'> 259</span>       - Whether instance is should use optimized EBS volumes, see U(https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/EBSOptimized.html).
<span class='lineno'> 260</span>     type: bool
<span class='lineno'> 261</span>   filters:
<span class='lineno'> 262</span>     description:
<span class='lineno'> 263</span>       - A dict of filters to apply when deciding whether existing instances match and should be altered. Each dict item
<span class='lineno'> 264</span>         consists of a filter key and a filter value. See
<span class='lineno'> 265</span>         U(https://docs.aws.amazon.com/AWSEC2/latest/APIReference/API_DescribeInstances.html).
<span class='lineno'> 266</span>         for possible filters. Filter names and values are case sensitive.
<span class='lineno'> 267</span>       - By default, instances are filtered for counting by their &quot;Name&quot; tag, base AMI, state (running, by default), and
<span class='lineno'> 268</span>         subnet ID. Any queryable filter can be used. Good candidates are specific tags, SSH keys, or security groups.
<span class='lineno'> 269</span>     type: dict
<span class='lineno'> 270</span>   instance_role:
<span class='lineno'> 271</span>     description:
<span class='lineno'> 272</span>       - The ARN or name of an EC2-enabled instance role to be used. If a name is not provided in arn format
<span class='lineno'> 273</span>         then the ListInstanceProfiles permission must also be granted.
<span class='lineno'> 274</span>         U(https://docs.aws.amazon.com/IAM/latest/APIReference/API_ListInstanceProfiles.html) If no full ARN is provided,
<span class='lineno'> 275</span>         the role with a matching name will be used from the active AWS account.
<span class='lineno'> 276</span>     type: str
<span class='lineno'> 277</span>   placement_group:
<span class='lineno'> 278</span>     description:
<span class='lineno'> 279</span>       - The placement group that needs to be assigned to the instance
<span class='lineno'> 280</span>     version_added: 2.8
<span class='lineno'> 281</span>     type: str
<span class='lineno'> 282</span> 
<span class='lineno'> 283</span> extends_documentation_fragment:
<span class='lineno'> 284</span>     - aws
<span class='lineno'> 285</span>     - ec2
<span class='lineno'> 286</span> &#39;&#39;&#39;
<span class='lineno'> 287</span> 
<span class='lineno'> 288</span> <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.EXAMPLES', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.EXAMPLES', title='str'>EXAMPLES</a> = &#39;&#39;&#39;
<span class='lineno'> 289</span> # Note: These examples do not set authentication details, see the AWS Guide for details.
<span class='lineno'> 290</span> 
<span class='lineno'> 291</span> # Terminate every running instance in a region. Use with EXTREME caution.
<span class='lineno'> 292</span> - ec2_instance:
<span class='lineno'> 293</span>     state: absent
<span class='lineno'> 294</span>     filters:
<span class='lineno'> 295</span>       instance-state-name: running
<span class='lineno'> 296</span> 
<span class='lineno'> 297</span> # restart a particular instance by its ID
<span class='lineno'> 298</span> - ec2_instance:
<span class='lineno'> 299</span>     state: restarted
<span class='lineno'> 300</span>     instance_ids:
<span class='lineno'> 301</span>       - i-12345678
<span class='lineno'> 302</span> 
<span class='lineno'> 303</span> # start an instance with a public IP address
<span class='lineno'> 304</span> - ec2_instance:
<span class='lineno'> 305</span>     name: &quot;public-compute-instance&quot;
<span class='lineno'> 306</span>     key_name: &quot;prod-ssh-key&quot;
<span class='lineno'> 307</span>     vpc_subnet_id: subnet-5ca1ab1e
<span class='lineno'> 308</span>     instance_type: c5.large
<span class='lineno'> 309</span>     security_group: default
<span class='lineno'> 310</span>     network:
<span class='lineno'> 311</span>       assign_public_ip: true
<span class='lineno'> 312</span>     image_id: ami-123456
<span class='lineno'> 313</span>     tags:
<span class='lineno'> 314</span>       Environment: Testing
<span class='lineno'> 315</span> 
<span class='lineno'> 316</span> # start an instance and Add EBS
<span class='lineno'> 317</span> - ec2_instance:
<span class='lineno'> 318</span>     name: &quot;public-withebs-instance&quot;
<span class='lineno'> 319</span>     vpc_subnet_id: subnet-5ca1ab1e
<span class='lineno'> 320</span>     instance_type: t2.micro
<span class='lineno'> 321</span>     key_name: &quot;prod-ssh-key&quot;
<span class='lineno'> 322</span>     security_group: default
<span class='lineno'> 323</span>     volumes:
<span class='lineno'> 324</span>       - device_name: /dev/sda1
<span class='lineno'> 325</span>         ebs:
<span class='lineno'> 326</span>           volume_size: 16
<span class='lineno'> 327</span>           delete_on_termination: true
<span class='lineno'> 328</span> 
<span class='lineno'> 329</span> # start an instance with a cpu_options
<span class='lineno'> 330</span> - ec2_instance:
<span class='lineno'> 331</span>     name: &quot;public-cpuoption-instance&quot;
<span class='lineno'> 332</span>     vpc_subnet_id: subnet-5ca1ab1e
<span class='lineno'> 333</span>     tags:
<span class='lineno'> 334</span>       Environment: Testing
<span class='lineno'> 335</span>     instance_type: c4.large
<span class='lineno'> 336</span>     volumes:
<span class='lineno'> 337</span>     - device_name: /dev/sda1
<span class='lineno'> 338</span>       ebs:
<span class='lineno'> 339</span>         delete_on_termination: true
<span class='lineno'> 340</span>     cpu_options:
<span class='lineno'> 341</span>         core_count: 1
<span class='lineno'> 342</span>         threads_per_core: 1
<span class='lineno'> 343</span> 
<span class='lineno'> 344</span> # start an instance and have it begin a Tower callback on boot
<span class='lineno'> 345</span> - ec2_instance:
<span class='lineno'> 346</span>     name: &quot;tower-callback-test&quot;
<span class='lineno'> 347</span>     key_name: &quot;prod-ssh-key&quot;
<span class='lineno'> 348</span>     vpc_subnet_id: subnet-5ca1ab1e
<span class='lineno'> 349</span>     security_group: default
<span class='lineno'> 350</span>     tower_callback:
<span class='lineno'> 351</span>       # IP or hostname of tower server
<span class='lineno'> 352</span>       tower_address: 1.2.3.4
<span class='lineno'> 353</span>       job_template_id: 876
<span class='lineno'> 354</span>       host_config_key: &#39;[secret config key goes here]&#39;
<span class='lineno'> 355</span>     network:
<span class='lineno'> 356</span>       assign_public_ip: true
<span class='lineno'> 357</span>     image_id: ami-123456
<span class='lineno'> 358</span>     cpu_credit_specification: unlimited
<span class='lineno'> 359</span>     tags:
<span class='lineno'> 360</span>       SomeThing: &quot;A value&quot;
<span class='lineno'> 361</span> 
<span class='lineno'> 362</span> # start an instance with ENI (An existing ENI ID is required)
<span class='lineno'> 363</span> - ec2_instance:
<span class='lineno'> 364</span>     name: &quot;public-eni-instance&quot;
<span class='lineno'> 365</span>     key_name: &quot;prod-ssh-key&quot;
<span class='lineno'> 366</span>     vpc_subnet_id: subnet-5ca1ab1e
<span class='lineno'> 367</span>     network:
<span class='lineno'> 368</span>       interfaces:
<span class='lineno'> 369</span>         - id: &quot;eni-12345&quot;
<span class='lineno'> 370</span>     tags:
<span class='lineno'> 371</span>       Env: &quot;eni_on&quot;
<span class='lineno'> 372</span>     volumes:
<span class='lineno'> 373</span>     - device_name: /dev/sda1
<span class='lineno'> 374</span>       ebs:
<span class='lineno'> 375</span>         delete_on_termination: true
<span class='lineno'> 376</span>     instance_type: t2.micro
<span class='lineno'> 377</span>     image_id: ami-123456
<span class='lineno'> 378</span> 
<span class='lineno'> 379</span> # add second ENI interface
<span class='lineno'> 380</span> - ec2_instance:
<span class='lineno'> 381</span>     name: &quot;public-eni-instance&quot;
<span class='lineno'> 382</span>     network:
<span class='lineno'> 383</span>       interfaces:
<span class='lineno'> 384</span>         - id: &quot;eni-12345&quot;
<span class='lineno'> 385</span>         - id: &quot;eni-67890&quot;
<span class='lineno'> 386</span>     image_id: ami-123456
<span class='lineno'> 387</span>     tags:
<span class='lineno'> 388</span>       Env: &quot;eni_on&quot;
<span class='lineno'> 389</span>     instance_type: t2.micro
<span class='lineno'> 390</span> &#39;&#39;&#39;
<span class='lineno'> 391</span> 
<span class='lineno'> 392</span> <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.RETURN', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.RETURN', title='str'>RETURN</a> = &#39;&#39;&#39;
<span class='lineno'> 393</span> instances:
<span class='lineno'> 394</span>     description: a list of ec2 instances
<span class='lineno'> 395</span>     returned: when wait == true
<span class='lineno'> 396</span>     type: complex
<span class='lineno'> 397</span>     contains:
<span class='lineno'> 398</span>         ami_launch_index:
<span class='lineno'> 399</span>             description: The AMI launch index, which can be used to find this instance in the launch group.
<span class='lineno'> 400</span>             returned: always
<span class='lineno'> 401</span>             type: int
<span class='lineno'> 402</span>             sample: 0
<span class='lineno'> 403</span>         architecture:
<span class='lineno'> 404</span>             description: The architecture of the image
<span class='lineno'> 405</span>             returned: always
<span class='lineno'> 406</span>             type: str
<span class='lineno'> 407</span>             sample: x86_64
<span class='lineno'> 408</span>         block_device_mappings:
<span class='lineno'> 409</span>             description: Any block device mapping entries for the instance.
<span class='lineno'> 410</span>             returned: always
<span class='lineno'> 411</span>             type: complex
<span class='lineno'> 412</span>             contains:
<span class='lineno'> 413</span>                 device_name:
<span class='lineno'> 414</span>                     description: The device name exposed to the instance (for example, /dev/sdh or xvdh).
<span class='lineno'> 415</span>                     returned: always
<span class='lineno'> 416</span>                     type: str
<span class='lineno'> 417</span>                     sample: /dev/sdh
<span class='lineno'> 418</span>                 ebs:
<span class='lineno'> 419</span>                     description: Parameters used to automatically set up EBS volumes when the instance is launched.
<span class='lineno'> 420</span>                     returned: always
<span class='lineno'> 421</span>                     type: complex
<span class='lineno'> 422</span>                     contains:
<span class='lineno'> 423</span>                         attach_time:
<span class='lineno'> 424</span>                             description: The time stamp when the attachment initiated.
<span class='lineno'> 425</span>                             returned: always
<span class='lineno'> 426</span>                             type: str
<span class='lineno'> 427</span>                             sample: &quot;2017-03-23T22:51:24+00:00&quot;
<span class='lineno'> 428</span>                         delete_on_termination:
<span class='lineno'> 429</span>                             description: Indicates whether the volume is deleted on instance termination.
<span class='lineno'> 430</span>                             returned: always
<span class='lineno'> 431</span>                             type: bool
<span class='lineno'> 432</span>                             sample: true
<span class='lineno'> 433</span>                         status:
<span class='lineno'> 434</span>                             description: The attachment state.
<span class='lineno'> 435</span>                             returned: always
<span class='lineno'> 436</span>                             type: str
<span class='lineno'> 437</span>                             sample: attached
<span class='lineno'> 438</span>                         volume_id:
<span class='lineno'> 439</span>                             description: The ID of the EBS volume
<span class='lineno'> 440</span>                             returned: always
<span class='lineno'> 441</span>                             type: str
<span class='lineno'> 442</span>                             sample: vol-12345678
<span class='lineno'> 443</span>         client_token:
<span class='lineno'> 444</span>             description: The idempotency token you provided when you launched the instance, if applicable.
<span class='lineno'> 445</span>             returned: always
<span class='lineno'> 446</span>             type: str
<span class='lineno'> 447</span>             sample: mytoken
<span class='lineno'> 448</span>         ebs_optimized:
<span class='lineno'> 449</span>             description: Indicates whether the instance is optimized for EBS I/O.
<span class='lineno'> 450</span>             returned: always
<span class='lineno'> 451</span>             type: bool
<span class='lineno'> 452</span>             sample: false
<span class='lineno'> 453</span>         hypervisor:
<span class='lineno'> 454</span>             description: The hypervisor type of the instance.
<span class='lineno'> 455</span>             returned: always
<span class='lineno'> 456</span>             type: str
<span class='lineno'> 457</span>             sample: xen
<span class='lineno'> 458</span>         iam_instance_profile:
<span class='lineno'> 459</span>             description: The IAM instance profile associated with the instance, if applicable.
<span class='lineno'> 460</span>             returned: always
<span class='lineno'> 461</span>             type: complex
<span class='lineno'> 462</span>             contains:
<span class='lineno'> 463</span>                 arn:
<span class='lineno'> 464</span>                     description: The Amazon Resource Name (ARN) of the instance profile.
<span class='lineno'> 465</span>                     returned: always
<span class='lineno'> 466</span>                     type: str
<span class='lineno'> 467</span>                     sample: &quot;arn:aws:iam::000012345678:instance-profile/myprofile&quot;
<span class='lineno'> 468</span>                 id:
<span class='lineno'> 469</span>                     description: The ID of the instance profile
<span class='lineno'> 470</span>                     returned: always
<span class='lineno'> 471</span>                     type: str
<span class='lineno'> 472</span>                     sample: JFJ397FDG400FG9FD1N
<span class='lineno'> 473</span>         image_id:
<span class='lineno'> 474</span>             description: The ID of the AMI used to launch the instance.
<span class='lineno'> 475</span>             returned: always
<span class='lineno'> 476</span>             type: str
<span class='lineno'> 477</span>             sample: ami-0011223344
<span class='lineno'> 478</span>         instance_id:
<span class='lineno'> 479</span>             description: The ID of the instance.
<span class='lineno'> 480</span>             returned: always
<span class='lineno'> 481</span>             type: str
<span class='lineno'> 482</span>             sample: i-012345678
<span class='lineno'> 483</span>         instance_type:
<span class='lineno'> 484</span>             description: The instance type size of the running instance.
<span class='lineno'> 485</span>             returned: always
<span class='lineno'> 486</span>             type: str
<span class='lineno'> 487</span>             sample: t2.micro
<span class='lineno'> 488</span>         key_name:
<span class='lineno'> 489</span>             description: The name of the key pair, if this instance was launched with an associated key pair.
<span class='lineno'> 490</span>             returned: always
<span class='lineno'> 491</span>             type: str
<span class='lineno'> 492</span>             sample: my-key
<span class='lineno'> 493</span>         launch_time:
<span class='lineno'> 494</span>             description: The time the instance was launched.
<span class='lineno'> 495</span>             returned: always
<span class='lineno'> 496</span>             type: str
<span class='lineno'> 497</span>             sample: &quot;2017-03-23T22:51:24+00:00&quot;
<span class='lineno'> 498</span>         monitoring:
<span class='lineno'> 499</span>             description: The monitoring for the instance.
<span class='lineno'> 500</span>             returned: always
<span class='lineno'> 501</span>             type: complex
<span class='lineno'> 502</span>             contains:
<span class='lineno'> 503</span>                 state:
<span class='lineno'> 504</span>                     description: Indicates whether detailed monitoring is enabled. Otherwise, basic monitoring is enabled.
<span class='lineno'> 505</span>                     returned: always
<span class='lineno'> 506</span>                     type: str
<span class='lineno'> 507</span>                     sample: disabled
<span class='lineno'> 508</span>         network_interfaces:
<span class='lineno'> 509</span>             description: One or more network interfaces for the instance.
<span class='lineno'> 510</span>             returned: always
<span class='lineno'> 511</span>             type: complex
<span class='lineno'> 512</span>             contains:
<span class='lineno'> 513</span>                 association:
<span class='lineno'> 514</span>                     description: The association information for an Elastic IPv4 associated with the network interface.
<span class='lineno'> 515</span>                     returned: always
<span class='lineno'> 516</span>                     type: complex
<span class='lineno'> 517</span>                     contains:
<span class='lineno'> 518</span>                         ip_owner_id:
<span class='lineno'> 519</span>                             description: The ID of the owner of the Elastic IP address.
<span class='lineno'> 520</span>                             returned: always
<span class='lineno'> 521</span>                             type: str
<span class='lineno'> 522</span>                             sample: amazon
<span class='lineno'> 523</span>                         public_dns_name:
<span class='lineno'> 524</span>                             description: The public DNS name.
<span class='lineno'> 525</span>                             returned: always
<span class='lineno'> 526</span>                             type: str
<span class='lineno'> 527</span>                             sample: &quot;&quot;
<span class='lineno'> 528</span>                         public_ip:
<span class='lineno'> 529</span>                             description: The public IP address or Elastic IP address bound to the network interface.
<span class='lineno'> 530</span>                             returned: always
<span class='lineno'> 531</span>                             type: str
<span class='lineno'> 532</span>                             sample: 1.2.3.4
<span class='lineno'> 533</span>                 attachment:
<span class='lineno'> 534</span>                     description: The network interface attachment.
<span class='lineno'> 535</span>                     returned: always
<span class='lineno'> 536</span>                     type: complex
<span class='lineno'> 537</span>                     contains:
<span class='lineno'> 538</span>                         attach_time:
<span class='lineno'> 539</span>                             description: The time stamp when the attachment initiated.
<span class='lineno'> 540</span>                             returned: always
<span class='lineno'> 541</span>                             type: str
<span class='lineno'> 542</span>                             sample: &quot;2017-03-23T22:51:24+00:00&quot;
<span class='lineno'> 543</span>                         attachment_id:
<span class='lineno'> 544</span>                             description: The ID of the network interface attachment.
<span class='lineno'> 545</span>                             returned: always
<span class='lineno'> 546</span>                             type: str
<span class='lineno'> 547</span>                             sample: eni-attach-3aff3f
<span class='lineno'> 548</span>                         delete_on_termination:
<span class='lineno'> 549</span>                             description: Indicates whether the network interface is deleted when the instance is terminated.
<span class='lineno'> 550</span>                             returned: always
<span class='lineno'> 551</span>                             type: bool
<span class='lineno'> 552</span>                             sample: true
<span class='lineno'> 553</span>                         device_index:
<span class='lineno'> 554</span>                             description: The index of the device on the instance for the network interface attachment.
<span class='lineno'> 555</span>                             returned: always
<span class='lineno'> 556</span>                             type: int
<span class='lineno'> 557</span>                             sample: 0
<span class='lineno'> 558</span>                         status:
<span class='lineno'> 559</span>                             description: The attachment state.
<span class='lineno'> 560</span>                             returned: always
<span class='lineno'> 561</span>                             type: str
<span class='lineno'> 562</span>                             sample: attached
<span class='lineno'> 563</span>                 description:
<span class='lineno'> 564</span>                     description: The description.
<span class='lineno'> 565</span>                     returned: always
<span class='lineno'> 566</span>                     type: str
<span class='lineno'> 567</span>                     sample: My interface
<span class='lineno'> 568</span>                 groups:
<span class='lineno'> 569</span>                     description: One or more security groups.
<span class='lineno'> 570</span>                     returned: always
<span class='lineno'> 571</span>                     type: list
<span class='lineno'> 572</span>                     elements: dict
<span class='lineno'> 573</span>                     contains:
<span class='lineno'> 574</span>                         group_id:
<span class='lineno'> 575</span>                             description: The ID of the security group.
<span class='lineno'> 576</span>                             returned: always
<span class='lineno'> 577</span>                             type: str
<span class='lineno'> 578</span>                             sample: sg-abcdef12
<span class='lineno'> 579</span>                         group_name:
<span class='lineno'> 580</span>                             description: The name of the security group.
<span class='lineno'> 581</span>                             returned: always
<span class='lineno'> 582</span>                             type: str
<span class='lineno'> 583</span>                             sample: mygroup
<span class='lineno'> 584</span>                 ipv6_addresses:
<span class='lineno'> 585</span>                     description: One or more IPv6 addresses associated with the network interface.
<span class='lineno'> 586</span>                     returned: always
<span class='lineno'> 587</span>                     type: list
<span class='lineno'> 588</span>                     elements: dict
<span class='lineno'> 589</span>                     contains:
<span class='lineno'> 590</span>                         ipv6_address:
<span class='lineno'> 591</span>                             description: The IPv6 address.
<span class='lineno'> 592</span>                             returned: always
<span class='lineno'> 593</span>                             type: str
<span class='lineno'> 594</span>                             sample: &quot;2001:0db8:85a3:0000:0000:8a2e:0370:7334&quot;
<span class='lineno'> 595</span>                 mac_address:
<span class='lineno'> 596</span>                     description: The MAC address.
<span class='lineno'> 597</span>                     returned: always
<span class='lineno'> 598</span>                     type: str
<span class='lineno'> 599</span>                     sample: &quot;00:11:22:33:44:55&quot;
<span class='lineno'> 600</span>                 network_interface_id:
<span class='lineno'> 601</span>                     description: The ID of the network interface.
<span class='lineno'> 602</span>                     returned: always
<span class='lineno'> 603</span>                     type: str
<span class='lineno'> 604</span>                     sample: eni-01234567
<span class='lineno'> 605</span>                 owner_id:
<span class='lineno'> 606</span>                     description: The AWS account ID of the owner of the network interface.
<span class='lineno'> 607</span>                     returned: always
<span class='lineno'> 608</span>                     type: str
<span class='lineno'> 609</span>                     sample: 01234567890
<span class='lineno'> 610</span>                 private_ip_address:
<span class='lineno'> 611</span>                     description: The IPv4 address of the network interface within the subnet.
<span class='lineno'> 612</span>                     returned: always
<span class='lineno'> 613</span>                     type: str
<span class='lineno'> 614</span>                     sample: 10.0.0.1
<span class='lineno'> 615</span>                 private_ip_addresses:
<span class='lineno'> 616</span>                     description: The private IPv4 addresses associated with the network interface.
<span class='lineno'> 617</span>                     returned: always
<span class='lineno'> 618</span>                     type: list
<span class='lineno'> 619</span>                     elements: dict
<span class='lineno'> 620</span>                     contains:
<span class='lineno'> 621</span>                         association:
<span class='lineno'> 622</span>                             description: The association information for an Elastic IP address (IPv4) associated with the network interface.
<span class='lineno'> 623</span>                             returned: always
<span class='lineno'> 624</span>                             type: complex
<span class='lineno'> 625</span>                             contains:
<span class='lineno'> 626</span>                                 ip_owner_id:
<span class='lineno'> 627</span>                                     description: The ID of the owner of the Elastic IP address.
<span class='lineno'> 628</span>                                     returned: always
<span class='lineno'> 629</span>                                     type: str
<span class='lineno'> 630</span>                                     sample: amazon
<span class='lineno'> 631</span>                                 public_dns_name:
<span class='lineno'> 632</span>                                     description: The public DNS name.
<span class='lineno'> 633</span>                                     returned: always
<span class='lineno'> 634</span>                                     type: str
<span class='lineno'> 635</span>                                     sample: &quot;&quot;
<span class='lineno'> 636</span>                                 public_ip:
<span class='lineno'> 637</span>                                     description: The public IP address or Elastic IP address bound to the network interface.
<span class='lineno'> 638</span>                                     returned: always
<span class='lineno'> 639</span>                                     type: str
<span class='lineno'> 640</span>                                     sample: 1.2.3.4
<span class='lineno'> 641</span>                         primary:
<span class='lineno'> 642</span>                             description: Indicates whether this IPv4 address is the primary private IP address of the network interface.
<span class='lineno'> 643</span>                             returned: always
<span class='lineno'> 644</span>                             type: bool
<span class='lineno'> 645</span>                             sample: true
<span class='lineno'> 646</span>                         private_ip_address:
<span class='lineno'> 647</span>                             description: The private IPv4 address of the network interface.
<span class='lineno'> 648</span>                             returned: always
<span class='lineno'> 649</span>                             type: str
<span class='lineno'> 650</span>                             sample: 10.0.0.1
<span class='lineno'> 651</span>                 source_dest_check:
<span class='lineno'> 652</span>                     description: Indicates whether source/destination checking is enabled.
<span class='lineno'> 653</span>                     returned: always
<span class='lineno'> 654</span>                     type: bool
<span class='lineno'> 655</span>                     sample: true
<span class='lineno'> 656</span>                 status:
<span class='lineno'> 657</span>                     description: The status of the network interface.
<span class='lineno'> 658</span>                     returned: always
<span class='lineno'> 659</span>                     type: str
<span class='lineno'> 660</span>                     sample: in-use
<span class='lineno'> 661</span>                 subnet_id:
<span class='lineno'> 662</span>                     description: The ID of the subnet for the network interface.
<span class='lineno'> 663</span>                     returned: always
<span class='lineno'> 664</span>                     type: str
<span class='lineno'> 665</span>                     sample: subnet-0123456
<span class='lineno'> 666</span>                 vpc_id:
<span class='lineno'> 667</span>                     description: The ID of the VPC for the network interface.
<span class='lineno'> 668</span>                     returned: always
<span class='lineno'> 669</span>                     type: str
<span class='lineno'> 670</span>                     sample: vpc-0123456
<span class='lineno'> 671</span>         placement:
<span class='lineno'> 672</span>             description: The location where the instance launched, if applicable.
<span class='lineno'> 673</span>             returned: always
<span class='lineno'> 674</span>             type: complex
<span class='lineno'> 675</span>             contains:
<span class='lineno'> 676</span>                 availability_zone:
<span class='lineno'> 677</span>                     description: The Availability Zone of the instance.
<span class='lineno'> 678</span>                     returned: always
<span class='lineno'> 679</span>                     type: str
<span class='lineno'> 680</span>                     sample: ap-southeast-2a
<span class='lineno'> 681</span>                 group_name:
<span class='lineno'> 682</span>                     description: The name of the placement group the instance is in (for cluster compute instances).
<span class='lineno'> 683</span>                     returned: always
<span class='lineno'> 684</span>                     type: str
<span class='lineno'> 685</span>                     sample: &quot;&quot;
<span class='lineno'> 686</span>                 tenancy:
<span class='lineno'> 687</span>                     description: The tenancy of the instance (if the instance is running in a VPC).
<span class='lineno'> 688</span>                     returned: always
<span class='lineno'> 689</span>                     type: str
<span class='lineno'> 690</span>                     sample: default
<span class='lineno'> 691</span>         private_dns_name:
<span class='lineno'> 692</span>             description: The private DNS name.
<span class='lineno'> 693</span>             returned: always
<span class='lineno'> 694</span>             type: str
<span class='lineno'> 695</span>             sample: ip-10-0-0-1.ap-southeast-2.compute.internal
<span class='lineno'> 696</span>         private_ip_address:
<span class='lineno'> 697</span>             description: The IPv4 address of the network interface within the subnet.
<span class='lineno'> 698</span>             returned: always
<span class='lineno'> 699</span>             type: str
<span class='lineno'> 700</span>             sample: 10.0.0.1
<span class='lineno'> 701</span>         product_codes:
<span class='lineno'> 702</span>             description: One or more product codes.
<span class='lineno'> 703</span>             returned: always
<span class='lineno'> 704</span>             type: list
<span class='lineno'> 705</span>             elements: dict
<span class='lineno'> 706</span>             contains:
<span class='lineno'> 707</span>                 product_code_id:
<span class='lineno'> 708</span>                     description: The product code.
<span class='lineno'> 709</span>                     returned: always
<span class='lineno'> 710</span>                     type: str
<span class='lineno'> 711</span>                     sample: aw0evgkw8ef3n2498gndfgasdfsd5cce
<span class='lineno'> 712</span>                 product_code_type:
<span class='lineno'> 713</span>                     description: The type of product code.
<span class='lineno'> 714</span>                     returned: always
<span class='lineno'> 715</span>                     type: str
<span class='lineno'> 716</span>                     sample: marketplace
<span class='lineno'> 717</span>         public_dns_name:
<span class='lineno'> 718</span>             description: The public DNS name assigned to the instance.
<span class='lineno'> 719</span>             returned: always
<span class='lineno'> 720</span>             type: str
<span class='lineno'> 721</span>             sample:
<span class='lineno'> 722</span>         public_ip_address:
<span class='lineno'> 723</span>             description: The public IPv4 address assigned to the instance
<span class='lineno'> 724</span>             returned: always
<span class='lineno'> 725</span>             type: str
<span class='lineno'> 726</span>             sample: 52.0.0.1
<span class='lineno'> 727</span>         root_device_name:
<span class='lineno'> 728</span>             description: The device name of the root device
<span class='lineno'> 729</span>             returned: always
<span class='lineno'> 730</span>             type: str
<span class='lineno'> 731</span>             sample: /dev/sda1
<span class='lineno'> 732</span>         root_device_type:
<span class='lineno'> 733</span>             description: The type of root device used by the AMI.
<span class='lineno'> 734</span>             returned: always
<span class='lineno'> 735</span>             type: str
<span class='lineno'> 736</span>             sample: ebs
<span class='lineno'> 737</span>         security_groups:
<span class='lineno'> 738</span>             description: One or more security groups for the instance.
<span class='lineno'> 739</span>             returned: always
<span class='lineno'> 740</span>             type: list
<span class='lineno'> 741</span>             elements: dict
<span class='lineno'> 742</span>             contains:
<span class='lineno'> 743</span>                 group_id:
<span class='lineno'> 744</span>                     description: The ID of the security group.
<span class='lineno'> 745</span>                     returned: always
<span class='lineno'> 746</span>                     type: str
<span class='lineno'> 747</span>                     sample: sg-0123456
<span class='lineno'> 748</span>                 group_name:
<span class='lineno'> 749</span>                     description: The name of the security group.
<span class='lineno'> 750</span>                     returned: always
<span class='lineno'> 751</span>                     type: str
<span class='lineno'> 752</span>                     sample: my-security-group
<span class='lineno'> 753</span>         network.source_dest_check:
<span class='lineno'> 754</span>             description: Indicates whether source/destination checking is enabled.
<span class='lineno'> 755</span>             returned: always
<span class='lineno'> 756</span>             type: bool
<span class='lineno'> 757</span>             sample: true
<span class='lineno'> 758</span>         state:
<span class='lineno'> 759</span>             description: The current state of the instance.
<span class='lineno'> 760</span>             returned: always
<span class='lineno'> 761</span>             type: complex
<span class='lineno'> 762</span>             contains:
<span class='lineno'> 763</span>                 code:
<span class='lineno'> 764</span>                     description: The low byte represents the state.
<span class='lineno'> 765</span>                     returned: always
<span class='lineno'> 766</span>                     type: int
<span class='lineno'> 767</span>                     sample: 16
<span class='lineno'> 768</span>                 name:
<span class='lineno'> 769</span>                     description: The name of the state.
<span class='lineno'> 770</span>                     returned: always
<span class='lineno'> 771</span>                     type: str
<span class='lineno'> 772</span>                     sample: running
<span class='lineno'> 773</span>         state_transition_reason:
<span class='lineno'> 774</span>             description: The reason for the most recent state transition.
<span class='lineno'> 775</span>             returned: always
<span class='lineno'> 776</span>             type: str
<span class='lineno'> 777</span>             sample:
<span class='lineno'> 778</span>         subnet_id:
<span class='lineno'> 779</span>             description: The ID of the subnet in which the instance is running.
<span class='lineno'> 780</span>             returned: always
<span class='lineno'> 781</span>             type: str
<span class='lineno'> 782</span>             sample: subnet-00abcdef
<span class='lineno'> 783</span>         tags:
<span class='lineno'> 784</span>             description: Any tags assigned to the instance.
<span class='lineno'> 785</span>             returned: always
<span class='lineno'> 786</span>             type: dict
<span class='lineno'> 787</span>             sample:
<span class='lineno'> 788</span>         virtualization_type:
<span class='lineno'> 789</span>             description: The type of virtualization of the AMI.
<span class='lineno'> 790</span>             returned: always
<span class='lineno'> 791</span>             type: str
<span class='lineno'> 792</span>             sample: hvm
<span class='lineno'> 793</span>         vpc_id:
<span class='lineno'> 794</span>             description: The ID of the VPC the instance is in.
<span class='lineno'> 795</span>             returned: always
<span class='lineno'> 796</span>             type: dict
<span class='lineno'> 797</span>             sample: vpc-0011223344
<span class='lineno'> 798</span> &#39;&#39;&#39;
<span class='lineno'> 799</span> 
<span class='lineno'> 800</span> import re
<span class='lineno'> 801</span> import uuid
<span class='lineno'> 802</span> import string
<span class='lineno'> 803</span> import textwrap
<span class='lineno'> 804</span> import time
<span class='lineno'> 805</span> from collections import namedtuple
<span class='lineno'> 806</span> 
<span class='lineno'> 807</span> try:
<span class='lineno'> 808</span>     import boto3
<span class='lineno'> 809</span>     import botocore.exceptions
<span class='lineno'> 810</span> except ImportError:
<span class='lineno'> 811</span>     pass  # caught by AnsibleAWSModule
<span class='lineno'> 812</span> 
<span class='lineno'> 813</span> from ansible.module_utils.six import text_type, string_types
<span class='lineno'> 814</span> from ansible.module_utils.six.moves.urllib import parse as urlparse
<span class='lineno'> 815</span> from ansible.module_utils._text import to_bytes, to_native
<span class='lineno'> 816</span> import ansible.module_utils.ec2 as ec2_utils
<span class='lineno'> 817</span> from ansible.module_utils.ec2 import (AWSRetry,
<span class='lineno'> 818</span>                                       ansible_dict_to_boto3_filter_list,
<span class='lineno'> 819</span>                                       compare_aws_tags,
<span class='lineno'> 820</span>                                       boto3_tag_list_to_ansible_dict,
<span class='lineno'> 821</span>                                       ansible_dict_to_boto3_tag_list,
<span class='lineno'> 822</span>                                       camel_dict_to_snake_dict)
<span class='lineno'> 823</span> 
<span class='lineno'> 824</span> from ansible.module_utils.aws.core import AnsibleAWSModule
<span class='lineno'> 825</span> 
<span class='lineno'> 826</span> <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a> = None
<span class='lineno'> 827</span> 
<span class='lineno'> 828</span> 
<span class='lineno'> 829</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script', title='(?, bool, None) -> None'>tower_callback_script</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', title='?'>tower_conf</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.windows', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.windows', title='bool'>windows</a>=False, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.passwd', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.passwd', title='None'>passwd</a>=None):
<span class='lineno'> 830</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_url', title='str'>script_url</a> = &#39;https://raw.githubusercontent.com/ansible/ansible/devel/examples/scripts/ConfigureRemotingForAnsible.ps1&#39;
<span class='lineno'> 831</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.windows', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.windows', title='bool'>windows</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.passwd', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.passwd', title='None'>passwd</a> is not None:
<span class='lineno'> 832</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_tpl', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_tpl', title='str'>script_tpl</a> = &quot;&quot;&quot;&lt;powershell&gt;
<span class='lineno'> 833</span>         $admin = [adsi](&quot;WinNT://./administrator, user&quot;)
<span class='lineno'> 834</span>         $admin.PSBase.Invoke(&quot;SetPassword&quot;, &quot;{PASS}&quot;)
<span class='lineno'> 835</span>         Invoke-Expression ((New-Object System.Net.Webclient).DownloadString(&#39;{SCRIPT}&#39;))
<span class='lineno'> 836</span>         &lt;/powershell&gt;
<span class='lineno'> 837</span>         &quot;&quot;&quot;
<span class='lineno'> 838</span>         return to_native(textwrap.dedent(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_tpl', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_tpl', title='str'>script_tpl</a>).format(PASS=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.passwd', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.passwd', title='None'>passwd</a>, SCRIPT=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_url', title='str'>script_url</a>))
<span class='lineno'> 839</span>     elif <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.windows', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.windows', title='bool'>windows</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.passwd', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.passwd', title='None'>passwd</a> is None:
<span class='lineno'> 840</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_tpl', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_tpl', title='str'>script_tpl</a> = &quot;&quot;&quot;&lt;powershell&gt;
<span class='lineno'> 841</span>         $admin = [adsi](&quot;WinNT://./administrator, user&quot;)
<span class='lineno'> 842</span>         Invoke-Expression ((New-Object System.Net.Webclient).DownloadString(&#39;{SCRIPT}&#39;))
<span class='lineno'> 843</span>         &lt;/powershell&gt;
<span class='lineno'> 844</span>         &quot;&quot;&quot;
<span class='lineno'> 845</span>         return to_native(textwrap.dedent(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_tpl', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_tpl', title='str'>script_tpl</a>).format(PASS=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.passwd', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.passwd', title='None'>passwd</a>, SCRIPT=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.script_url', title='str'>script_url</a>))
<span class='lineno'> 846</span>     elif not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.windows', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.windows', title='bool'>windows</a>:
<span class='lineno'> 847</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.p', title='str'>p</a> in [&#39;tower_address&#39;, &#39;job_template_id&#39;, &#39;host_config_key&#39;]:
<span class='lineno'> 848</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.p', title='str'>p</a> not in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', title='?'>tower_conf</a>:
<span class='lineno'> 849</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(msg=&quot;Incomplete tower_callback configuration. tower_callback.{0} not set.&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.p', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.p', title='str'>p</a>))
<span class='lineno'> 850</span> 
<span class='lineno'> 851</span>         if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', title='?'>tower_conf</a>[&#39;job_template_id&#39;], string_types):
<span class='lineno'> 852</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', title='?'>tower_conf</a>[&#39;job_template_id&#39;] = urlparse.quote(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', title='?'>tower_conf</a>[&#39;job_template_id&#39;])
<span class='lineno'> 853</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tpl', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tpl', title='?'>tpl</a> = string.Template(textwrap.dedent(&quot;&quot;&quot;#!/bin/bash
<span class='lineno'> 854</span>         set -x
<span class='lineno'> 855</span> 
<span class='lineno'> 856</span>         retry_attempts=10
<span class='lineno'> 857</span>         attempt=0
<span class='lineno'> 858</span>         while [[ $attempt -lt $retry_attempts ]]
<span class='lineno'> 859</span>         do
<span class='lineno'> 860</span>           status_code=`curl --max-time 10 -v -k -s -i \
<span class='lineno'> 861</span>             --data &quot;host_config_key=${host_config_key}&quot; \
<span class='lineno'> 862</span>             &#39;https://${tower_address}/api/v2/job_templates/${template_id}/callback/&#39; \
<span class='lineno'> 863</span>             | head -n 1 \
<span class='lineno'> 864</span>             | awk &#39;{print $2}&#39;`
<span class='lineno'> 865</span>           if [[ $status_code == 404 ]]
<span class='lineno'> 866</span>             then
<span class='lineno'> 867</span>             status_code=`curl --max-time 10 -v -k -s -i \
<span class='lineno'> 868</span>               --data &quot;host_config_key=${host_config_key}&quot; \
<span class='lineno'> 869</span>               &#39;https://${tower_address}/api/v1/job_templates/${template_id}/callback/&#39; \
<span class='lineno'> 870</span>               | head -n 1 \
<span class='lineno'> 871</span>               | awk &#39;{print $2}&#39;`
<span class='lineno'> 872</span>             # fall back to using V1 API for Tower 3.1 and below, since v2 API will always 404
<span class='lineno'> 873</span>           fi
<span class='lineno'> 874</span>           if [[ $status_code == 201 ]]
<span class='lineno'> 875</span>             then
<span class='lineno'> 876</span>             exit 0
<span class='lineno'> 877</span>           fi
<span class='lineno'> 878</span>           attempt=$(( attempt + 1 ))
<span class='lineno'> 879</span>           echo &quot;$${status_code} received... retrying in 1 minute. (Attempt $${attempt})&quot;
<span class='lineno'> 880</span>           sleep 60
<span class='lineno'> 881</span>         done
<span class='lineno'> 882</span>         exit 1
<span class='lineno'> 883</span>         &quot;&quot;&quot;))
<span class='lineno'> 884</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tpl', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tpl', title='?'>tpl</a>.safe_substitute(tower_address=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', title='?'>tower_conf</a>[&#39;tower_address&#39;],
<span class='lineno'> 885</span>                                    template_id=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', title='?'>tower_conf</a>[&#39;job_template_id&#39;],
<span class='lineno'> 886</span>                                    host_config_key=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script.tower_conf', title='?'>tower_conf</a>[&#39;host_config_key&#39;])
<span class='lineno'> 887</span>     raise NotImplementedError(&quot;Only windows with remote-prep or non-windows with tower job callback supported so far.&quot;)
<span class='lineno'> 888</span> 
<span class='lineno'> 889</span> 
<span class='lineno'> 890</span> @AWSRetry.jittered_backoff()
<span class='lineno'> 891</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags', title='(?, dict, ?, ?) -> bool'>manage_tags</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.match', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.match', title='?'>match</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.new_tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.new_tags', title='dict'>new_tags</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.purge_tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.purge_tags', title='?'>purge_tags</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.ec2', title='?'>ec2</a>):
<span class='lineno'> 892</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.changed', title='bool'>changed</a> = False
<span class='lineno'> 893</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.old_tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.old_tags', title='?'>old_tags</a> = boto3_tag_list_to_ansible_dict(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.match', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.match', title='?'>match</a>[&#39;Tags&#39;])
<span class='lineno'> 894</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.tags_to_set', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.tags_to_set', title='?'>tags_to_set</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.tags_to_delete', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.tags_to_delete', title='?'>tags_to_delete</a> = compare_aws_tags(
<span class='lineno'> 895</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.old_tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.old_tags', title='?'>old_tags</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.new_tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.new_tags', title='dict'>new_tags</a>,
<span class='lineno'> 896</span>         purge_tags=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.purge_tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.purge_tags', title='?'>purge_tags</a>,
<span class='lineno'> 897</span>     )
<span class='lineno'> 898</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.tags_to_set', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.tags_to_set', title='?'>tags_to_set</a>:
<span class='lineno'> 899</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.ec2', title='?'>ec2</a>.create_tags(
<span class='lineno'> 900</span>             Resources=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.match', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.match', title='?'>match</a>[&#39;InstanceId&#39;]],
<span class='lineno'> 901</span>             Tags=ansible_dict_to_boto3_tag_list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.tags_to_set', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.tags_to_set', title='?'>tags_to_set</a>))
<span class='lineno'> 902</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.changed', title='bool'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.changed', title='bool'>changed</a></a> |= True
<span class='lineno'> 903</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.tags_to_delete', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.tags_to_delete', title='?'>tags_to_delete</a>:
<span class='lineno'> 904</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.delete_with_current_values', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.delete_with_current_values', title='dict'>delete_with_current_values</a> = dict((<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.k', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.k', title='?'>k</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.old_tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.old_tags', title='?'>old_tags</a>.get(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.k', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.k', title='?'>k</a>)) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.k', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.k', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.k', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.k', title='?'>k</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.tags_to_delete', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.tags_to_delete', title='?'>tags_to_delete</a>)
<span class='lineno'> 905</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.ec2', title='?'>ec2</a>.delete_tags(
<span class='lineno'> 906</span>             Resources=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.match', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.match', title='?'>match</a>[&#39;InstanceId&#39;]],
<span class='lineno'> 907</span>             Tags=ansible_dict_to_boto3_tag_list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.delete_with_current_values', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.delete_with_current_values', title='dict'>delete_with_current_values</a>))
<span class='lineno'> 908</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.changed', title='bool'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.changed', title='bool'>changed</a></a> |= True
<span class='lineno'> 909</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags.changed', title='bool'>changed</a>
<span class='lineno'> 910</span> 
<span class='lineno'> 911</span> 
<span class='lineno'> 912</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec', title='? -> [?]'>build_volume_spec</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.params', title='?'>params</a>):
<span class='lineno'> 913</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volumes', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volumes', title='[?]'>volumes</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.params', title='?'>params</a>.get(&#39;volumes&#39;) or []
<span class='lineno'> 914</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volume', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volume', title='?'>volume</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volumes', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volumes', title='[?]'>volumes</a>:
<span class='lineno'> 915</span>         if &#39;ebs&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volume', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volume', title='?'>volume</a>:
<span class='lineno'> 916</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.int_value', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.int_value', title='str'>int_value</a> in [&#39;volume_size&#39;, &#39;iops&#39;]:
<span class='lineno'> 917</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.int_value', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.int_value', title='str'>int_value</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volume', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volume', title='?'>volume</a>[&#39;ebs&#39;]:
<span class='lineno'> 918</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volume', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volume', title='?'>volume</a>[&#39;ebs&#39;][<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.int_value', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.int_value', title='str'>int_value</a>] = int(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volume', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volume', title='?'>volume</a>[&#39;ebs&#39;][<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.int_value', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.int_value', title='str'>int_value</a>])
<span class='lineno'> 919</span>     return [ec2_utils.snake_dict_to_camel_dict(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.v', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.v', title='?'>v</a>, capitalize_first=True) for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.v', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.v', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.v', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.v', title='?'>v</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volumes', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec.volumes', title='[?]'>volumes</a>]
<span class='lineno'> 920</span> 
<span class='lineno'> 921</span> 
<span class='lineno'> 922</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile', title='(?, ?) -> bool'>add_or_update_instance_profile</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance', title='?'>instance</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', title='?'>desired_profile_name</a>):
<span class='lineno'> 923</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance_profile_setting', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance_profile_setting', title='?'>instance_profile_setting</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance', title='?'>instance</a>.get(&#39;IamInstanceProfile&#39;)
<span class='lineno'> 924</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance_profile_setting', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance_profile_setting', title='?'>instance_profile_setting</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', title='?'>desired_profile_name</a>:
<span class='lineno'> 925</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', title='?'>desired_profile_name</a> in (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance_profile_setting', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance_profile_setting', title='?'>instance_profile_setting</a>.get(&#39;Name&#39;), <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance_profile_setting', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance_profile_setting', title='?'>instance_profile_setting</a>.get(&#39;Arn&#39;)):
<span class='lineno'> 926</span>             # great, the profile we asked for is what&#39;s there
<span class='lineno'> 927</span>             return False
<span class='lineno'> 928</span>         else:
<span class='lineno'> 929</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_arn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_arn', title='?'>desired_arn</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role', title='? -> ?'>determine_iam_role</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', title='?'>desired_profile_name</a>)
<span class='lineno'> 930</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance_profile_setting', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance_profile_setting', title='?'>instance_profile_setting</a>.get(&#39;Arn&#39;) == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_arn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_arn', title='?'>desired_arn</a>:
<span class='lineno'> 931</span>                 return False
<span class='lineno'> 932</span>         # update association
<span class='lineno'> 933</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.ec2', title='?'>ec2</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.client(&#39;ec2&#39;)
<span class='lineno'> 934</span>         try:
<span class='lineno'> 935</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.association', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.association', title='?'>association</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.ec2', title='?'>ec2</a>.describe_iam_instance_profile_associations(Filters=[{&#39;Name&#39;: &#39;instance-id&#39;, &#39;Values&#39;: [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance', title='?'>instance</a>[&#39;InstanceId&#39;]]}])
<span class='lineno'> 936</span>         except botocore.exceptions.ClientError as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.e', title='?'>e</a>:
<span class='lineno'> 937</span>             # check for InvalidAssociationID.NotFound
<span class='lineno'> 938</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json_aws(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.e', title='?'>e</a>, &quot;Could not find instance profile association&quot;)
<span class='lineno'> 939</span>         try:
<span class='lineno'> 940</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.resp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.resp', title='?'>resp</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.ec2', title='?'>ec2</a>.replace_iam_instance_profile_association(
<span class='lineno'> 941</span>                 AssociationId=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.association', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.association', title='?'>association</a>[&#39;IamInstanceProfileAssociations&#39;][0][&#39;AssociationId&#39;],
<span class='lineno'> 942</span>                 IamInstanceProfile={&#39;Arn&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role', title='? -> ?'>determine_iam_role</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', title='?'>desired_profile_name</a>)}
<span class='lineno'> 943</span>             )
<span class='lineno'> 944</span>             return True
<span class='lineno'> 945</span>         except botocore.exceptions.ClientError as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.e', title='?'>e</a>:
<span class='lineno'> 946</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json_aws(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.e', title='?'>e</a>, &quot;Could not associate instance profile&quot;)
<span class='lineno'> 947</span> 
<span class='lineno'> 948</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance_profile_setting', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance_profile_setting', title='?'>instance_profile_setting</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', title='?'>desired_profile_name</a>:
<span class='lineno'> 949</span>         # create association
<span class='lineno'> 950</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.ec2', title='?'>ec2</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.client(&#39;ec2&#39;)
<span class='lineno'> 951</span>         try:
<span class='lineno'> 952</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.resp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.resp', title='?'>resp</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.ec2', title='?'>ec2</a>.associate_iam_instance_profile(
<span class='lineno'> 953</span>                 IamInstanceProfile={&#39;Arn&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role', title='? -> ?'>determine_iam_role</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.desired_profile_name', title='?'>desired_profile_name</a>)},
<span class='lineno'> 954</span>                 InstanceId=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.instance', title='?'>instance</a>[&#39;InstanceId&#39;]
<span class='lineno'> 955</span>             )
<span class='lineno'> 956</span>             return True
<span class='lineno'> 957</span>         except botocore.exceptions.ClientError as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.e', title='?'>e</a>:
<span class='lineno'> 958</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json_aws(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile.e', title='?'>e</a>, &quot;Could not associate new instance profile&quot;)
<span class='lineno'> 959</span> 
<span class='lineno'> 960</span>     return False
<span class='lineno'> 961</span> 
<span class='lineno'> 962</span> 
<span class='lineno'> 963</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec', title='(?, None) -> {[dict] | [{dict}]}'>build_network_spec</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', title='?'>params</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.ec2', title='None'>ec2</a>=None):
<span class='lineno'> 964</span>     &quot;&quot;&quot;
<span class='lineno'> 965</span>     Returns list of interfaces [complex]
<span class='lineno'> 966</span>     Interface type: {
<span class='lineno'> 967</span>         &#39;AssociatePublicIpAddress&#39;: True|False,
<span class='lineno'> 968</span>         &#39;DeleteOnTermination&#39;: True|False,
<span class='lineno'> 969</span>         &#39;Description&#39;: &#39;string&#39;,
<span class='lineno'> 970</span>         &#39;DeviceIndex&#39;: 123,
<span class='lineno'> 971</span>         &#39;Groups&#39;: [
<span class='lineno'> 972</span>             &#39;string&#39;,
<span class='lineno'> 973</span>         ],
<span class='lineno'> 974</span>         &#39;Ipv6AddressCount&#39;: 123,
<span class='lineno'> 975</span>         &#39;Ipv6Addresses&#39;: [
<span class='lineno'> 976</span>             {
<span class='lineno'> 977</span>                 &#39;Ipv6Address&#39;: &#39;string&#39;
<span class='lineno'> 978</span>             },
<span class='lineno'> 979</span>         ],
<span class='lineno'> 980</span>         &#39;NetworkInterfaceId&#39;: &#39;string&#39;,
<span class='lineno'> 981</span>         &#39;PrivateIpAddress&#39;: &#39;string&#39;,
<span class='lineno'> 982</span>         &#39;PrivateIpAddresses&#39;: [
<span class='lineno'> 983</span>             {
<span class='lineno'> 984</span>                 &#39;Primary&#39;: True|False,
<span class='lineno'> 985</span>                 &#39;PrivateIpAddress&#39;: &#39;string&#39;
<span class='lineno'> 986</span>             },
<span class='lineno'> 987</span>         ],
<span class='lineno'> 988</span>         &#39;SecondaryPrivateIpAddressCount&#39;: 123,
<span class='lineno'> 989</span>         &#39;SubnetId&#39;: &#39;string&#39;
<span class='lineno'> 990</span>     },
<span class='lineno'> 991</span>     &quot;&quot;&quot;
<span class='lineno'> 992</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.ec2', title='None'>ec2</a> is None:
<span class='lineno'> 993</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.ec2', title='?'>ec2</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.client(&#39;ec2&#39;)
<span class='lineno'> 994</span> 
<span class='lineno'> 995</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interfaces', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interfaces', title='[{dict}]'>interfaces</a> = []
<span class='lineno'> 996</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', title='dict'>network</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', title='?'>params</a>.get(&#39;network&#39;) or {}
<span class='lineno'> 997</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', title='dict'>network</a>.get(&#39;interfaces&#39;):
<span class='lineno'> 998</span>         # they only specified one interface
<span class='lineno'> 999</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a> = {
<span class='lineno'>1000</span>             &#39;DeviceIndex&#39;: 0,
<span class='lineno'>1001</span>         }
<span class='lineno'>1002</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', title='dict'>network</a>.get(&#39;assign_public_ip&#39;) is not None:
<span class='lineno'>1003</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>[&#39;AssociatePublicIpAddress&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', title='dict'>network</a>[&#39;assign_public_ip&#39;]
<span class='lineno'>1004</span> 
<span class='lineno'>1005</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', title='?'>params</a>.get(&#39;vpc_subnet_id&#39;):
<span class='lineno'>1006</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>[&#39;SubnetId&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', title='?'>params</a>[&#39;vpc_subnet_id&#39;]
<span class='lineno'>1007</span>         else:
<span class='lineno'>1008</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.default_vpc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.default_vpc', title='None'>default_vpc</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc', title='None -> None / ? -> None'>get_default_vpc</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.ec2', title='None'>ec2</a>)
<span class='lineno'>1009</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.default_vpc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.default_vpc', title='None'>default_vpc</a> is None:
<span class='lineno'>1010</span>                 raise module.fail_json(
<span class='lineno'>1011</span>                     msg=&quot;No default subnet could be found - you must include a VPC subnet ID (vpc_subnet_id parameter) to create an instance&quot;)
<span class='lineno'>1012</span>             else:
<span class='lineno'>1013</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.sub', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.sub', title='None'>sub</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet', title='(None, None, None) -> None / (?, None, None) -> None'>get_default_subnet</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.ec2', title='None'>ec2</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.default_vpc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.default_vpc', title='None'>default_vpc</a>)
<span class='lineno'>1014</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>[&#39;SubnetId&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.sub', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.sub', title='None'>sub</a>[&#39;SubnetId&#39;]
<span class='lineno'>1015</span> 
<span class='lineno'>1016</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', title='dict'>network</a>.get(&#39;private_ip_address&#39;):
<span class='lineno'>1017</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>[&#39;PrivateIpAddress&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', title='dict'>network</a>[&#39;private_ip_address&#39;]
<span class='lineno'>1018</span> 
<span class='lineno'>1019</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', title='?'>params</a>.get(&#39;security_group&#39;) or <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', title='?'>params</a>.get(&#39;security_groups&#39;):
<span class='lineno'>1020</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.groups', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.groups', title='list'>groups</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups', title='(?, ?, None, None, None) -> list'>discover_security_groups</a>(
<span class='lineno'>1021</span>                 group=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', title='?'>params</a>.get(&#39;security_group&#39;),
<span class='lineno'>1022</span>                 groups=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', title='?'>params</a>.get(&#39;security_groups&#39;),
<span class='lineno'>1023</span>                 subnet_id=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>[&#39;SubnetId&#39;],
<span class='lineno'>1024</span>                 ec2=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.ec2', title='None'>ec2</a>
<span class='lineno'>1025</span>             )
<span class='lineno'>1026</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>[&#39;Groups&#39;] = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.g', title='<list>'>g</a>[&#39;GroupId&#39;] for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.g', title='<list>'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.g', title='<list>'>g</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.groups', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.groups', title='list'>groups</a>]
<span class='lineno'>1027</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', title='dict'>network</a>.get(&#39;description&#39;) is not None:
<span class='lineno'>1028</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>[&#39;Description&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', title='dict'>network</a>[&#39;description&#39;]
<span class='lineno'>1029</span>         # TODO more special snowflake network things
<span class='lineno'>1030</span> 
<span class='lineno'>1031</span>         return [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>]
<span class='lineno'>1032</span> 
<span class='lineno'>1033</span>     # handle list of `network.interfaces` options
<span class='lineno'>1034</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.idx', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.idx', title='?'>idx</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='?'>interface_params</a> in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.network', title='dict'>network</a>.get(&#39;interfaces&#39;, [])):
<span class='lineno'>1035</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a> = {
<span class='lineno'>1036</span>             &#39;DeviceIndex&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.idx', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.idx', title='?'>idx</a>,
<span class='lineno'>1037</span>         }
<span class='lineno'>1038</span> 
<span class='lineno'>1039</span>         if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='?'>interface_params</a></a>, string_types):
<span class='lineno'>1040</span>             # naive case where user gave
<span class='lineno'>1041</span>             # network_interfaces: [eni-1234, eni-4567, ....]
<span class='lineno'>1042</span>             # put into normal data structure so we don&#39;t dupe code
<span class='lineno'>1043</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'>interface_params</a> = {&#39;id&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='?'>interface_params</a>}
<span class='lineno'>1044</span> 
<span class='lineno'>1045</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'>interface_params</a>.get(&#39;id&#39;) is not None:
<span class='lineno'>1046</span>             # if an ID is provided, we don&#39;t want to set any other parameters.
<span class='lineno'>1047</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>[&#39;NetworkInterfaceId&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'>interface_params</a>[&#39;id&#39;]
<span class='lineno'>1048</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interfaces', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interfaces', title='[{dict}]'>interfaces</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>)
<span class='lineno'>1049</span>             continue
<span class='lineno'>1050</span> 
<span class='lineno'>1051</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>[&#39;DeleteOnTermination&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'>interface_params</a>.get(&#39;delete_on_termination&#39;, True)
<span class='lineno'>1052</span> 
<span class='lineno'>1053</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'>interface_params</a>.get(&#39;ipv6_addresses&#39;):
<span class='lineno'>1054</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>[&#39;Ipv6Addresses&#39;] = [{&#39;Ipv6Address&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.a', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.a', title='?'>a</a>} for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.a', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.a', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.a', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.a', title='?'>a</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'>interface_params</a>.get(&#39;ipv6_addresses&#39;, [])]
<span class='lineno'>1055</span> 
<span class='lineno'>1056</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'>interface_params</a>.get(&#39;private_ip_address&#39;):
<span class='lineno'>1057</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>[&#39;PrivateIpAddress&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'>interface_params</a>.get(&#39;private_ip_address&#39;)
<span class='lineno'>1058</span> 
<span class='lineno'>1059</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'>interface_params</a>.get(&#39;description&#39;):
<span class='lineno'>1060</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>[&#39;Description&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'>interface_params</a>.get(&#39;description&#39;)
<span class='lineno'>1061</span> 
<span class='lineno'>1062</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'>interface_params</a>.get(&#39;subnet_id&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', title='?'>params</a>.get(&#39;vpc_subnet_id&#39;)):
<span class='lineno'>1063</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>[&#39;SubnetId&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'>interface_params</a>.get(&#39;subnet_id&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.params', title='?'>params</a>.get(&#39;vpc_subnet_id&#39;))
<span class='lineno'>1064</span>         elif not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>.get(&#39;SubnetId&#39;) and not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interface_params', title='dict'>interface_params</a>[&#39;id&#39;]:
<span class='lineno'>1065</span>             # TODO grab a subnet from default VPC
<span class='lineno'>1066</span>             raise ValueError(&#39;Failed to assign subnet to interface {0}&#39;.format(interface_params))
<span class='lineno'>1067</span> 
<span class='lineno'>1068</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interfaces', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interfaces', title='[{dict}]'>interfaces</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.spec', title='dict'>spec</a>)
<span class='lineno'>1069</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interfaces', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec.interfaces', title='[{dict}]'>interfaces</a>
<span class='lineno'>1070</span> 
<span class='lineno'>1071</span> 
<span class='lineno'>1072</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed', title='? -> None'>warn_if_public_ip_assignment_changed</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.instance', title='?'>instance</a>):
<span class='lineno'>1073</span>     # This is a non-modifiable attribute.
<span class='lineno'>1074</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.assign_public_ip', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.assign_public_ip', title='?'>assign_public_ip</a> = (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;network&#39;) or {}).get(&#39;assign_public_ip&#39;)
<span class='lineno'>1075</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.assign_public_ip', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.assign_public_ip', title='?'>assign_public_ip</a> is None:
<span class='lineno'>1076</span>         return
<span class='lineno'>1077</span> 
<span class='lineno'>1078</span>     # Check that public ip assignment is the same and warn if not
<span class='lineno'>1079</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.public_dns_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.public_dns_name', title='?'>public_dns_name</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.instance', title='?'>instance</a>.get(&#39;PublicDnsName&#39;)
<span class='lineno'>1080</span>     if (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.public_dns_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.public_dns_name', title='?'>public_dns_name</a> and not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.assign_public_ip', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.assign_public_ip', title='?'>assign_public_ip</a>) or (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.assign_public_ip', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.assign_public_ip', title='?'>assign_public_ip</a> and not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.public_dns_name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.public_dns_name', title='?'>public_dns_name</a>):
<span class='lineno'>1081</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.warn(
<span class='lineno'>1082</span>             &quot;Unable to modify public ip assignment to {0} for instance {1}. &quot;
<span class='lineno'>1083</span>             &quot;Whether or not to assign a public IP is determined during instance creation.&quot;.format(
<span class='lineno'>1084</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.assign_public_ip', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.assign_public_ip', title='?'>assign_public_ip</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed.instance', title='?'>instance</a>[&#39;InstanceId&#39;]))
<span class='lineno'>1085</span> 
<span class='lineno'>1086</span> 
<span class='lineno'>1087</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed', title='? -> None'>warn_if_cpu_options_changed</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.instance', title='?'>instance</a>):
<span class='lineno'>1088</span>     # This is a non-modifiable attribute.
<span class='lineno'>1089</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.cpu_options', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.cpu_options', title='?'>cpu_options</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;cpu_options&#39;)
<span class='lineno'>1090</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.cpu_options', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.cpu_options', title='?'>cpu_options</a> is None:
<span class='lineno'>1091</span>         return
<span class='lineno'>1092</span> 
<span class='lineno'>1093</span>     # Check that the CpuOptions set are the same and warn if not
<span class='lineno'>1094</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.core_count_curr', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.core_count_curr', title='?'>core_count_curr</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.instance', title='?'>instance</a>[&#39;CpuOptions&#39;].get(&#39;CoreCount&#39;)
<span class='lineno'>1095</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.core_count', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.core_count', title='?'>core_count</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.cpu_options', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.cpu_options', title='?'>cpu_options</a>.get(&#39;core_count&#39;)
<span class='lineno'>1096</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.threads_per_core_curr', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.threads_per_core_curr', title='?'>threads_per_core_curr</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.instance', title='?'>instance</a>[&#39;CpuOptions&#39;].get(&#39;ThreadsPerCore&#39;)
<span class='lineno'>1097</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.threads_per_core', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.threads_per_core', title='?'>threads_per_core</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.cpu_options', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.cpu_options', title='?'>cpu_options</a>.get(&#39;threads_per_core&#39;)
<span class='lineno'>1098</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.core_count_curr', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.core_count_curr', title='?'>core_count_curr</a> != <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.core_count', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.core_count', title='?'>core_count</a>:
<span class='lineno'>1099</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.warn(
<span class='lineno'>1100</span>             &quot;Unable to modify core_count from {0} to {1}. &quot;
<span class='lineno'>1101</span>             &quot;Assigning a number of core is determinted during instance creation&quot;.format(
<span class='lineno'>1102</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.core_count_curr', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.core_count_curr', title='?'>core_count_curr</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.core_count', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.core_count', title='?'>core_count</a>))
<span class='lineno'>1103</span> 
<span class='lineno'>1104</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.threads_per_core_curr', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.threads_per_core_curr', title='?'>threads_per_core_curr</a> != <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.threads_per_core', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.threads_per_core', title='?'>threads_per_core</a>:
<span class='lineno'>1105</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.warn(
<span class='lineno'>1106</span>             &quot;Unable to modify threads_per_core from {0} to {1}. &quot;
<span class='lineno'>1107</span>             &quot;Assigning a number of threads per core is determined during instance creation.&quot;.format(
<span class='lineno'>1108</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.threads_per_core_curr', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.threads_per_core_curr', title='?'>threads_per_core_curr</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.threads_per_core', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed.threads_per_core', title='?'>threads_per_core</a>))
<span class='lineno'>1109</span> 
<span class='lineno'>1110</span> 
<span class='lineno'>1111</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups', title='(?, ?, None, None, None) -> list'>discover_security_groups</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.group', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.group', title='?'>group</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.groups', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.groups', title='?'>groups</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.parent_vpc_id', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.parent_vpc_id', title='None'>parent_vpc_id</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.subnet_id', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.subnet_id', title='None'>subnet_id</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.ec2', title='None'>ec2</a>=None):
<span class='lineno'>1112</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.ec2', title='None'>ec2</a> is None:
<span class='lineno'>1113</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.ec2', title='?'>ec2</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.client(&#39;ec2&#39;)
<span class='lineno'>1114</span> 
<span class='lineno'>1115</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.subnet_id', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.subnet_id', title='None'>subnet_id</a> is not None:
<span class='lineno'>1116</span>         try:
<span class='lineno'>1117</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.sub', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.sub', title='?'>sub</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.ec2', title='None'>ec2</a>.describe_subnets(SubnetIds=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.subnet_id', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.subnet_id', title='None'>subnet_id</a>])
<span class='lineno'>1118</span>         except botocore.exceptions.ClientError as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.e', title='?'>e</a>:
<span class='lineno'>1119</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.e', title='?'>e</a>.response[&#39;Error&#39;][&#39;Code&#39;] == &#39;InvalidGroup.NotFound&#39;:
<span class='lineno'>1120</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(
<span class='lineno'>1121</span>                     &quot;Could not find subnet {0} to associate security groups. Please check the vpc_subnet_id and security_groups parameters.&quot;.format(
<span class='lineno'>1122</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.subnet_id', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.subnet_id', title='None'>subnet_id</a>
<span class='lineno'>1123</span>                     )
<span class='lineno'>1124</span>                 )
<span class='lineno'>1125</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json_aws(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.e', title='?'>e</a>, msg=&quot;Error while searching for subnet {0} parent VPC.&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.subnet_id', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.subnet_id', title='None'>subnet_id</a>))
<span class='lineno'>1126</span>         except botocore.exceptions.BotoCoreError as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.e', title='?'>e</a>:
<span class='lineno'>1127</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json_aws(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.e', title='?'>e</a>, msg=&quot;Error while searching for subnet {0} parent VPC.&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.subnet_id', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.subnet_id', title='None'>subnet_id</a>))
<span class='lineno'>1128</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.parent_vpc_id', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.parent_vpc_id', title='?'>parent_vpc_id</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.sub', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.sub', title='?'>sub</a>[&#39;Subnets&#39;][0][&#39;VpcId&#39;]
<span class='lineno'>1129</span> 
<span class='lineno'>1130</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.vpc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.vpc', title='dict'>vpc</a> = {
<span class='lineno'>1131</span>         &#39;Name&#39;: &#39;vpc-id&#39;,
<span class='lineno'>1132</span>         &#39;Values&#39;: [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.parent_vpc_id', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.parent_vpc_id', title='None'>parent_vpc_id</a>]
<span class='lineno'>1133</span>     }
<span class='lineno'>1134</span> 
<span class='lineno'>1135</span>     # because filter lists are AND in the security groups API,
<span class='lineno'>1136</span>     # make two separate requests for groups by ID and by name
<span class='lineno'>1137</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.id_filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.id_filters', title='[{dict | dict}]'>id_filters</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.vpc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.vpc', title='dict'>vpc</a>]
<span class='lineno'>1138</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.name_filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.name_filters', title='[{dict | dict}]'>name_filters</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.vpc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.vpc', title='dict'>vpc</a>]
<span class='lineno'>1139</span> 
<span class='lineno'>1140</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.group', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.group', title='?'>group</a>:
<span class='lineno'>1141</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.name_filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.name_filters', title='[{dict | dict}]'>name_filters</a>.append(
<span class='lineno'>1142</span>             dict(
<span class='lineno'>1143</span>                 Name=&#39;group-name&#39;,
<span class='lineno'>1144</span>                 Values=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.group', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.group', title='?'>group</a>]
<span class='lineno'>1145</span>             )
<span class='lineno'>1146</span>         )
<span class='lineno'>1147</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.group', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.group', title='?'>group</a>.startswith(&#39;sg-&#39;):
<span class='lineno'>1148</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.id_filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.id_filters', title='[{dict | dict}]'>id_filters</a>.append(
<span class='lineno'>1149</span>                 dict(
<span class='lineno'>1150</span>                     Name=&#39;group-id&#39;,
<span class='lineno'>1151</span>                     Values=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.group', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.group', title='?'>group</a>]
<span class='lineno'>1152</span>                 )
<span class='lineno'>1153</span>             )
<span class='lineno'>1154</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.groups', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.groups', title='?'>groups</a>:
<span class='lineno'>1155</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.name_filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.name_filters', title='[{dict | dict}]'>name_filters</a>.append(
<span class='lineno'>1156</span>             dict(
<span class='lineno'>1157</span>                 Name=&#39;group-name&#39;,
<span class='lineno'>1158</span>                 Values=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.groups', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.groups', title='?'>groups</a>
<span class='lineno'>1159</span>             )
<span class='lineno'>1160</span>         )
<span class='lineno'>1161</span>         if [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', title='?'>g</a> for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', title='?'>g</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.groups', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.groups', title='?'>groups</a> if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', title='?'>g</a>.startswith(&#39;sg-&#39;)]:
<span class='lineno'>1162</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.id_filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.id_filters', title='[{dict | dict}]'>id_filters</a>.append(
<span class='lineno'>1163</span>                 dict(
<span class='lineno'>1164</span>                     Name=&#39;group-id&#39;,
<span class='lineno'>1165</span>                     Values=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', title='?'>g</a> for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', title='?'>g</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.groups', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.groups', title='?'>groups</a> if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', title='?'>g</a>.startswith(&#39;sg-&#39;)]
<span class='lineno'>1166</span>                 )
<span class='lineno'>1167</span>             )
<span class='lineno'>1168</span> 
<span class='lineno'>1169</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.found_groups', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.found_groups', title='[?]'>found_groups</a> = []
<span class='lineno'>1170</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.f_set', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.f_set', title='[{dict | dict}]'>f_set</a> in (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.id_filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.id_filters', title='[{dict | dict}]'>id_filters</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.name_filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.name_filters', title='[{dict | dict}]'>name_filters</a>):
<span class='lineno'>1171</span>         if len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.f_set', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.f_set', title='[{dict | dict}]'>f_set</a>) &gt; 1:
<span class='lineno'>1172</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.found_groups', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.found_groups', title='[?]'>found_groups</a>.extend(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.ec2', title='None'>ec2</a>.get_paginator(
<span class='lineno'>1173</span>                 &#39;describe_security_groups&#39;
<span class='lineno'>1174</span>             ).paginate(
<span class='lineno'>1175</span>                 Filters=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.f_set', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.f_set', title='[{dict | dict}]'>f_set</a>
<span class='lineno'>1176</span>             ).search(&#39;SecurityGroups[]&#39;))
<span class='lineno'>1177</span>     return list(dict((<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', title='?'>g</a>[&#39;GroupId&#39;], <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', title='?'>g</a>) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.g', title='?'>g</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.found_groups', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.discover_security_groups.found_groups', title='[?]'>found_groups</a>).values())
<span class='lineno'>1178</span> 
<span class='lineno'>1179</span> 
<span class='lineno'>1180</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options', title='? -> dict'>build_top_level_options</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>):
<span class='lineno'>1181</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a> = {}
<span class='lineno'>1182</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;image_id&#39;):
<span class='lineno'>1183</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;ImageId&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>[&#39;image_id&#39;]
<span class='lineno'>1184</span>     elif isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;image&#39;), dict):
<span class='lineno'>1185</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.image', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.image', title='?'>image</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;image&#39;, {})
<span class='lineno'>1186</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;ImageId&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.image', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.image', title='?'>image</a>.get(&#39;id&#39;)
<span class='lineno'>1187</span>         if &#39;ramdisk&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.image', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.image', title='?'>image</a>:
<span class='lineno'>1188</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;RamdiskId&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.image', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.image', title='?'>image</a>[&#39;ramdisk&#39;]
<span class='lineno'>1189</span>         if &#39;kernel&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.image', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.image', title='?'>image</a>:
<span class='lineno'>1190</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;KernelId&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.image', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.image', title='?'>image</a>[&#39;kernel&#39;]
<span class='lineno'>1191</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>.get(&#39;ImageId&#39;) and not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;launch_template&#39;):
<span class='lineno'>1192</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(msg=&quot;You must include an image_id or image.id parameter to create an instance, or use a launch_template.&quot;)
<span class='lineno'>1193</span> 
<span class='lineno'>1194</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;key_name&#39;) is not None:
<span class='lineno'>1195</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;KeyName&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;key_name&#39;)
<span class='lineno'>1196</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;user_data&#39;) is not None:
<span class='lineno'>1197</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;UserData&#39;] = to_native(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;user_data&#39;))
<span class='lineno'>1198</span>     elif <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;tower_callback&#39;) is not None:
<span class='lineno'>1199</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;UserData&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.tower_callback_script', title='(?, bool, None) -> None'>tower_callback_script</a>(
<span class='lineno'>1200</span>             tower_conf=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;tower_callback&#39;),
<span class='lineno'>1201</span>             windows=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;tower_callback&#39;).get(&#39;windows&#39;, False),
<span class='lineno'>1202</span>             passwd=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;tower_callback&#39;).get(&#39;set_password&#39;),
<span class='lineno'>1203</span>         )
<span class='lineno'>1204</span> 
<span class='lineno'>1205</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;launch_template&#39;) is not None:
<span class='lineno'>1206</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;LaunchTemplate&#39;] = {}
<span class='lineno'>1207</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;launch_template&#39;).get(&#39;id&#39;) or <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;launch_template&#39;).get(&#39;name&#39;):
<span class='lineno'>1208</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(msg=&quot;Could not create instance with launch template. Either launch_template.name or launch_template.id parameters are required&quot;)
<span class='lineno'>1209</span> 
<span class='lineno'>1210</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;launch_template&#39;).get(&#39;id&#39;) is not None:
<span class='lineno'>1211</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;LaunchTemplate&#39;][&#39;LaunchTemplateId&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;launch_template&#39;).get(&#39;id&#39;)
<span class='lineno'>1212</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;launch_template&#39;).get(&#39;name&#39;) is not None:
<span class='lineno'>1213</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;LaunchTemplate&#39;][&#39;LaunchTemplateName&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;launch_template&#39;).get(&#39;name&#39;)
<span class='lineno'>1214</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;launch_template&#39;).get(&#39;version&#39;) is not None:
<span class='lineno'>1215</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;LaunchTemplate&#39;][&#39;Version&#39;] = to_native(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;launch_template&#39;).get(&#39;version&#39;))
<span class='lineno'>1216</span> 
<span class='lineno'>1217</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;detailed_monitoring&#39;, False):
<span class='lineno'>1218</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;Monitoring&#39;] = {&#39;Enabled&#39;: True}
<span class='lineno'>1219</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;cpu_credit_specification&#39;) is not None:
<span class='lineno'>1220</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;CreditSpecification&#39;] = {&#39;CpuCredits&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;cpu_credit_specification&#39;)}
<span class='lineno'>1221</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;tenancy&#39;) is not None:
<span class='lineno'>1222</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;Placement&#39;] = {&#39;Tenancy&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;tenancy&#39;)}
<span class='lineno'>1223</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;placement_group&#39;):
<span class='lineno'>1224</span>         if &#39;Placement&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>:
<span class='lineno'>1225</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;Placement&#39;][&#39;GroupName&#39;] = str(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;placement_group&#39;))
<span class='lineno'>1226</span>         else:
<span class='lineno'>1227</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>.setdefault(&#39;Placement&#39;, {&#39;GroupName&#39;: str(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;placement_group&#39;))})
<span class='lineno'>1228</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;ebs_optimized&#39;) is not None:
<span class='lineno'>1229</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;EbsOptimized&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;ebs_optimized&#39;)
<span class='lineno'>1230</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;instance_initiated_shutdown_behavior&#39;):
<span class='lineno'>1231</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;InstanceInitiatedShutdownBehavior&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;instance_initiated_shutdown_behavior&#39;)
<span class='lineno'>1232</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;termination_protection&#39;) is not None:
<span class='lineno'>1233</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;DisableApiTermination&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;termination_protection&#39;)
<span class='lineno'>1234</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;cpu_options&#39;) is not None:
<span class='lineno'>1235</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;CpuOptions&#39;] = {}
<span class='lineno'>1236</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;CpuOptions&#39;][&#39;ThreadsPerCore&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;cpu_options&#39;).get(&#39;threads_per_core&#39;)
<span class='lineno'>1237</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>[&#39;CpuOptions&#39;][&#39;CoreCount&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.params', title='?'>params</a>.get(&#39;cpu_options&#39;).get(&#39;core_count&#39;)
<span class='lineno'>1238</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_top_level_options.spec', title='dict'>spec</a>
<span class='lineno'>1239</span> 
<span class='lineno'>1240</span> 
<span class='lineno'>1241</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags', title='(?, bool) -> [dict]'>build_instance_tags</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.params', title='?'>params</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.propagate_tags_to_volumes', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.propagate_tags_to_volumes', title='bool'>propagate_tags_to_volumes</a>=True):
<span class='lineno'>1242</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.tags', title='?'>tags</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.params', title='?'>params</a>.get(&#39;tags&#39;, {})
<span class='lineno'>1243</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.params', title='?'>params</a>.get(&#39;name&#39;) is not None:
<span class='lineno'>1244</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.tags', title='?'>tags</a> is None:
<span class='lineno'>1245</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.tags', title='dict'>tags</a> = {}
<span class='lineno'>1246</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.tags', title='dict'>tags</a>[&#39;Name&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.params', title='?'>params</a>.get(&#39;name&#39;)
<span class='lineno'>1247</span>     return [
<span class='lineno'>1248</span>         {
<span class='lineno'>1249</span>             &#39;ResourceType&#39;: &#39;volume&#39;,
<span class='lineno'>1250</span>             &#39;Tags&#39;: ansible_dict_to_boto3_tag_list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.tags', title='dict'>tags</a>),
<span class='lineno'>1251</span>         },
<span class='lineno'>1252</span>         {
<span class='lineno'>1253</span>             &#39;ResourceType&#39;: &#39;instance&#39;,
<span class='lineno'>1254</span>             &#39;Tags&#39;: ansible_dict_to_boto3_tag_list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags.tags', title='dict'>tags</a>),
<span class='lineno'>1255</span>         },
<span class='lineno'>1256</span>     ]
<span class='lineno'>1257</span> 
<span class='lineno'>1258</span> 
<span class='lineno'>1259</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec', title='(?, None) -> dict'>build_run_instance_spec</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', title='?'>params</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.ec2', title='None'>ec2</a>=None):
<span class='lineno'>1260</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.ec2', title='None'>ec2</a> is None:
<span class='lineno'>1261</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.ec2', title='?'>ec2</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.client(&#39;ec2&#39;)
<span class='lineno'>1262</span> 
<span class='lineno'>1263</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', title='dict'>spec</a> = dict(
<span class='lineno'>1264</span>         ClientToken=uuid.uuid4().hex,
<span class='lineno'>1265</span>         MaxCount=1,
<span class='lineno'>1266</span>         MinCount=1,
<span class='lineno'>1267</span>     )
<span class='lineno'>1268</span>     # network parameters
<span class='lineno'>1269</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', title='dict'>spec</a>[&#39;NetworkInterfaces&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_network_spec', title='(?, None) -> {[dict] | [{dict}]}'>build_network_spec</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', title='?'>params</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.ec2', title='None'>ec2</a>)
<span class='lineno'>1270</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', title='dict'>spec</a>[&#39;BlockDeviceMappings&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_volume_spec', title='? -> [?]'>build_volume_spec</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', title='?'>params</a>)
<span class='lineno'>1271</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', title='dict'>spec</a>.update(**build_top_level_options(params))
<span class='lineno'>1272</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', title='dict'>spec</a>[&#39;TagSpecifications&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_instance_tags', title='(?, bool) -> [dict]'>build_instance_tags</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', title='?'>params</a>)
<span class='lineno'>1273</span> 
<span class='lineno'>1274</span>     # IAM profile
<span class='lineno'>1275</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', title='?'>params</a>.get(&#39;instance_role&#39;):
<span class='lineno'>1276</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', title='dict'>spec</a>[&#39;IamInstanceProfile&#39;] = dict(Arn=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role', title='? -> ?'>determine_iam_role</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', title='?'>params</a>.get(&#39;instance_role&#39;)))
<span class='lineno'>1277</span> 
<span class='lineno'>1278</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', title='dict'>spec</a>[&#39;InstanceType&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.params', title='?'>params</a>[&#39;instance_type&#39;]
<span class='lineno'>1279</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec.spec', title='dict'>spec</a>
<span class='lineno'>1280</span> 
<span class='lineno'>1281</span> 
<span class='lineno'>1282</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances', title='([?], str) -> ? / (list, str) -> ?'>await_instances</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.ids', title='{[?] | list}'>ids</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state', title='str'>state</a>=&#39;OK&#39;):
<span class='lineno'>1283</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;wait&#39;, True):
<span class='lineno'>1284</span>         # the user asked not to wait for anything
<span class='lineno'>1285</span>         return
<span class='lineno'>1286</span> 
<span class='lineno'>1287</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.check_mode:
<span class='lineno'>1288</span>         # In check mode, there is no change even if you wait.
<span class='lineno'>1289</span>         return
<span class='lineno'>1290</span> 
<span class='lineno'>1291</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state_opts', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state_opts', title='dict'>state_opts</a> = {
<span class='lineno'>1292</span>         &#39;OK&#39;: &#39;instance_status_ok&#39;,
<span class='lineno'>1293</span>         &#39;STOPPED&#39;: &#39;instance_stopped&#39;,
<span class='lineno'>1294</span>         &#39;TERMINATED&#39;: &#39;instance_terminated&#39;,
<span class='lineno'>1295</span>         &#39;EXISTS&#39;: &#39;instance_exists&#39;,
<span class='lineno'>1296</span>         &#39;RUNNING&#39;: &#39;instance_running&#39;,
<span class='lineno'>1297</span>     }
<span class='lineno'>1298</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state', title='str'>state</a> not in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state_opts', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state_opts', title='dict'>state_opts</a>:
<span class='lineno'>1299</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(msg=&quot;Cannot wait for state {0}, invalid state&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state', title='str'>state</a>))
<span class='lineno'>1300</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.waiter', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.waiter', title='?'>waiter</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.client(&#39;ec2&#39;).get_waiter(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state_opts', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state_opts', title='dict'>state_opts</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state', title='str'>state</a>])
<span class='lineno'>1301</span>     try:
<span class='lineno'>1302</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.waiter', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.waiter', title='?'>waiter</a>.wait(
<span class='lineno'>1303</span>             InstanceIds=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.ids', title='{[?] | list}'>ids</a>,
<span class='lineno'>1304</span>             WaiterConfig={
<span class='lineno'>1305</span>                 &#39;Delay&#39;: 15,
<span class='lineno'>1306</span>                 &#39;MaxAttempts&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;wait_timeout&#39;, 600) // 15,
<span class='lineno'>1307</span>             }
<span class='lineno'>1308</span>         )
<span class='lineno'>1309</span>     except botocore.exceptions.WaiterConfigError as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.e', title='?'>e</a>:
<span class='lineno'>1310</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(msg=&quot;{0}. Error waiting for instances {1} to reach state {2}&quot;.format(
<span class='lineno'>1311</span>             to_native(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.e', title='?'>e</a>), &#39;, &#39;.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.ids', title='{[?] | list}'>ids</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state', title='str'>state</a>))
<span class='lineno'>1312</span>     except botocore.exceptions.WaiterError as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.e', title='?'>e</a>:
<span class='lineno'>1313</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.warn(&quot;Instances {0} took too long to reach state {1}. {2}&quot;.format(
<span class='lineno'>1314</span>             &#39;, &#39;.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.ids', title='{[?] | list}'>ids</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.state', title='str'>state</a>, to_native(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances.e', title='?'>e</a>)))
<span class='lineno'>1315</span> 
<span class='lineno'>1316</span> 
<span class='lineno'>1317</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params', title='(?, ?, None, None) -> [dict]'>diff_instance_and_params</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.instance', title='?'>instance</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', title='?'>params</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ec2', title='None'>ec2</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.skip', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.skip', title='None'>skip</a>=None):
<span class='lineno'>1318</span>     &quot;&quot;&quot;boto3 instance obj, module params&quot;&quot;&quot;
<span class='lineno'>1319</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ec2', title='None'>ec2</a> is None:
<span class='lineno'>1320</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ec2', title='?'>ec2</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.client(&#39;ec2&#39;)
<span class='lineno'>1321</span> 
<span class='lineno'>1322</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.skip', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.skip', title='None'>skip</a> is None:
<span class='lineno'>1323</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.skip', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.skip', title='[?]'>skip</a> = []
<span class='lineno'>1324</span> 
<span class='lineno'>1325</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.changes_to_apply', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.changes_to_apply', title='[dict]'>changes_to_apply</a> = []
<span class='lineno'>1326</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.id_', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.id_', title='?'>id_</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.instance', title='?'>instance</a>[&#39;InstanceId&#39;]
<span class='lineno'>1327</span> 
<span class='lineno'>1328</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ParamMapper', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ParamMapper', title='<(namedtuple)>'>ParamMapper</a> = namedtuple(&#39;ParamMapper&#39;, [&#39;param_key&#39;, &#39;instance_key&#39;, &#39;attribute_name&#39;, &#39;add_value&#39;])
<span class='lineno'>1329</span> 
<span class='lineno'>1330</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value_wrapper', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value_wrapper', title='? -> dict'>value_wrapper</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value_wrapper.v', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value_wrapper.v', title='?'>v</a>):
<span class='lineno'>1331</span>         return {&#39;Value&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value_wrapper.v', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value_wrapper.v', title='?'>v</a>}
<span class='lineno'>1332</span> 
<span class='lineno'>1333</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.param_mappings', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.param_mappings', title='[(namedtuple)]'>param_mappings</a> = [
<span class='lineno'>1334</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ParamMapper', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ParamMapper', title='<(namedtuple)>'>ParamMapper</a>(&#39;ebs_optimized&#39;, &#39;EbsOptimized&#39;, &#39;ebsOptimized&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value_wrapper', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value_wrapper', title='? -> dict'>value_wrapper</a>),
<span class='lineno'>1335</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ParamMapper', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ParamMapper', title='<(namedtuple)>'>ParamMapper</a>(&#39;termination_protection&#39;, &#39;DisableApiTermination&#39;, &#39;disableApiTermination&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value_wrapper', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value_wrapper', title='? -> dict'>value_wrapper</a>),
<span class='lineno'>1336</span>         # user data is an immutable property
<span class='lineno'>1337</span>         # ParamMapper(&#39;user_data&#39;, &#39;UserData&#39;, &#39;userData&#39;, value_wrapper),
<span class='lineno'>1338</span>     ]
<span class='lineno'>1339</span> 
<span class='lineno'>1340</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', title='(namedtuple)'>mapping</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.param_mappings', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.param_mappings', title='[(namedtuple)]'>param_mappings</a>:
<span class='lineno'>1341</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', title='?'>params</a>.get(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', title='(namedtuple)'>mapping</a>.param_key) is not None and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', title='(namedtuple)'>mapping</a>.instance_key not in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.skip', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.skip', title='[?]'>skip</a>:
<span class='lineno'>1342</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value', title='?'>value</a> = AWSRetry.jittered_backoff()(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.ec2', title='None'>ec2</a>.describe_instance_attribute)(Attribute=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', title='(namedtuple)'>mapping</a>.attribute_name, InstanceId=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.id_', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.id_', title='?'>id_</a>)
<span class='lineno'>1343</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', title='?'>params</a>.get(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', title='(namedtuple)'>mapping</a>.param_key) is not None and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.value', title='?'>value</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', title='(namedtuple)'>mapping</a>.instance_key][&#39;Value&#39;] != <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', title='?'>params</a>.get(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', title='(namedtuple)'>mapping</a>.param_key):
<span class='lineno'>1344</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.arguments', title='dict'>arguments</a> = dict(
<span class='lineno'>1345</span>                     InstanceId=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.instance', title='?'>instance</a>[&#39;InstanceId&#39;],
<span class='lineno'>1346</span>                     # Attribute=mapping.attribute_name,
<span class='lineno'>1347</span>                 )
<span class='lineno'>1348</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.arguments', title='dict'>arguments</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', title='(namedtuple)'>mapping</a>.instance_key] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', title='(namedtuple)'>mapping</a>.add_value(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', title='?'>params</a>.get(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.mapping', title='(namedtuple)'>mapping</a>.param_key))
<span class='lineno'>1349</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.changes_to_apply', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.changes_to_apply', title='[dict]'>changes_to_apply</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.arguments', title='dict'>arguments</a>)
<span class='lineno'>1350</span> 
<span class='lineno'>1351</span>     if (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', title='?'>params</a>.get(&#39;network&#39;) or {}).get(&#39;source_dest_check&#39;) is not None:
<span class='lineno'>1352</span>         # network.source_dest_check is nested, so needs to be treated separately
<span class='lineno'>1353</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.check', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.check', title='bool'>check</a> = bool(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.params', title='?'>params</a>.get(&#39;network&#39;).get(&#39;source_dest_check&#39;))
<span class='lineno'>1354</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.instance', title='?'>instance</a>[&#39;SourceDestCheck&#39;] != <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.check', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.check', title='bool'>check</a>:
<span class='lineno'>1355</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.changes_to_apply', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.changes_to_apply', title='[dict]'>changes_to_apply</a>.append(dict(
<span class='lineno'>1356</span>                 InstanceId=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.instance', title='?'>instance</a>[&#39;InstanceId&#39;],
<span class='lineno'>1357</span>                 SourceDestCheck={&#39;Value&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.check', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.check', title='bool'>check</a>},
<span class='lineno'>1358</span>             ))
<span class='lineno'>1359</span> 
<span class='lineno'>1360</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.changes_to_apply', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params.changes_to_apply', title='[dict]'>changes_to_apply</a>
<span class='lineno'>1361</span> 
<span class='lineno'>1362</span> 
<span class='lineno'>1363</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments', title='(?, ?, ?) -> bool'>change_network_attachments</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.instance', title='?'>instance</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.params', title='?'>params</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.ec2', title='?'>ec2</a>):
<span class='lineno'>1364</span>     if (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.params', title='?'>params</a>.get(&#39;network&#39;) or {}).get(&#39;interfaces&#39;) is not None:
<span class='lineno'>1365</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.new_ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.new_ids', title='[?]'>new_ids</a> = []
<span class='lineno'>1366</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', title='?'>inty</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.params', title='?'>params</a>.get(&#39;network&#39;).get(&#39;interfaces&#39;):
<span class='lineno'>1367</span>             if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', title='?'>inty</a>, dict) and &#39;id&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', title='?'>inty</a>:
<span class='lineno'>1368</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.new_ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.new_ids', title='[?]'>new_ids</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', title='?'>inty</a>[&#39;id&#39;])
<span class='lineno'>1369</span>             elif isinstance(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', title='?'>inty</a></a>, string_types):
<span class='lineno'>1370</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.new_ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.new_ids', title='[?]'>new_ids</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', title='?'>inty</a>)
<span class='lineno'>1371</span>         # network.interfaces can create the need to attach new interfaces
<span class='lineno'>1372</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.old_ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.old_ids', title='[?]'>old_ids</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', title='?'>inty</a>[&#39;NetworkInterfaceId&#39;] for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.inty', title='?'>inty</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.instance', title='?'>instance</a>[&#39;NetworkInterfaces&#39;]]
<span class='lineno'>1373</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.to_attach', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.to_attach', title='?'>to_attach</a> = set(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.new_ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.new_ids', title='[?]'>new_ids</a>) - set(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.old_ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.old_ids', title='[?]'>old_ids</a>)
<span class='lineno'>1374</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.eni_id', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.eni_id', title='?'>eni_id</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.to_attach', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.to_attach', title='?'>to_attach</a>:
<span class='lineno'>1375</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.ec2', title='?'>ec2</a>.attach_network_interface(
<span class='lineno'>1376</span>                 DeviceIndex=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.new_ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.new_ids', title='[?]'>new_ids</a>.index(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.eni_id', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.eni_id', title='?'>eni_id</a>),
<span class='lineno'>1377</span>                 InstanceId=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.instance', title='?'>instance</a>[&#39;InstanceId&#39;],
<span class='lineno'>1378</span>                 NetworkInterfaceId=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.eni_id', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.eni_id', title='?'>eni_id</a>,
<span class='lineno'>1379</span>             )
<span class='lineno'>1380</span>         return bool(len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.to_attach', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments.to_attach', title='?'>to_attach</a>))
<span class='lineno'>1381</span>     return False
<span class='lineno'>1382</span> 
<span class='lineno'>1383</span> 
<span class='lineno'>1384</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances', title='(None, None, None) -> {[?] | list} / (?, None, None) -> {[?] | list}'>find_instances</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.ec2', title='None'>ec2</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.ids', title='None'>ids</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', title='None'>filters</a>=None):
<span class='lineno'>1385</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.paginator', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.paginator', title='?'>paginator</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.ec2', title='None'>ec2</a>.get_paginator(&#39;describe_instances&#39;)
<span class='lineno'>1386</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.ids', title='None'>ids</a>:
<span class='lineno'>1387</span>         return list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.paginator', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.paginator', title='?'>paginator</a>.paginate(
<span class='lineno'>1388</span>             InstanceIds=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.ids', title='None'>ids</a>,
<span class='lineno'>1389</span>         ).search(&#39;Reservations[].Instances[]&#39;))
<span class='lineno'>1390</span>     elif <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', title='None'>filters</a> is None:
<span class='lineno'>1391</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(msg=&quot;No filters provided when they were required&quot;)
<span class='lineno'>1392</span>     elif <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', title='None'>filters</a> is not None:
<span class='lineno'>1393</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.key', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.key', title='<list>'>key</a> in list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', title='None'>filters</a>.keys()):
<span class='lineno'>1394</span>             if not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.key', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.key', title='<list>'>key</a>.startswith(&quot;tag:&quot;):
<span class='lineno'>1395</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', title='None'>filters</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.key', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.key', title='<list>'>key</a>.replace(&quot;_&quot;, &quot;-&quot;)] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', title='None'>filters</a>.pop(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.key', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.key', title='<list>'>key</a>)
<span class='lineno'>1396</span>         return list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.paginator', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.paginator', title='?'>paginator</a>.paginate(
<span class='lineno'>1397</span>             Filters=ansible_dict_to_boto3_filter_list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances.filters', title='None'>filters</a>)
<span class='lineno'>1398</span>         ).search(&#39;Reservations[].Instances[]&#39;))
<span class='lineno'>1399</span>     return []
<span class='lineno'>1400</span> 
<span class='lineno'>1401</span> 
<span class='lineno'>1402</span> @AWSRetry.jittered_backoff()
<span class='lineno'>1403</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc', title='None -> None / ? -> None'>get_default_vpc</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc.ec2', title='None'>ec2</a>):
<span class='lineno'>1404</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc.vpcs', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc.vpcs', title='?'>vpcs</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc.ec2', title='None'>ec2</a>.describe_vpcs(Filters=ansible_dict_to_boto3_filter_list({&#39;isDefault&#39;: &#39;true&#39;}))
<span class='lineno'>1405</span>     if len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc.vpcs', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc.vpcs', title='?'>vpcs</a>.get(&#39;Vpcs&#39;, [])):
<span class='lineno'>1406</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc.vpcs', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc.vpcs', title='?'>vpcs</a>.get(&#39;Vpcs&#39;)[0]
<span class='lineno'>1407</span>     return None
<span class='lineno'>1408</span> 
<span class='lineno'>1409</span> 
<span class='lineno'>1410</span> @AWSRetry.jittered_backoff()
<span class='lineno'>1411</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet', title='(None, None, None) -> None / (?, None, None) -> None'>get_default_subnet</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.ec2', title='None'>ec2</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.vpc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.vpc', title='None'>vpc</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.availability_zone', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.availability_zone', title='None'>availability_zone</a>=None):
<span class='lineno'>1412</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnets', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnets', title='?'>subnets</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.ec2', title='None'>ec2</a>.describe_subnets(
<span class='lineno'>1413</span>         Filters=ansible_dict_to_boto3_filter_list({
<span class='lineno'>1414</span>             &#39;vpc-id&#39;: <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.vpc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.vpc', title='None'>vpc</a>[&#39;VpcId&#39;],
<span class='lineno'>1415</span>             &#39;state&#39;: &#39;available&#39;,
<span class='lineno'>1416</span>             &#39;default-for-az&#39;: &#39;true&#39;,
<span class='lineno'>1417</span>         })
<span class='lineno'>1418</span>     )
<span class='lineno'>1419</span>     if len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnets', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnets', title='?'>subnets</a>.get(&#39;Subnets&#39;, [])):
<span class='lineno'>1420</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.availability_zone', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.availability_zone', title='None'>availability_zone</a> is not None:
<span class='lineno'>1421</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subs_by_az', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subs_by_az', title='dict'>subs_by_az</a> = dict((<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnet', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnet', title='?'>subnet</a>[&#39;AvailabilityZone&#39;], <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnet', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnet', title='?'>subnet</a>) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnet', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnet', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnet', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnet', title='?'>subnet</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnets', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnets', title='?'>subnets</a>.get(&#39;Subnets&#39;))
<span class='lineno'>1422</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.availability_zone', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.availability_zone', title='None'>availability_zone</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subs_by_az', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subs_by_az', title='dict'>subs_by_az</a>:
<span class='lineno'>1423</span>                 return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subs_by_az', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subs_by_az', title='dict'>subs_by_az</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.availability_zone', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.availability_zone', title='None'>availability_zone</a>]
<span class='lineno'>1424</span> 
<span class='lineno'>1425</span>         # to have a deterministic sorting order, we sort by AZ so we&#39;ll always pick the `a` subnet first
<span class='lineno'>1426</span>         # there can only be one default-for-az subnet per AZ, so the AZ key is always unique in this list
<span class='lineno'>1427</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.by_az', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.by_az', title='?'>by_az</a> = sorted(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnets', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.subnets', title='?'>subnets</a>.get(&#39;Subnets&#39;), key=lambda <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.lambda%71.s', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.lambda%71.s', title='?'>s</a>: <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.lambda%71.s', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.lambda%71.s', title='?'>s</a>[&#39;AvailabilityZone&#39;])
<span class='lineno'>1428</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.by_az', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet.by_az', title='?'>by_az</a>[0]
<span class='lineno'>1429</span>     return None
<span class='lineno'>1430</span> 
<span class='lineno'>1431</span> 
<span class='lineno'>1432</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state', title='(?, ?) -> None'>ensure_instance_state</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.state', title='?'>state</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.ec2', title='?'>ec2</a>=None):
<span class='lineno'>1433</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.ec2', title='?'>ec2</a> is None:
<span class='lineno'>1434</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.client(&#39;ec2&#39;)
<span class='lineno'>1435</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.state', title='?'>state</a> in (&#39;running&#39;, &#39;started&#39;):
<span class='lineno'>1436</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', title='?'>changed</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', title='list'>failed</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', title='{[?] | list}'>instances</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', title='str'>failure_reason</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', title='(?, str, None) -> (?, list, {[?] | list}, str)'>change_instance_state</a>(filters=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;filters&#39;), desired_state=&#39;RUNNING&#39;)
<span class='lineno'>1437</span> 
<span class='lineno'>1438</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', title='list'>failed</a>:
<span class='lineno'>1439</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(
<span class='lineno'>1440</span>                 msg=&quot;Unable to start instances: {0}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', title='str'>failure_reason</a>),
<span class='lineno'>1441</span>                 reboot_success=list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', title='?'>changed</a>),
<span class='lineno'>1442</span>                 reboot_failed=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', title='list'>failed</a>)
<span class='lineno'>1443</span> 
<span class='lineno'>1444</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.exit_json(
<span class='lineno'>1445</span>             msg=&#39;Instances started&#39;,
<span class='lineno'>1446</span>             reboot_success=list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', title='?'>changed</a>),
<span class='lineno'>1447</span>             changed=bool(len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', title='?'>changed</a>)),
<span class='lineno'>1448</span>             reboot_failed=[],
<span class='lineno'>1449</span>             instances=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', title='? -> None'>pretty_instance</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', title='?'>i</a>) for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', title='{[?] | list}'>instances</a>],
<span class='lineno'>1450</span>         )
<span class='lineno'>1451</span>     elif <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.state', title='?'>state</a> in (&#39;restarted&#39;, &#39;rebooted&#39;):
<span class='lineno'>1452</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', title='?'>changed</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', title='list'>failed</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', title='{[?] | list}'>instances</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', title='str'>failure_reason</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', title='(?, str, None) -> (?, list, {[?] | list}, str)'>change_instance_state</a>(
<span class='lineno'>1453</span>             filters=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;filters&#39;),
<span class='lineno'>1454</span>             desired_state=&#39;STOPPED&#39;)
<span class='lineno'>1455</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', title='?'>changed</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', title='list'>failed</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', title='{[?] | list}'>instances</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', title='str'>failure_reason</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', title='(?, str, None) -> (?, list, {[?] | list}, str)'>change_instance_state</a>(
<span class='lineno'>1456</span>             filters=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;filters&#39;),
<span class='lineno'>1457</span>             desired_state=&#39;RUNNING&#39;)
<span class='lineno'>1458</span> 
<span class='lineno'>1459</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', title='list'>failed</a>:
<span class='lineno'>1460</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(
<span class='lineno'>1461</span>                 msg=&quot;Unable to restart instances: {0}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', title='str'>failure_reason</a>),
<span class='lineno'>1462</span>                 reboot_success=list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', title='?'>changed</a>),
<span class='lineno'>1463</span>                 reboot_failed=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', title='list'>failed</a>)
<span class='lineno'>1464</span> 
<span class='lineno'>1465</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.exit_json(
<span class='lineno'>1466</span>             msg=&#39;Instances restarted&#39;,
<span class='lineno'>1467</span>             reboot_success=list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', title='?'>changed</a>),
<span class='lineno'>1468</span>             changed=bool(len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', title='?'>changed</a>)),
<span class='lineno'>1469</span>             reboot_failed=[],
<span class='lineno'>1470</span>             instances=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', title='? -> None'>pretty_instance</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', title='?'>i</a>) for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', title='{[?] | list}'>instances</a>],
<span class='lineno'>1471</span>         )
<span class='lineno'>1472</span>     elif <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.state', title='?'>state</a> in (&#39;stopped&#39;,):
<span class='lineno'>1473</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', title='?'>changed</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', title='list'>failed</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', title='{[?] | list}'>instances</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', title='str'>failure_reason</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', title='(?, str, None) -> (?, list, {[?] | list}, str)'>change_instance_state</a>(
<span class='lineno'>1474</span>             filters=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;filters&#39;),
<span class='lineno'>1475</span>             desired_state=&#39;STOPPED&#39;)
<span class='lineno'>1476</span> 
<span class='lineno'>1477</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', title='list'>failed</a>:
<span class='lineno'>1478</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(
<span class='lineno'>1479</span>                 msg=&quot;Unable to stop instances: {0}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', title='str'>failure_reason</a>),
<span class='lineno'>1480</span>                 stop_success=list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', title='?'>changed</a>),
<span class='lineno'>1481</span>                 stop_failed=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failed', title='list'>failed</a>)
<span class='lineno'>1482</span> 
<span class='lineno'>1483</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.exit_json(
<span class='lineno'>1484</span>             msg=&#39;Instances stopped&#39;,
<span class='lineno'>1485</span>             stop_success=list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', title='?'>changed</a>),
<span class='lineno'>1486</span>             changed=bool(len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.changed', title='?'>changed</a>)),
<span class='lineno'>1487</span>             stop_failed=[],
<span class='lineno'>1488</span>             instances=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', title='? -> None'>pretty_instance</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', title='?'>i</a>) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', title='{[?] | list}'>instances</a>],
<span class='lineno'>1489</span>         )
<span class='lineno'>1490</span>     elif <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.state', title='?'>state</a> in (&#39;absent&#39;, &#39;terminated&#39;):
<span class='lineno'>1491</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminated', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminated', title='?'>terminated</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminate_failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminate_failed', title='list'>terminate_failed</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', title='{[?] | list}'>instances</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', title='str'>failure_reason</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', title='(?, str, None) -> (?, list, {[?] | list}, str)'>change_instance_state</a>(
<span class='lineno'>1492</span>             filters=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;filters&#39;),
<span class='lineno'>1493</span>             desired_state=&#39;TERMINATED&#39;)
<span class='lineno'>1494</span> 
<span class='lineno'>1495</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminate_failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminate_failed', title='list'>terminate_failed</a>:
<span class='lineno'>1496</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(
<span class='lineno'>1497</span>                 msg=&quot;Unable to terminate instances: {0}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.failure_reason', title='str'>failure_reason</a>),
<span class='lineno'>1498</span>                 terminate_success=list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminated', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminated', title='?'>terminated</a>),
<span class='lineno'>1499</span>                 terminate_failed=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminate_failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminate_failed', title='list'>terminate_failed</a>)
<span class='lineno'>1500</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.exit_json(
<span class='lineno'>1501</span>             msg=&#39;Instances terminated&#39;,
<span class='lineno'>1502</span>             terminate_success=list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminated', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminated', title='?'>terminated</a>),
<span class='lineno'>1503</span>             changed=bool(len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminated', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.terminated', title='?'>terminated</a>)),
<span class='lineno'>1504</span>             terminate_failed=[],
<span class='lineno'>1505</span>             instances=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', title='? -> None'>pretty_instance</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', title='?'>i</a>) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state.instances', title='{[?] | list}'>instances</a>],
<span class='lineno'>1506</span>         )
<span class='lineno'>1507</span> 
<span class='lineno'>1508</span> 
<span class='lineno'>1509</span> @AWSRetry.jittered_backoff()
<span class='lineno'>1510</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', title='(?, str, None) -> (?, list, {[?] | list}, str)'>change_instance_state</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.filters', title='?'>filters</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.desired_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.desired_state', title='str'>desired_state</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', title='None'>ec2</a>=None):
<span class='lineno'>1511</span>     &quot;&quot;&quot;Takes STOPPED/RUNNING/TERMINATED&quot;&quot;&quot;
<span class='lineno'>1512</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', title='None'>ec2</a> is None:
<span class='lineno'>1513</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', title='?'>ec2</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.client(&#39;ec2&#39;)
<span class='lineno'>1514</span> 
<span class='lineno'>1515</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', title='?'>changed</a> = set()
<span class='lineno'>1516</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.instances', title='{[?] | list}'>instances</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances', title='(None, None, None) -> {[?] | list} / (?, None, None) -> {[?] | list}'>find_instances</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', title='None'>ec2</a>, filters=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.filters', title='?'>filters</a>)
<span class='lineno'>1517</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.to_change', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.to_change', title='?'>to_change</a> = set(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'>i</a>[&#39;InstanceId&#39;] for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.instances', title='{[?] | list}'>instances</a> if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'>i</a>[&#39;State&#39;][&#39;Name&#39;].upper() != <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.desired_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.desired_state', title='str'>desired_state</a>)
<span class='lineno'>1518</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.unchanged', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.unchanged', title='?'>unchanged</a> = set()
<span class='lineno'>1519</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.failure_reason', title='str'>failure_reason</a> = &quot;&quot;
<span class='lineno'>1520</span> 
<span class='lineno'>1521</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', title='?'>inst</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.instances', title='{[?] | list}'>instances</a>:
<span class='lineno'>1522</span>         try:
<span class='lineno'>1523</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.desired_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.desired_state', title='str'>desired_state</a> == &#39;TERMINATED&#39;:
<span class='lineno'>1524</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.check_mode:
<span class='lineno'>1525</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', title='?'>changed</a>.add(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', title='?'>inst</a>[&#39;InstanceId&#39;])
<span class='lineno'>1526</span>                     continue
<span class='lineno'>1527</span> 
<span class='lineno'>1528</span>                 # TODO use a client-token to prevent double-sends of these start/stop/terminate commands
<span class='lineno'>1529</span>                 # https://docs.aws.amazon.com/AWSEC2/latest/APIReference/Run_Instance_Idempotency.html
<span class='lineno'>1530</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.resp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.resp', title='?'>resp</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', title='None'>ec2</a>.terminate_instances(InstanceIds=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', title='?'>inst</a>[&#39;InstanceId&#39;]])
<span class='lineno'>1531</span>                 [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', title='?'>changed</a>.add(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'>i</a>[&#39;InstanceId&#39;]) for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.resp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.resp', title='?'>resp</a>[&#39;TerminatingInstances&#39;]]
<span class='lineno'>1532</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.desired_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.desired_state', title='str'>desired_state</a> == &#39;STOPPED&#39;:
<span class='lineno'>1533</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', title='?'>inst</a>[&#39;State&#39;][&#39;Name&#39;] in (&#39;stopping&#39;, &#39;stopped&#39;):
<span class='lineno'>1534</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.unchanged', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.unchanged', title='?'>unchanged</a>.add(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', title='?'>inst</a>[&#39;InstanceId&#39;])
<span class='lineno'>1535</span>                     continue
<span class='lineno'>1536</span> 
<span class='lineno'>1537</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.check_mode:
<span class='lineno'>1538</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', title='?'>changed</a>.add(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', title='?'>inst</a>[&#39;InstanceId&#39;])
<span class='lineno'>1539</span>                     continue
<span class='lineno'>1540</span> 
<span class='lineno'>1541</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.resp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.resp', title='?'>resp</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', title='None'>ec2</a>.stop_instances(InstanceIds=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', title='?'>inst</a>[&#39;InstanceId&#39;]])
<span class='lineno'>1542</span>                 [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', title='?'>changed</a>.add(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'>i</a>[&#39;InstanceId&#39;]) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.resp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.resp', title='?'>resp</a>[&#39;StoppingInstances&#39;]]
<span class='lineno'>1543</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.desired_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.desired_state', title='str'>desired_state</a> == &#39;RUNNING&#39;:
<span class='lineno'>1544</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.check_mode:
<span class='lineno'>1545</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', title='?'>changed</a>.add(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', title='?'>inst</a>[&#39;InstanceId&#39;])
<span class='lineno'>1546</span>                     continue
<span class='lineno'>1547</span> 
<span class='lineno'>1548</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.resp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.resp', title='?'>resp</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', title='None'>ec2</a>.start_instances(InstanceIds=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.inst', title='?'>inst</a>[&#39;InstanceId&#39;]])
<span class='lineno'>1549</span>                 [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', title='?'>changed</a>.add(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'>i</a>[&#39;InstanceId&#39;]) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.resp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.resp', title='?'>resp</a>[&#39;StartingInstances&#39;]]
<span class='lineno'>1550</span>         except (botocore.exceptions.ClientError, botocore.exceptions.BotoCoreError) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.e', title='?'>e</a>:
<span class='lineno'>1551</span>             try:
<span class='lineno'>1552</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.failure_reason', title='?'>failure_reason</a> = to_native(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.e', title='?'>e</a>.message)
<span class='lineno'>1553</span>             except AttributeError:
<span class='lineno'>1554</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.failure_reason', title='?'>failure_reason</a> = to_native(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.e', title='?'>e</a>)
<span class='lineno'>1555</span> 
<span class='lineno'>1556</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', title='?'>changed</a>:
<span class='lineno'>1557</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances', title='([?], str) -> ? / (list, str) -> ?'>await_instances</a>(ids=list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', title='?'>changed</a>) + list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.unchanged', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.unchanged', title='?'>unchanged</a>), state=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.desired_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.desired_state', title='str'>desired_state</a>)
<span class='lineno'>1558</span> 
<span class='lineno'>1559</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.change_failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.change_failed', title='list'>change_failed</a> = list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.to_change', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.to_change', title='?'>to_change</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', title='?'>changed</a>)
<span class='lineno'>1560</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.instances', title='{[?] | list}'>instances</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances', title='(None, None, None) -> {[?] | list} / (?, None, None) -> {[?] | list}'>find_instances</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.ec2', title='None'>ec2</a>, ids=list(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'>i</a>[&#39;InstanceId&#39;] for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.instances', title='{[?] | list}'>instances</a>))
<span class='lineno'>1561</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.changed', title='?'>changed</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.change_failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.change_failed', title='list'>change_failed</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.instances', title='{[?] | list}'>instances</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state.failure_reason', title='str'>failure_reason</a>
<span class='lineno'>1562</span> 
<span class='lineno'>1563</span> 
<span class='lineno'>1564</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', title='? -> None'>pretty_instance</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance.i', title='?'>i</a>):
<span class='lineno'>1565</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance.instance', title='?'>instance</a> = camel_dict_to_snake_dict(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance.i', title='?'>i</a>, ignore_list=[&#39;Tags&#39;])
<span class='lineno'>1566</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance.instance', title='?'>instance</a>[&#39;tags&#39;] = boto3_tag_list_to_ansible_dict(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance.i', title='?'>i</a>[&#39;Tags&#39;])
<span class='lineno'>1567</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance.instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance.instance', title='?'>instance</a>
<span class='lineno'>1568</span> 
<span class='lineno'>1569</span> 
<span class='lineno'>1570</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role', title='? -> ?'>determine_iam_role</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.name_or_arn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.name_or_arn', title='?'>name_or_arn</a>):
<span class='lineno'>1571</span>     if re.match(r&#39;^arn:aws:iam::\d+:instance-profile/[\w+=/,.@-]+$&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.name_or_arn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.name_or_arn', title='?'>name_or_arn</a>):
<span class='lineno'>1572</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.name_or_arn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.name_or_arn', title='?'>name_or_arn</a>
<span class='lineno'>1573</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.iam', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.iam', title='?'>iam</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.client(&#39;iam&#39;, retry_decorator=AWSRetry.jittered_backoff())
<span class='lineno'>1574</span>     try:
<span class='lineno'>1575</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.role', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.role', title='?'>role</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.iam', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.iam', title='?'>iam</a>.get_instance_profile(InstanceProfileName=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.name_or_arn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.name_or_arn', title='?'>name_or_arn</a>, aws_retry=True)
<span class='lineno'>1576</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.role', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.role', title='?'>role</a>[&#39;InstanceProfile&#39;][&#39;Arn&#39;]
<span class='lineno'>1577</span>     except botocore.exceptions.ClientError as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.e', title='?'>e</a>:
<span class='lineno'>1578</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.e', title='?'>e</a>.response[&#39;Error&#39;][&#39;Code&#39;] == &#39;NoSuchEntity&#39;:
<span class='lineno'>1579</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json_aws(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.e', title='?'>e</a>, msg=&quot;Could not find instance_role {0}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.name_or_arn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.name_or_arn', title='?'>name_or_arn</a>))
<span class='lineno'>1580</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json_aws(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.e', title='?'>e</a>, msg=&quot;An error occurred while searching for instance_role {0}. Please try supplying the full ARN.&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.name_or_arn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.determine_iam_role.name_or_arn', title='?'>name_or_arn</a>))
<span class='lineno'>1581</span> 
<span class='lineno'>1582</span> 
<span class='lineno'>1583</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing', title='({[?] | list}, bool, ?, ?) -> None'>handle_existing</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.existing_matches', title='{[?] | list}'>existing_matches</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', title='bool'>changed</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.ec2', title='?'>ec2</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.state', title='?'>state</a>):
<span class='lineno'>1584</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.state', title='?'>state</a> in (&#39;running&#39;, &#39;started&#39;) and [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'>i</a> for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.existing_matches', title='{[?] | list}'>existing_matches</a> if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'>i</a>[&#39;State&#39;][&#39;Name&#39;] != &#39;running&#39;]:
<span class='lineno'>1585</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.ins_changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.ins_changed', title='?'>ins_changed</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.failed', title='list'>failed</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.instances', title='{[?] | list}'>instances</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.failure_reason', title='str'>failure_reason</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_instance_state', title='(?, str, None) -> (?, list, {[?] | list}, str)'>change_instance_state</a>(filters=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;filters&#39;), desired_state=&#39;RUNNING&#39;)
<span class='lineno'>1586</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.failed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.failed', title='list'>failed</a>:
<span class='lineno'>1587</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(msg=&quot;Couldn&#39;t start instances: {0}. Failure reason: {1}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.instances', title='{[?] | list}'>instances</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.failure_reason', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.failure_reason', title='str'>failure_reason</a>))
<span class='lineno'>1588</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.exit_json(
<span class='lineno'>1589</span>             changed=bool(len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.ins_changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.ins_changed', title='?'>ins_changed</a>)) or <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', title='bool'>changed</a>,
<span class='lineno'>1590</span>             instances=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', title='? -> None'>pretty_instance</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'>i</a>) for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.instances', title='{[?] | list}'>instances</a>],
<span class='lineno'>1591</span>             instance_ids=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'>i</a>[&#39;InstanceId&#39;] for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.instances', title='{[?] | list}'>instances</a>],
<span class='lineno'>1592</span>         )
<span class='lineno'>1593</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changes', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changes', title='[dict]'>changes</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params', title='(?, ?, None, None) -> [dict]'>diff_instance_and_params</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.existing_matches', title='{[?] | list}'>existing_matches</a>[0], <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params)
<span class='lineno'>1594</span>     for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.c', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.c', title='dict'>c</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changes', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changes', title='[dict]'>changes</a>:
<span class='lineno'>1595</span>         AWSRetry.jittered_backoff()(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.ec2', title='?'>ec2</a>.modify_instance_attribute)(**c)
<span class='lineno'>1596</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', title='bool'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', title='bool'>changed</a></a> |= bool(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changes', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changes', title='[dict]'>changes</a>)
<span class='lineno'>1597</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', title='bool'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', title='bool'>changed</a></a> |= <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.add_or_update_instance_profile', title='(?, ?) -> bool'>add_or_update_instance_profile</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.existing_matches', title='{[?] | list}'>existing_matches</a>[0], <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;instance_role&#39;))
<span class='lineno'>1598</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', title='bool'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', title='bool'>changed</a></a> |= <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.change_network_attachments', title='(?, ?, ?) -> bool'>change_network_attachments</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.existing_matches', title='{[?] | list}'>existing_matches</a>[0], <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.ec2', title='?'>ec2</a>)
<span class='lineno'>1599</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.altered', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.altered', title='{[?] | list}'>altered</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances', title='(None, None, None) -> {[?] | list} / (?, None, None) -> {[?] | list}'>find_instances</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.ec2', title='?'>ec2</a>, ids=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'>i</a>[&#39;InstanceId&#39;] for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.existing_matches', title='{[?] | list}'>existing_matches</a>])
<span class='lineno'>1600</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.exit_json(
<span class='lineno'>1601</span>         changed=bool(len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changes', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changes', title='[dict]'>changes</a>)) or <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changed', title='bool'>changed</a>,
<span class='lineno'>1602</span>         instances=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', title='? -> None'>pretty_instance</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'>i</a>) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.altered', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.altered', title='{[?] | list}'>altered</a>],
<span class='lineno'>1603</span>         instance_ids=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'>i</a>[&#39;InstanceId&#39;] for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.altered', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.altered', title='{[?] | list}'>altered</a>],
<span class='lineno'>1604</span>         changes=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changes', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing.changes', title='[dict]'>changes</a>,
<span class='lineno'>1605</span>     )
<span class='lineno'>1606</span> 
<span class='lineno'>1607</span> 
<span class='lineno'>1608</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present', title='({[?] | list}, bool, ?, ?) -> ?'>ensure_present</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.existing_matches', title='{[?] | list}'>existing_matches</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.changed', title='bool'>changed</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ec2', title='?'>ec2</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.state', title='?'>state</a>):
<span class='lineno'>1609</span>     if len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.existing_matches', title='{[?] | list}'>existing_matches</a>):
<span class='lineno'>1610</span>         try:
<span class='lineno'>1611</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.handle_existing', title='({[?] | list}, bool, ?, ?) -> None'>handle_existing</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.existing_matches', title='{[?] | list}'>existing_matches</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.changed', title='bool'>changed</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ec2', title='?'>ec2</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.state', title='?'>state</a>)
<span class='lineno'>1612</span>         except (botocore.exceptions.BotoCoreError, botocore.exceptions.ClientError) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.e', title='?'>e</a>:
<span class='lineno'>1613</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json_aws(
<span class='lineno'>1614</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.e', title='?'>e</a>, msg=&quot;Failed to handle existing instances {0}&quot;.format(&#39;, &#39;.join([<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', title='?'>i</a>[&#39;InstanceId&#39;] for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.existing_matches', title='{[?] | list}'>existing_matches</a>])),
<span class='lineno'>1615</span>                 # instances=[pretty_instance(i) for i in existing_matches],
<span class='lineno'>1616</span>                 # instance_ids=[i[&#39;InstanceId&#39;] for i in existing_matches],
<span class='lineno'>1617</span>             )
<span class='lineno'>1618</span>     try:
<span class='lineno'>1619</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_spec', title='dict'>instance_spec</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.build_run_instance_spec', title='(?, None) -> dict'>build_run_instance_spec</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params)
<span class='lineno'>1620</span>         # If check mode is enabled,suspend &#39;ensure function&#39;.
<span class='lineno'>1621</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.check_mode:
<span class='lineno'>1622</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.exit_json(
<span class='lineno'>1623</span>                 changed=True,
<span class='lineno'>1624</span>                 spec=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_spec', title='dict'>instance_spec</a>,
<span class='lineno'>1625</span>             )
<span class='lineno'>1626</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_response', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_response', title='?'>instance_response</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances', title='? -> ?'>run_instances</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ec2', title='?'>ec2</a>, **instance_spec)
<span class='lineno'>1627</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instances', title='?'>instances</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_response', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_response', title='?'>instance_response</a>[&#39;Instances&#39;]
<span class='lineno'>1628</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_ids', title='[?]'>instance_ids</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', title='?'>i</a>[&#39;InstanceId&#39;] for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instances', title='?'>instances</a>]
<span class='lineno'>1629</span> 
<span class='lineno'>1630</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ins', title='?'>ins</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instances', title='?'>instances</a>:
<span class='lineno'>1631</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.changes', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.changes', title='[dict]'>changes</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.diff_instance_and_params', title='(?, ?, None, None) -> [dict]'>diff_instance_and_params</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ins', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ins', title='?'>ins</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params, skip=[&#39;UserData&#39;, &#39;EbsOptimized&#39;])
<span class='lineno'>1632</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.c', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.c', title='dict'>c</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.changes', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.changes', title='[dict]'>changes</a>:
<span class='lineno'>1633</span>                 try:
<span class='lineno'>1634</span>                     AWSRetry.jittered_backoff()(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ec2', title='?'>ec2</a>.modify_instance_attribute)(**c)
<span class='lineno'>1635</span>                 except botocore.exceptions.ClientError as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.e', title='?'>e</a>:
<span class='lineno'>1636</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json_aws(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.e', title='?'>e</a>, msg=&quot;Could not apply change {0} to new instance.&quot;.format(str(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.c', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.c', title='dict'>c</a>)))
<span class='lineno'>1637</span> 
<span class='lineno'>1638</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;wait&#39;):
<span class='lineno'>1639</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.exit_json(
<span class='lineno'>1640</span>                 changed=True,
<span class='lineno'>1641</span>                 instance_ids=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_ids', title='[?]'>instance_ids</a>,
<span class='lineno'>1642</span>                 spec=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_spec', title='dict'>instance_spec</a>,
<span class='lineno'>1643</span>             )
<span class='lineno'>1644</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.await_instances', title='([?], str) -> ? / (list, str) -> ?'>await_instances</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_ids', title='[?]'>instance_ids</a>)
<span class='lineno'>1645</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instances', title='?'>instances</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.ec2', title='?'>ec2</a>.get_paginator(&#39;describe_instances&#39;).paginate(
<span class='lineno'>1646</span>             InstanceIds=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_ids', title='[?]'>instance_ids</a>
<span class='lineno'>1647</span>         ).search(&#39;Reservations[].Instances[]&#39;)
<span class='lineno'>1648</span> 
<span class='lineno'>1649</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.exit_json(
<span class='lineno'>1650</span>             changed=True,
<span class='lineno'>1651</span>             instances=[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.pretty_instance', title='? -> None'>pretty_instance</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', title='?'>i</a>) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.i', title='?'>i</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instances', title='?'>instances</a>],
<span class='lineno'>1652</span>             instance_ids=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_ids', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_ids', title='[?]'>instance_ids</a>,
<span class='lineno'>1653</span>             spec=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.instance_spec', title='dict'>instance_spec</a>,
<span class='lineno'>1654</span>         )
<span class='lineno'>1655</span>     except (botocore.exceptions.BotoCoreError, botocore.exceptions.ClientError) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.e', title='?'>e</a>:
<span class='lineno'>1656</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json_aws(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present.e', title='?'>e</a>, msg=&quot;Failed to create new EC2 instance&quot;)
<span class='lineno'>1657</span> 
<span class='lineno'>1658</span> 
<span class='lineno'>1659</span> @AWSRetry.jittered_backoff()
<span class='lineno'>1660</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances', title='? -> ?'>run_instances</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances.ec2', title='?'>ec2</a>, **instance_spec):
<span class='lineno'>1661</span>     try:
<span class='lineno'>1662</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances.ec2', title='?'>ec2</a>.run_instances(**instance_spec)
<span class='lineno'>1663</span>     except botocore.exceptions.ClientError as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances.e', title='?'>e</a>:
<span class='lineno'>1664</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances.e', title='?'>e</a>.response[&#39;Error&#39;][&#39;Code&#39;] == &#39;InvalidParameterValue&#39; and &quot;Invalid IAM Instance Profile ARN&quot; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances.e', title='?'>e</a>.response[&#39;Error&#39;][&#39;Message&#39;]:
<span class='lineno'>1665</span>             # If the instance profile has just been created, it takes some time to be visible by ec2
<span class='lineno'>1666</span>             # So we wait 10 second and retry the run_instances
<span class='lineno'>1667</span>             time.sleep(10)
<span class='lineno'>1668</span>             return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.run_instances.ec2', title='?'>ec2</a>.run_instances(**instance_spec)
<span class='lineno'>1669</span>         else:
<span class='lineno'>1670</span>             raise e
<span class='lineno'>1671</span> 
<span class='lineno'>1672</span> 
<span class='lineno'>1673</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main', title='() -> None'>main</a>():
<span class='lineno'>1674</span>     global module
<span class='lineno'>1675</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.argument_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.argument_spec', title='dict'>argument_spec</a> = dict(
<span class='lineno'>1676</span>         state=dict(default=&#39;present&#39;, choices=[&#39;present&#39;, &#39;started&#39;, &#39;running&#39;, &#39;stopped&#39;, &#39;restarted&#39;, &#39;rebooted&#39;, &#39;terminated&#39;, &#39;absent&#39;]),
<span class='lineno'>1677</span>         wait=dict(default=True, type=&#39;bool&#39;),
<span class='lineno'>1678</span>         wait_timeout=dict(default=600, type=&#39;int&#39;),
<span class='lineno'>1679</span>         # count=dict(default=1, type=&#39;int&#39;),
<span class='lineno'>1680</span>         image=dict(type=&#39;dict&#39;),
<span class='lineno'>1681</span>         image_id=dict(type=&#39;str&#39;),
<span class='lineno'>1682</span>         instance_type=dict(default=&#39;t2.micro&#39;, type=&#39;str&#39;),
<span class='lineno'>1683</span>         user_data=dict(type=&#39;str&#39;),
<span class='lineno'>1684</span>         tower_callback=dict(type=&#39;dict&#39;),
<span class='lineno'>1685</span>         ebs_optimized=dict(type=&#39;bool&#39;),
<span class='lineno'>1686</span>         vpc_subnet_id=dict(type=&#39;str&#39;, aliases=[&#39;subnet_id&#39;]),
<span class='lineno'>1687</span>         availability_zone=dict(type=&#39;str&#39;),
<span class='lineno'>1688</span>         security_groups=dict(default=[], type=&#39;list&#39;),
<span class='lineno'>1689</span>         security_group=dict(type=&#39;str&#39;),
<span class='lineno'>1690</span>         instance_role=dict(type=&#39;str&#39;),
<span class='lineno'>1691</span>         name=dict(type=&#39;str&#39;),
<span class='lineno'>1692</span>         tags=dict(type=&#39;dict&#39;),
<span class='lineno'>1693</span>         purge_tags=dict(type=&#39;bool&#39;, default=False),
<span class='lineno'>1694</span>         filters=dict(type=&#39;dict&#39;, default=None),
<span class='lineno'>1695</span>         launch_template=dict(type=&#39;dict&#39;),
<span class='lineno'>1696</span>         key_name=dict(type=&#39;str&#39;),
<span class='lineno'>1697</span>         cpu_credit_specification=dict(type=&#39;str&#39;, choices=[&#39;standard&#39;, &#39;unlimited&#39;]),
<span class='lineno'>1698</span>         cpu_options=dict(type=&#39;dict&#39;, options=dict(
<span class='lineno'>1699</span>             core_count=dict(type=&#39;int&#39;, required=True),
<span class='lineno'>1700</span>             threads_per_core=dict(type=&#39;int&#39;, choices=[1, 2], required=True)
<span class='lineno'>1701</span>         )),
<span class='lineno'>1702</span>         tenancy=dict(type=&#39;str&#39;, choices=[&#39;dedicated&#39;, &#39;default&#39;]),
<span class='lineno'>1703</span>         placement_group=dict(type=&#39;str&#39;),
<span class='lineno'>1704</span>         instance_initiated_shutdown_behavior=dict(type=&#39;str&#39;, choices=[&#39;stop&#39;, &#39;terminate&#39;]),
<span class='lineno'>1705</span>         termination_protection=dict(type=&#39;bool&#39;),
<span class='lineno'>1706</span>         detailed_monitoring=dict(type=&#39;bool&#39;),
<span class='lineno'>1707</span>         instance_ids=dict(default=[], type=&#39;list&#39;),
<span class='lineno'>1708</span>         network=dict(default=None, type=&#39;dict&#39;),
<span class='lineno'>1709</span>         volumes=dict(default=None, type=&#39;list&#39;),
<span class='lineno'>1710</span>     )
<span class='lineno'>1711</span>     # running/present are synonyms
<span class='lineno'>1712</span>     # as are terminated/absent
<span class='lineno'>1713</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a> = AnsibleAWSModule(
<span class='lineno'>1714</span>         argument_spec=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.argument_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.argument_spec', title='dict'>argument_spec</a>,
<span class='lineno'>1715</span>         mutually_exclusive=[
<span class='lineno'>1716</span>             [&#39;security_groups&#39;, &#39;security_group&#39;],
<span class='lineno'>1717</span>             [&#39;availability_zone&#39;, &#39;vpc_subnet_id&#39;],
<span class='lineno'>1718</span>             [&#39;tower_callback&#39;, &#39;user_data&#39;],
<span class='lineno'>1719</span>             [&#39;image_id&#39;, &#39;image&#39;],
<span class='lineno'>1720</span>         ],
<span class='lineno'>1721</span>         supports_check_mode=True
<span class='lineno'>1722</span>     )
<span class='lineno'>1723</span> 
<span class='lineno'>1724</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;network&#39;):
<span class='lineno'>1725</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;network&#39;).get(&#39;interfaces&#39;):
<span class='lineno'>1726</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;security_group&#39;):
<span class='lineno'>1727</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(msg=&quot;Parameter network.interfaces can&#39;t be used with security_group&quot;)
<span class='lineno'>1728</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;security_groups&#39;):
<span class='lineno'>1729</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(msg=&quot;Parameter network.interfaces can&#39;t be used with security_groups&quot;)
<span class='lineno'>1730</span> 
<span class='lineno'>1731</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', title='?'>state</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;state&#39;)
<span class='lineno'>1732</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', title='?'>ec2</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.client(&#39;ec2&#39;)
<span class='lineno'>1733</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;filters&#39;) is None:
<span class='lineno'>1734</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', title='dict'>filters</a> = {
<span class='lineno'>1735</span>             # all states except shutting-down and terminated
<span class='lineno'>1736</span>             &#39;instance-state-name&#39;: [&#39;pending&#39;, &#39;running&#39;, &#39;stopping&#39;, &#39;stopped&#39;]
<span class='lineno'>1737</span>         }
<span class='lineno'>1738</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', title='?'>state</a> == &#39;stopped&#39;:
<span class='lineno'>1739</span>             # only need to change instances that aren&#39;t already stopped
<span class='lineno'>1740</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', title='dict'>filters</a>[&#39;instance-state-name&#39;] = [&#39;stopping&#39;, &#39;pending&#39;, &#39;running&#39;]
<span class='lineno'>1741</span> 
<span class='lineno'>1742</span>         if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;instance_ids&#39;), string_types):
<span class='lineno'>1743</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', title='dict'>filters</a>[&#39;instance-id&#39;] = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;instance_ids&#39;)]
<span class='lineno'>1744</span>         elif isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;instance_ids&#39;), list) and len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;instance_ids&#39;)):
<span class='lineno'>1745</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', title='dict'>filters</a>[&#39;instance-id&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;instance_ids&#39;)
<span class='lineno'>1746</span>         else:
<span class='lineno'>1747</span>             if not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;vpc_subnet_id&#39;):
<span class='lineno'>1748</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;network&#39;):
<span class='lineno'>1749</span>                     # grab AZ from one of the ENIs
<span class='lineno'>1750</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ints', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ints', title='?'>ints</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;network&#39;).get(&#39;interfaces&#39;)
<span class='lineno'>1751</span>                     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ints', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ints', title='?'>ints</a>:
<span class='lineno'>1752</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', title='dict'>filters</a>[&#39;network-interface.network-interface-id&#39;] = []
<span class='lineno'>1753</span>                         for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.i', title='?'>i</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ints', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ints', title='?'>ints</a>:
<span class='lineno'>1754</span>                             if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.i', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.i', title='dict'>i</a></a>, dict):
<span class='lineno'>1755</span>                                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.i', title='?'>i</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.i', title='dict'>i</a>[&#39;id&#39;]
<span class='lineno'>1756</span>                             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', title='dict'>filters</a>[&#39;network-interface.network-interface-id&#39;].append(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.i', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.i', title='?'>i</a>)
<span class='lineno'>1757</span>                 else:
<span class='lineno'>1758</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.sub', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.sub', title='None'>sub</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_subnet', title='(None, None, None) -> None / (?, None, None) -> None'>get_default_subnet</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', title='?'>ec2</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.get_default_vpc', title='None -> None / ? -> None'>get_default_vpc</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', title='?'>ec2</a>), availability_zone=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;availability_zone&#39;))
<span class='lineno'>1759</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', title='dict'>filters</a>[&#39;subnet-id&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.sub', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.sub', title='None'>sub</a>[&#39;SubnetId&#39;]
<span class='lineno'>1760</span>             else:
<span class='lineno'>1761</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', title='dict'>filters</a>[&#39;subnet-id&#39;] = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;vpc_subnet_id&#39;)]
<span class='lineno'>1762</span> 
<span class='lineno'>1763</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;name&#39;):
<span class='lineno'>1764</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', title='dict'>filters</a>[&#39;tag:Name&#39;] = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;name&#39;)]
<span class='lineno'>1765</span> 
<span class='lineno'>1766</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;image_id&#39;):
<span class='lineno'>1767</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', title='dict'>filters</a>[&#39;image-id&#39;] = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;image_id&#39;)]
<span class='lineno'>1768</span>             elif (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;image&#39;) or {}).get(&#39;id&#39;):
<span class='lineno'>1769</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', title='dict'>filters</a>[&#39;image-id&#39;] = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;image&#39;, {}).get(&#39;id&#39;)]
<span class='lineno'>1770</span> 
<span class='lineno'>1771</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params[&#39;filters&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.filters', title='dict'>filters</a>
<span class='lineno'>1772</span> 
<span class='lineno'>1773</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;cpu_options&#39;) and not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.botocore_at_least(&#39;1.10.16&#39;):
<span class='lineno'>1774</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(msg=&quot;cpu_options is only supported with botocore &gt;= 1.10.16&quot;)
<span class='lineno'>1775</span> 
<span class='lineno'>1776</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.existing_matches', title='{[?] | list}'>existing_matches</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.find_instances', title='(None, None, None) -> {[?] | list} / (?, None, None) -> {[?] | list}'>find_instances</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', title='?'>ec2</a>, filters=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;filters&#39;))
<span class='lineno'>1777</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.changed', title='bool'>changed</a> = False
<span class='lineno'>1778</span> 
<span class='lineno'>1779</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', title='?'>state</a> not in (&#39;terminated&#39;, &#39;absent&#39;) and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.existing_matches', title='{[?] | list}'>existing_matches</a>:
<span class='lineno'>1780</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.match', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.match', title='?'>match</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.existing_matches', title='{[?] | list}'>existing_matches</a>:
<span class='lineno'>1781</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_public_ip_assignment_changed', title='? -> None'>warn_if_public_ip_assignment_changed</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.match', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.match', title='?'>match</a>)
<span class='lineno'>1782</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.warn_if_cpu_options_changed', title='? -> None'>warn_if_cpu_options_changed</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.match', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.match', title='?'>match</a>)
<span class='lineno'>1783</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.tags', title='dict'>tags</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;tags&#39;) or {}
<span class='lineno'>1784</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.name', title='?'>name</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;name&#39;)
<span class='lineno'>1785</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.name', title='?'>name</a>:
<span class='lineno'>1786</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.tags', title='dict'>tags</a>[&#39;Name&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.name', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.name', title='?'>name</a>
<span class='lineno'>1787</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.changed', title='bool'><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.changed', title='bool'>changed</a></a> |= <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.manage_tags', title='(?, dict, ?, ?) -> bool'>manage_tags</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.match', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.match', title='?'>match</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.tags', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.tags', title='dict'>tags</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.params.get(&#39;purge_tags&#39;, False), <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', title='?'>ec2</a>)
<span class='lineno'>1788</span> 
<span class='lineno'>1789</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', title='?'>state</a> in (&#39;present&#39;, &#39;running&#39;, &#39;started&#39;):
<span class='lineno'>1790</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_present', title='({[?] | list}, bool, ?, ?) -> ?'>ensure_present</a>(existing_matches=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.existing_matches', title='{[?] | list}'>existing_matches</a>, changed=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.changed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.changed', title='bool'>changed</a>, ec2=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', title='?'>ec2</a>, state=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', title='?'>state</a>)
<span class='lineno'>1791</span>     elif <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', title='?'>state</a> in (&#39;restarted&#39;, &#39;rebooted&#39;, &#39;stopped&#39;, &#39;absent&#39;, &#39;terminated&#39;):
<span class='lineno'>1792</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.existing_matches', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.existing_matches', title='{[?] | list}'>existing_matches</a>:
<span class='lineno'>1793</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.ensure_instance_state', title='(?, ?) -> None'>ensure_instance_state</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', title='?'>state</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.ec2', title='?'>ec2</a>)
<span class='lineno'>1794</span>         else:
<span class='lineno'>1795</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.exit_json(
<span class='lineno'>1796</span>                 msg=&#39;No matching instances found&#39;,
<span class='lineno'>1797</span>                 changed=False,
<span class='lineno'>1798</span>                 instances=[],
<span class='lineno'>1799</span>             )
<span class='lineno'>1800</span>     else:
<span class='lineno'>1801</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.module', title='None'>module</a>.fail_json(msg=&quot;We don&#39;t handle the state {0}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main.state', title='?'>state</a>))
<span class='lineno'>1802</span> 
<span class='lineno'>1803</span> 
<span class='lineno'>1804</span> if __name__ == &#39;__main__&#39;:
<span class='lineno'>1805</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.test.support.integration.plugins.modules.ec2_instance.main', title='() -> None'>main</a>()
</pre></td></tr></table></body></html>