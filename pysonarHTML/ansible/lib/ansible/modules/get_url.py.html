<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/ansible/lib/ansible/modules/get_url.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.__metaclass__', xid='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.__metaclass__'>__metaclass__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.DOCUMENTATION', xid='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.DOCUMENTATION'>DOCUMENTATION</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.EXAMPLES', xid='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.EXAMPLES'>EXAMPLES</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.RETURN', xid='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.RETURN'>RETURN</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename', xid='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename'>url_filename</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get', xid='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get'>url_get</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers', xid='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers'>extract_filename_from_headers</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main', xid='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main'>main</a></li></ul>
</td><td><pre><span class='lineno'>   1</span> #!/usr/bin/python
<span class='lineno'>   2</span> # -*- coding: utf-8 -*-
<span class='lineno'>   3</span> 
<span class='lineno'>   4</span> # Copyright: (c) 2012, Jan-Piet Mens &lt;jpmens () gmail.com&gt;
<span class='lineno'>   5</span> # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt)
<span class='lineno'>   6</span> 
<span class='lineno'>   7</span> from __future__ import absolute_import, division, print_function
<span class='lineno'>   8</span> <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.__metaclass__', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.__metaclass__', title='? -> ?'>__metaclass__</a> = type
<span class='lineno'>   9</span> 
<span class='lineno'>  10</span> 
<span class='lineno'>  11</span> <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.DOCUMENTATION', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.DOCUMENTATION', title='str'>DOCUMENTATION</a> = r&#39;&#39;&#39;
<span class='lineno'>  12</span> ---
<span class='lineno'>  13</span> module: get_url
<span class='lineno'>  14</span> short_description: Downloads files from HTTP, HTTPS, or FTP to node
<span class='lineno'>  15</span> description:
<span class='lineno'>  16</span>      - Downloads files from HTTP, HTTPS, or FTP to the remote server. The remote
<span class='lineno'>  17</span>        server I(must) have direct access to the remote resource.
<span class='lineno'>  18</span>      - By default, if an environment variable C(&lt;protocol&gt;_proxy) is set on
<span class='lineno'>  19</span>        the target host, requests will be sent through that proxy. This
<span class='lineno'>  20</span>        behaviour can be overridden by setting a variable for this task
<span class='lineno'>  21</span>        (see `setting the environment
<span class='lineno'>  22</span>        &lt;https://docs.ansible.com/playbooks_environment.html&gt;`_),
<span class='lineno'>  23</span>        or by using the use_proxy option.
<span class='lineno'>  24</span>      - HTTP redirects can redirect from HTTP to HTTPS so you should be sure that
<span class='lineno'>  25</span>        your proxy environment for both protocols is correct.
<span class='lineno'>  26</span>      - From Ansible 2.4 when run with C(--check), it will do a HEAD request to validate the URL but
<span class='lineno'>  27</span>        will not download the entire file or verify it against hashes.
<span class='lineno'>  28</span>      - For Windows targets, use the M(win_get_url) module instead.
<span class='lineno'>  29</span> version_added: &#39;0.6&#39;
<span class='lineno'>  30</span> options:
<span class='lineno'>  31</span>   url:
<span class='lineno'>  32</span>     description:
<span class='lineno'>  33</span>       - HTTP, HTTPS, or FTP URL in the form (http|https|ftp)://[user[:pass]]@host.domain[:port]/path
<span class='lineno'>  34</span>     type: str
<span class='lineno'>  35</span>     required: true
<span class='lineno'>  36</span>   dest:
<span class='lineno'>  37</span>     description:
<span class='lineno'>  38</span>       - Absolute path of where to download the file to.
<span class='lineno'>  39</span>       - If C(dest) is a directory, either the server provided filename or, if
<span class='lineno'>  40</span>         none provided, the base name of the URL on the remote server will be
<span class='lineno'>  41</span>         used. If a directory, C(force) has no effect.
<span class='lineno'>  42</span>       - If C(dest) is a directory, the file will always be downloaded
<span class='lineno'>  43</span>         (regardless of the C(force) option), but replaced only if the contents changed..
<span class='lineno'>  44</span>     type: path
<span class='lineno'>  45</span>     required: true
<span class='lineno'>  46</span>   tmp_dest:
<span class='lineno'>  47</span>     description:
<span class='lineno'>  48</span>       - Absolute path of where temporary file is downloaded to.
<span class='lineno'>  49</span>       - When run on Ansible 2.5 or greater, path defaults to ansible&#39;s remote_tmp setting
<span class='lineno'>  50</span>       - When run on Ansible prior to 2.5, it defaults to C(TMPDIR), C(TEMP) or C(TMP) env variables or a platform specific value.
<span class='lineno'>  51</span>       - U(https://docs.python.org/2/library/tempfile.html#tempfile.tempdir)
<span class='lineno'>  52</span>     type: path
<span class='lineno'>  53</span>     version_added: &#39;2.1&#39;
<span class='lineno'>  54</span>   force:
<span class='lineno'>  55</span>     description:
<span class='lineno'>  56</span>       - If C(yes) and C(dest) is not a directory, will download the file every
<span class='lineno'>  57</span>         time and replace the file if the contents change. If C(no), the file
<span class='lineno'>  58</span>         will only be downloaded if the destination does not exist. Generally
<span class='lineno'>  59</span>         should be C(yes) only for small local files.
<span class='lineno'>  60</span>       - Prior to 0.6, this module behaved as if C(yes) was the default.
<span class='lineno'>  61</span>       - Alias C(thirsty) has been deprecated and will be removed in 2.13.
<span class='lineno'>  62</span>     type: bool
<span class='lineno'>  63</span>     default: no
<span class='lineno'>  64</span>     aliases: [ thirsty ]
<span class='lineno'>  65</span>     version_added: &#39;0.7&#39;
<span class='lineno'>  66</span>   backup:
<span class='lineno'>  67</span>     description:
<span class='lineno'>  68</span>       - Create a backup file including the timestamp information so you can get
<span class='lineno'>  69</span>         the original file back if you somehow clobbered it incorrectly.
<span class='lineno'>  70</span>     type: bool
<span class='lineno'>  71</span>     default: no
<span class='lineno'>  72</span>     version_added: &#39;2.1&#39;
<span class='lineno'>  73</span>   sha256sum:
<span class='lineno'>  74</span>     description:
<span class='lineno'>  75</span>       - If a SHA-256 checksum is passed to this parameter, the digest of the
<span class='lineno'>  76</span>         destination file will be calculated after it is downloaded to ensure
<span class='lineno'>  77</span>         its integrity and verify that the transfer completed successfully.
<span class='lineno'>  78</span>         This option is deprecated and will be removed in version 2.14. Use
<span class='lineno'>  79</span>         option C(checksum) instead.
<span class='lineno'>  80</span>     default: &#39;&#39;
<span class='lineno'>  81</span>     version_added: &quot;1.3&quot;
<span class='lineno'>  82</span>   checksum:
<span class='lineno'>  83</span>     description:
<span class='lineno'>  84</span>       - &#39;If a checksum is passed to this parameter, the digest of the
<span class='lineno'>  85</span>         destination file will be calculated after it is downloaded to ensure
<span class='lineno'>  86</span>         its integrity and verify that the transfer completed successfully.
<span class='lineno'>  87</span>         Format: &lt;algorithm&gt;:&lt;checksum|url&gt;, e.g. checksum=&quot;sha256:D98291AC[...]B6DC7B97&quot;,
<span class='lineno'>  88</span>         checksum=&quot;sha256:http://example.com/path/sha256sum.txt&quot;&#39;
<span class='lineno'>  89</span>       - If you worry about portability, only the sha1 algorithm is available
<span class='lineno'>  90</span>         on all platforms and python versions.
<span class='lineno'>  91</span>       - The third party hashlib library can be installed for access to additional algorithms.
<span class='lineno'>  92</span>       - Additionally, if a checksum is passed to this parameter, and the file exist under
<span class='lineno'>  93</span>         the C(dest) location, the I(destination_checksum) would be calculated, and if
<span class='lineno'>  94</span>         checksum equals I(destination_checksum), the file download would be skipped
<span class='lineno'>  95</span>         (unless C(force) is true). If the checksum does not equal I(destination_checksum),
<span class='lineno'>  96</span>         the destination file is deleted.
<span class='lineno'>  97</span>     type: str
<span class='lineno'>  98</span>     default: &#39;&#39;
<span class='lineno'>  99</span>     version_added: &quot;2.0&quot;
<span class='lineno'> 100</span>   use_proxy:
<span class='lineno'> 101</span>     description:
<span class='lineno'> 102</span>       - if C(no), it will not use a proxy, even if one is defined in
<span class='lineno'> 103</span>         an environment variable on the target hosts.
<span class='lineno'> 104</span>     type: bool
<span class='lineno'> 105</span>     default: yes
<span class='lineno'> 106</span>   validate_certs:
<span class='lineno'> 107</span>     description:
<span class='lineno'> 108</span>       - If C(no), SSL certificates will not be validated.
<span class='lineno'> 109</span>       - This should only be used on personally controlled sites using self-signed certificates.
<span class='lineno'> 110</span>     type: bool
<span class='lineno'> 111</span>     default: yes
<span class='lineno'> 112</span>   timeout:
<span class='lineno'> 113</span>     description:
<span class='lineno'> 114</span>       - Timeout in seconds for URL request.
<span class='lineno'> 115</span>     type: int
<span class='lineno'> 116</span>     default: 10
<span class='lineno'> 117</span>     version_added: &#39;1.8&#39;
<span class='lineno'> 118</span>   headers:
<span class='lineno'> 119</span>     description:
<span class='lineno'> 120</span>         - Add custom HTTP headers to a request in hash/dict format.
<span class='lineno'> 121</span>         - The hash/dict format was added in Ansible 2.6.
<span class='lineno'> 122</span>         - Previous versions used a C(&quot;key:value,key:value&quot;) string format.
<span class='lineno'> 123</span>         - The C(&quot;key:value,key:value&quot;) string format is deprecated and has been removed in version 2.10.
<span class='lineno'> 124</span>     type: dict
<span class='lineno'> 125</span>     version_added: &#39;2.0&#39;
<span class='lineno'> 126</span>   url_username:
<span class='lineno'> 127</span>     description:
<span class='lineno'> 128</span>       - The username for use in HTTP basic authentication.
<span class='lineno'> 129</span>       - This parameter can be used without C(url_password) for sites that allow empty passwords.
<span class='lineno'> 130</span>       - Since version 2.8 you can also use the C(username) alias for this option.
<span class='lineno'> 131</span>     type: str
<span class='lineno'> 132</span>     aliases: [&#39;username&#39;]
<span class='lineno'> 133</span>     version_added: &#39;1.6&#39;
<span class='lineno'> 134</span>   url_password:
<span class='lineno'> 135</span>     description:
<span class='lineno'> 136</span>         - The password for use in HTTP basic authentication.
<span class='lineno'> 137</span>         - If the C(url_username) parameter is not specified, the C(url_password) parameter will not be used.
<span class='lineno'> 138</span>         - Since version 2.8 you can also use the &#39;password&#39; alias for this option.
<span class='lineno'> 139</span>     type: str
<span class='lineno'> 140</span>     aliases: [&#39;password&#39;]
<span class='lineno'> 141</span>     version_added: &#39;1.6&#39;
<span class='lineno'> 142</span>   force_basic_auth:
<span class='lineno'> 143</span>     description:
<span class='lineno'> 144</span>       - Force the sending of the Basic authentication header upon initial request.
<span class='lineno'> 145</span>       - httplib2, the library used by the uri module only sends authentication information when a webservice
<span class='lineno'> 146</span>         responds to an initial request with a 401 status. Since some basic auth services do not properly
<span class='lineno'> 147</span>         send a 401, logins will fail.
<span class='lineno'> 148</span>     type: bool
<span class='lineno'> 149</span>     default: no
<span class='lineno'> 150</span>     version_added: &#39;2.0&#39;
<span class='lineno'> 151</span>   client_cert:
<span class='lineno'> 152</span>     description:
<span class='lineno'> 153</span>       - PEM formatted certificate chain file to be used for SSL client authentication.
<span class='lineno'> 154</span>       - This file can also include the key as well, and if the key is included, C(client_key) is not required.
<span class='lineno'> 155</span>     type: path
<span class='lineno'> 156</span>     version_added: &#39;2.4&#39;
<span class='lineno'> 157</span>   client_key:
<span class='lineno'> 158</span>     description:
<span class='lineno'> 159</span>       - PEM formatted file that contains your private key to be used for SSL client authentication.
<span class='lineno'> 160</span>       - If C(client_cert) contains both the certificate and key, this option is not required.
<span class='lineno'> 161</span>     type: path
<span class='lineno'> 162</span>     version_added: &#39;2.4&#39;
<span class='lineno'> 163</span>   http_agent:
<span class='lineno'> 164</span>     description:
<span class='lineno'> 165</span>       - Header to identify as, generally appears in web server logs.
<span class='lineno'> 166</span>     type: str
<span class='lineno'> 167</span>     default: ansible-httpget
<span class='lineno'> 168</span> # informational: requirements for nodes
<span class='lineno'> 169</span> extends_documentation_fragment:
<span class='lineno'> 170</span>     - files
<span class='lineno'> 171</span> notes:
<span class='lineno'> 172</span>      - For Windows targets, use the M(win_get_url) module instead.
<span class='lineno'> 173</span> seealso:
<span class='lineno'> 174</span> - module: uri
<span class='lineno'> 175</span> - module: win_get_url
<span class='lineno'> 176</span> author:
<span class='lineno'> 177</span> - Jan-Piet Mens (@jpmens)
<span class='lineno'> 178</span> &#39;&#39;&#39;
<span class='lineno'> 179</span> 
<span class='lineno'> 180</span> <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.EXAMPLES', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.EXAMPLES', title='str'>EXAMPLES</a> = r&#39;&#39;&#39;
<span class='lineno'> 181</span> - name: Download foo.conf
<span class='lineno'> 182</span>   get_url:
<span class='lineno'> 183</span>     url: http://example.com/path/file.conf
<span class='lineno'> 184</span>     dest: /etc/foo.conf
<span class='lineno'> 185</span>     mode: &#39;0440&#39;
<span class='lineno'> 186</span> 
<span class='lineno'> 187</span> - name: Download file and force basic auth
<span class='lineno'> 188</span>   get_url:
<span class='lineno'> 189</span>     url: http://example.com/path/file.conf
<span class='lineno'> 190</span>     dest: /etc/foo.conf
<span class='lineno'> 191</span>     force_basic_auth: yes
<span class='lineno'> 192</span> 
<span class='lineno'> 193</span> - name: Download file with custom HTTP headers
<span class='lineno'> 194</span>   get_url:
<span class='lineno'> 195</span>     url: http://example.com/path/file.conf
<span class='lineno'> 196</span>     dest: /etc/foo.conf
<span class='lineno'> 197</span>     headers:
<span class='lineno'> 198</span>       key1: one
<span class='lineno'> 199</span>       key2: two
<span class='lineno'> 200</span> 
<span class='lineno'> 201</span> - name: Download file with check (sha256)
<span class='lineno'> 202</span>   get_url:
<span class='lineno'> 203</span>     url: http://example.com/path/file.conf
<span class='lineno'> 204</span>     dest: /etc/foo.conf
<span class='lineno'> 205</span>     checksum: sha256:b5bb9d8014a0f9b1d61e21e796d78dccdf1352f23cd32812f4850b878ae4944c
<span class='lineno'> 206</span> 
<span class='lineno'> 207</span> - name: Download file with check (md5)
<span class='lineno'> 208</span>   get_url:
<span class='lineno'> 209</span>     url: http://example.com/path/file.conf
<span class='lineno'> 210</span>     dest: /etc/foo.conf
<span class='lineno'> 211</span>     checksum: md5:66dffb5228a211e61d6d7ef4a86f5758
<span class='lineno'> 212</span> 
<span class='lineno'> 213</span> - name: Download file with checksum url (sha256)
<span class='lineno'> 214</span>   get_url:
<span class='lineno'> 215</span>     url: http://example.com/path/file.conf
<span class='lineno'> 216</span>     dest: /etc/foo.conf
<span class='lineno'> 217</span>     checksum: sha256:http://example.com/path/sha256sum.txt
<span class='lineno'> 218</span> 
<span class='lineno'> 219</span> - name: Download file from a file path
<span class='lineno'> 220</span>   get_url:
<span class='lineno'> 221</span>     url: file:///tmp/afile.txt
<span class='lineno'> 222</span>     dest: /tmp/afilecopy.txt
<span class='lineno'> 223</span> 
<span class='lineno'> 224</span> - name: &lt; Fetch file that requires authentication.
<span class='lineno'> 225</span>         username/password only available since 2.8, in older versions you need to use url_username/url_password
<span class='lineno'> 226</span>   get_url:
<span class='lineno'> 227</span>     url: http://example.com/path/file.conf
<span class='lineno'> 228</span>     dest: /etc/foo.conf
<span class='lineno'> 229</span>     username: bar
<span class='lineno'> 230</span>     password: &#39;{{ mysecret }}&#39;
<span class='lineno'> 231</span> &#39;&#39;&#39;
<span class='lineno'> 232</span> 
<span class='lineno'> 233</span> <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.RETURN', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.RETURN', title='str'>RETURN</a> = r&#39;&#39;&#39;
<span class='lineno'> 234</span> backup_file:
<span class='lineno'> 235</span>     description: name of backup file created after download
<span class='lineno'> 236</span>     returned: changed and if backup=yes
<span class='lineno'> 237</span>     type: str
<span class='lineno'> 238</span>     sample: /path/to/file.txt.2015-02-12@22:09~
<span class='lineno'> 239</span> checksum_dest:
<span class='lineno'> 240</span>     description: sha1 checksum of the file after copy
<span class='lineno'> 241</span>     returned: success
<span class='lineno'> 242</span>     type: str
<span class='lineno'> 243</span>     sample: 6e642bb8dd5c2e027bf21dd923337cbb4214f827
<span class='lineno'> 244</span> checksum_src:
<span class='lineno'> 245</span>     description: sha1 checksum of the file
<span class='lineno'> 246</span>     returned: success
<span class='lineno'> 247</span>     type: str
<span class='lineno'> 248</span>     sample: 6e642bb8dd5c2e027bf21dd923337cbb4214f827
<span class='lineno'> 249</span> dest:
<span class='lineno'> 250</span>     description: destination file/path
<span class='lineno'> 251</span>     returned: success
<span class='lineno'> 252</span>     type: str
<span class='lineno'> 253</span>     sample: /path/to/file.txt
<span class='lineno'> 254</span> elapsed:
<span class='lineno'> 255</span>     description: The number of seconds that elapsed while performing the download
<span class='lineno'> 256</span>     returned: always
<span class='lineno'> 257</span>     type: int
<span class='lineno'> 258</span>     sample: 23
<span class='lineno'> 259</span> gid:
<span class='lineno'> 260</span>     description: group id of the file
<span class='lineno'> 261</span>     returned: success
<span class='lineno'> 262</span>     type: int
<span class='lineno'> 263</span>     sample: 100
<span class='lineno'> 264</span> group:
<span class='lineno'> 265</span>     description: group of the file
<span class='lineno'> 266</span>     returned: success
<span class='lineno'> 267</span>     type: str
<span class='lineno'> 268</span>     sample: &quot;httpd&quot;
<span class='lineno'> 269</span> md5sum:
<span class='lineno'> 270</span>     description: md5 checksum of the file after download
<span class='lineno'> 271</span>     returned: when supported
<span class='lineno'> 272</span>     type: str
<span class='lineno'> 273</span>     sample: &quot;2a5aeecc61dc98c4d780b14b330e3282&quot;
<span class='lineno'> 274</span> mode:
<span class='lineno'> 275</span>     description: permissions of the target
<span class='lineno'> 276</span>     returned: success
<span class='lineno'> 277</span>     type: str
<span class='lineno'> 278</span>     sample: &quot;0644&quot;
<span class='lineno'> 279</span> msg:
<span class='lineno'> 280</span>     description: the HTTP message from the request
<span class='lineno'> 281</span>     returned: always
<span class='lineno'> 282</span>     type: str
<span class='lineno'> 283</span>     sample: OK (unknown bytes)
<span class='lineno'> 284</span> owner:
<span class='lineno'> 285</span>     description: owner of the file
<span class='lineno'> 286</span>     returned: success
<span class='lineno'> 287</span>     type: str
<span class='lineno'> 288</span>     sample: httpd
<span class='lineno'> 289</span> secontext:
<span class='lineno'> 290</span>     description: the SELinux security context of the file
<span class='lineno'> 291</span>     returned: success
<span class='lineno'> 292</span>     type: str
<span class='lineno'> 293</span>     sample: unconfined_u:object_r:user_tmp_t:s0
<span class='lineno'> 294</span> size:
<span class='lineno'> 295</span>     description: size of the target
<span class='lineno'> 296</span>     returned: success
<span class='lineno'> 297</span>     type: int
<span class='lineno'> 298</span>     sample: 1220
<span class='lineno'> 299</span> src:
<span class='lineno'> 300</span>     description: source file used after download
<span class='lineno'> 301</span>     returned: always
<span class='lineno'> 302</span>     type: str
<span class='lineno'> 303</span>     sample: /tmp/tmpAdFLdV
<span class='lineno'> 304</span> state:
<span class='lineno'> 305</span>     description: state of the target
<span class='lineno'> 306</span>     returned: success
<span class='lineno'> 307</span>     type: str
<span class='lineno'> 308</span>     sample: file
<span class='lineno'> 309</span> status_code:
<span class='lineno'> 310</span>     description: the HTTP status code from the request
<span class='lineno'> 311</span>     returned: always
<span class='lineno'> 312</span>     type: int
<span class='lineno'> 313</span>     sample: 200
<span class='lineno'> 314</span> uid:
<span class='lineno'> 315</span>     description: owner id of the file, after execution
<span class='lineno'> 316</span>     returned: success
<span class='lineno'> 317</span>     type: int
<span class='lineno'> 318</span>     sample: 100
<span class='lineno'> 319</span> url:
<span class='lineno'> 320</span>     description: the actual URL used for the request
<span class='lineno'> 321</span>     returned: always
<span class='lineno'> 322</span>     type: str
<span class='lineno'> 323</span>     sample: https://www.ansible.com/
<span class='lineno'> 324</span> &#39;&#39;&#39;
<span class='lineno'> 325</span> 
<span class='lineno'> 326</span> import datetime
<span class='lineno'> 327</span> import os
<span class='lineno'> 328</span> import re
<span class='lineno'> 329</span> import shutil
<span class='lineno'> 330</span> import <a href='tempfile.py.html#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.tempfile', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.tempfile', title='tempfile'>tempfile</a>
<span class='lineno'> 331</span> import traceback
<span class='lineno'> 332</span> 
<span class='lineno'> 333</span> from ansible.module_utils.basic import AnsibleModule
<span class='lineno'> 334</span> from ansible.module_utils.six.moves.urllib.parse import urlsplit
<span class='lineno'> 335</span> from ansible.module_utils._text import to_native
<span class='lineno'> 336</span> from ansible.module_utils.urls import fetch_url, url_argument_spec
<span class='lineno'> 337</span> 
<span class='lineno'> 338</span> # ==============================================================
<span class='lineno'> 339</span> # url handling
<span class='lineno'> 340</span> 
<span class='lineno'> 341</span> 
<span class='lineno'> 342</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename', title='? -> str'>url_filename</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename.url', title='?'>url</a>):
<span class='lineno'> 343</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename.fn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename.fn', title='str'>fn</a> = os.path.basename(urlsplit(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename.url', title='?'>url</a>)[2])
<span class='lineno'> 344</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename.fn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename.fn', title='str'>fn</a> == &#39;&#39;:
<span class='lineno'> 345</span>         return &#39;index.html&#39;
<span class='lineno'> 346</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename.fn', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename.fn', title='str'>fn</a>
<span class='lineno'> 347</span> 
<span class='lineno'> 348</span> 
<span class='lineno'> 349</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get', title='(?, ?, ?, ?, <datetime>, bool, ?, ?, ?) -> (?, ?) / (?, str, ?, ?, None, ?, ?, ?, ?) -> (?, ?)'>url_get</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', title='?'>module</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', title='str'>url</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.dest', title='?'>dest</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.use_proxy', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.use_proxy', title='?'>use_proxy</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.last_mod_time', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.last_mod_time', title='<datetime>'>last_mod_time</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.force', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.force', title='bool'>force</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.timeout', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.timeout', title='?'>timeout</a>=10, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.headers', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.headers', title='?'>headers</a>=None, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', title='?'>tmp_dest</a>=&#39;&#39;):
<span class='lineno'> 350</span>     &quot;&quot;&quot;
<span class='lineno'> 351</span>     Download data from the url and store in a temporary file.
<span class='lineno'> 352</span> 
<span class='lineno'> 353</span>     Return (tempfile, info about the request)
<span class='lineno'> 354</span>     &quot;&quot;&quot;
<span class='lineno'> 355</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', title='?'>module</a>.check_mode:
<span class='lineno'> 356</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.method', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.method', title='str'>method</a> = &#39;HEAD&#39;
<span class='lineno'> 357</span>     else:
<span class='lineno'> 358</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.method', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.method', title='str'>method</a> = &#39;GET&#39;
<span class='lineno'> 359</span> 
<span class='lineno'> 360</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.start', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.start', title='<datetime>'>start</a> = datetime.datetime.utcnow()
<span class='lineno'> 361</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.rsp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.rsp', title='?'>rsp</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', title='?'>info</a> = fetch_url(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', title='?'>module</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', title='str'>url</a>, use_proxy=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.use_proxy', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.use_proxy', title='?'>use_proxy</a>, force=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.force', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.force', title='bool'>force</a>, last_mod_time=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.last_mod_time', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.last_mod_time', title='<datetime>'>last_mod_time</a>, timeout=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.timeout', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.timeout', title='?'>timeout</a>, headers=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.headers', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.headers', title='?'>headers</a>, method=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.method', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.method', title='str'>method</a>)
<span class='lineno'> 362</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', title='?'>elapsed</a> = (datetime.datetime.utcnow() - <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.start', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.start', title='<datetime>'>start</a>).seconds
<span class='lineno'> 363</span> 
<span class='lineno'> 364</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', title='?'>info</a>[&#39;status&#39;] == 304:
<span class='lineno'> 365</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', title='?'>module</a>.exit_json(url=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', title='str'>url</a>, dest=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.dest', title='?'>dest</a>, changed=False, msg=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', title='?'>info</a>.get(&#39;msg&#39;, &#39;&#39;), status_code=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', title='?'>info</a>[&#39;status&#39;], elapsed=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', title='?'>elapsed</a>)
<span class='lineno'> 366</span> 
<span class='lineno'> 367</span>     # Exceptions in fetch_url may result in a status -1, the ensures a proper error to the user in all cases
<span class='lineno'> 368</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', title='?'>info</a>[&#39;status&#39;] == -1:
<span class='lineno'> 369</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', title='?'>module</a>.fail_json(msg=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', title='?'>info</a>[&#39;msg&#39;], url=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', title='str'>url</a>, dest=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.dest', title='?'>dest</a>, elapsed=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', title='?'>elapsed</a>)
<span class='lineno'> 370</span> 
<span class='lineno'> 371</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', title='?'>info</a>[&#39;status&#39;] != 200 and not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', title='str'>url</a>.startswith(&#39;file:/&#39;) and not (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', title='str'>url</a>.startswith(&#39;ftp:/&#39;) and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', title='?'>info</a>.get(&#39;msg&#39;, &#39;&#39;).startswith(&#39;OK&#39;)):
<span class='lineno'> 372</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', title='?'>module</a>.fail_json(msg=&quot;Request failed&quot;, status_code=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', title='?'>info</a>[&#39;status&#39;], response=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', title='?'>info</a>[&#39;msg&#39;], url=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.url', title='str'>url</a>, dest=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.dest', title='?'>dest</a>, elapsed=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', title='?'>elapsed</a>)
<span class='lineno'> 373</span> 
<span class='lineno'> 374</span>     # create a temporary file and copy content to do checksum-based replacement
<span class='lineno'> 375</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', title='?'>tmp_dest</a>:
<span class='lineno'> 376</span>         # tmp_dest should be an existing dir
<span class='lineno'> 377</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest_is_dir', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest_is_dir', title='int'>tmp_dest_is_dir</a> = os.path.isdir(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', title='?'>tmp_dest</a>)
<span class='lineno'> 378</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest_is_dir', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest_is_dir', title='int'>tmp_dest_is_dir</a>:
<span class='lineno'> 379</span>             if os.path.exists(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', title='?'>tmp_dest</a>):
<span class='lineno'> 380</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', title='?'>module</a>.fail_json(msg=&quot;%s is a file but should be a directory.&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', title='?'>tmp_dest</a>, elapsed=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', title='?'>elapsed</a>)
<span class='lineno'> 381</span>             else:
<span class='lineno'> 382</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', title='?'>module</a>.fail_json(msg=&quot;%s directory does not exist.&quot; % <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', title='?'>tmp_dest</a>, elapsed=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', title='?'>elapsed</a>)
<span class='lineno'> 383</span>     else:
<span class='lineno'> 384</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', title='?'>tmp_dest</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', title='?'>module</a>.tmpdir
<span class='lineno'> 385</span> 
<span class='lineno'> 386</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.fd', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.fd', title='?'>fd</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tempname', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tempname', title='?'>tempname</a> = <a href='tempfile.py.html#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.tempfile', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.tempfile', title='tempfile'>tempfile</a>.mkstemp(dir=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tmp_dest', title='?'>tmp_dest</a>)
<span class='lineno'> 387</span> 
<span class='lineno'> 388</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.f', title='file'>f</a> = os.fdopen(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.fd', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.fd', title='?'>fd</a>, &#39;wb&#39;)
<span class='lineno'> 389</span>     try:
<span class='lineno'> 390</span>         shutil.copyfileobj(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.rsp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.rsp', title='?'>rsp</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.f', title='file'>f</a>)
<span class='lineno'> 391</span>     except Exception as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.e', title='?'>e</a>:
<span class='lineno'> 392</span>         os.remove(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tempname', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tempname', title='?'>tempname</a>)
<span class='lineno'> 393</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.module', title='?'>module</a>.fail_json(msg=&quot;failed to create temporary content file: %s&quot; % to_native(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.e', title='?'>e</a>), elapsed=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.elapsed', title='?'>elapsed</a>, exception=traceback.format_exc())
<span class='lineno'> 394</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.f', title='file'>f</a>.close()
<span class='lineno'> 395</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.rsp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.rsp', title='?'>rsp</a>.close()
<span class='lineno'> 396</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tempname', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.tempname', title='?'>tempname</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get.info', title='?'>info</a>
<span class='lineno'> 397</span> 
<span class='lineno'> 398</span> 
<span class='lineno'> 399</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers', title='? -> str'>extract_filename_from_headers</a>(<a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.headers', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.headers', title='?'>headers</a>):
<span class='lineno'> 400</span>     &quot;&quot;&quot;
<span class='lineno'> 401</span>     Extracts a filename from the given dict of HTTP headers.
<span class='lineno'> 402</span> 
<span class='lineno'> 403</span>     Looks for the content-disposition header and applies a regex.
<span class='lineno'> 404</span>     Returns the filename if successful, else None.&quot;&quot;&quot;
<span class='lineno'> 405</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.cont_disp_regex', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.cont_disp_regex', title='str'>cont_disp_regex</a> = &#39;attachment; ?filename=&quot;?([^&quot;]+)&#39;
<span class='lineno'> 406</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.res', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.res', title='None'>res</a> = None
<span class='lineno'> 407</span> 
<span class='lineno'> 408</span>     if &#39;content-disposition&#39; in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.headers', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.headers', title='?'>headers</a>:
<span class='lineno'> 409</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.cont_disp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.cont_disp', title='?'>cont_disp</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.headers', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.headers', title='?'>headers</a>[&#39;content-disposition&#39;]
<span class='lineno'> 410</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.match', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.match', title='?'>match</a> = re.match(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.cont_disp_regex', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.cont_disp_regex', title='str'>cont_disp_regex</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.cont_disp', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.cont_disp', title='?'>cont_disp</a>)
<span class='lineno'> 411</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.match', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.match', title='?'>match</a>:
<span class='lineno'> 412</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.res', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.res', title='?'>res</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.match', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.match', title='?'>match</a>.group(1)
<span class='lineno'> 413</span>             # Try preventing any funny business.
<span class='lineno'> 414</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.res', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.res', title='str'>res</a> = os.path.basename(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.res', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.res', title='?'>res</a>)
<span class='lineno'> 415</span> 
<span class='lineno'> 416</span>     return <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.res', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers.res', title='str'>res</a>
<span class='lineno'> 417</span> 
<span class='lineno'> 418</span> 
<span class='lineno'> 419</span> # ==============================================================
<span class='lineno'> 420</span> # main
<span class='lineno'> 421</span> 
<span class='lineno'> 422</span> def <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main', title='() -> ?'>main</a>():
<span class='lineno'> 423</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.argument_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.argument_spec', title='?'>argument_spec</a> = url_argument_spec()
<span class='lineno'> 424</span> 
<span class='lineno'> 425</span>     # setup aliases
<span class='lineno'> 426</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.argument_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.argument_spec', title='?'>argument_spec</a>[&#39;url_username&#39;][&#39;aliases&#39;] = [&#39;username&#39;]
<span class='lineno'> 427</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.argument_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.argument_spec', title='?'>argument_spec</a>[&#39;url_password&#39;][&#39;aliases&#39;] = [&#39;password&#39;]
<span class='lineno'> 428</span> 
<span class='lineno'> 429</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.argument_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.argument_spec', title='?'>argument_spec</a>.update(
<span class='lineno'> 430</span>         url=dict(type=&#39;str&#39;, required=True),
<span class='lineno'> 431</span>         dest=dict(type=&#39;path&#39;, required=True),
<span class='lineno'> 432</span>         backup=dict(type=&#39;bool&#39;),
<span class='lineno'> 433</span>         sha256sum=dict(type=&#39;str&#39;, default=&#39;&#39;),
<span class='lineno'> 434</span>         checksum=dict(type=&#39;str&#39;, default=&#39;&#39;),
<span class='lineno'> 435</span>         timeout=dict(type=&#39;int&#39;, default=10),
<span class='lineno'> 436</span>         headers=dict(type=&#39;dict&#39;),
<span class='lineno'> 437</span>         tmp_dest=dict(type=&#39;path&#39;),
<span class='lineno'> 438</span>     )
<span class='lineno'> 439</span> 
<span class='lineno'> 440</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a> = AnsibleModule(
<span class='lineno'> 441</span>         # not checking because of daisy chain to file module
<span class='lineno'> 442</span>         argument_spec=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.argument_spec', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.argument_spec', title='?'>argument_spec</a>,
<span class='lineno'> 443</span>         add_file_common_args=True,
<span class='lineno'> 444</span>         supports_check_mode=True,
<span class='lineno'> 445</span>         mutually_exclusive=[[&#39;checksum&#39;, &#39;sha256sum&#39;]],
<span class='lineno'> 446</span>     )
<span class='lineno'> 447</span> 
<span class='lineno'> 448</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params.get(&#39;thirsty&#39;):
<span class='lineno'> 449</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.deprecate(&#39;The alias &quot;thirsty&quot; has been deprecated and will be removed, use &quot;force&quot; instead&#39;,
<span class='lineno'> 450</span>                          version=&#39;2.13&#39;, collection_name=&#39;ansible.builtin&#39;)
<span class='lineno'> 451</span> 
<span class='lineno'> 452</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params.get(&#39;sha256sum&#39;):
<span class='lineno'> 453</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.deprecate(&#39;The parameter &quot;sha256sum&quot; has been deprecated and will be removed, use &quot;checksum&quot; instead&#39;,
<span class='lineno'> 454</span>                          version=&#39;2.14&#39;, collection_name=&#39;ansible.builtin&#39;)
<span class='lineno'> 455</span> 
<span class='lineno'> 456</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.url', title='?'>url</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params[&#39;url&#39;]
<span class='lineno'> 457</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='?'>dest</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params[&#39;dest&#39;]
<span class='lineno'> 458</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.backup', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.backup', title='?'>backup</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params[&#39;backup&#39;]
<span class='lineno'> 459</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.force', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.force', title='?'>force</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params[&#39;force&#39;]
<span class='lineno'> 460</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.sha256sum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.sha256sum', title='?'>sha256sum</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params[&#39;sha256sum&#39;]
<span class='lineno'> 461</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='?'>checksum</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params[&#39;checksum&#39;]
<span class='lineno'> 462</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.use_proxy', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.use_proxy', title='?'>use_proxy</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params[&#39;use_proxy&#39;]
<span class='lineno'> 463</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.timeout', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.timeout', title='?'>timeout</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params[&#39;timeout&#39;]
<span class='lineno'> 464</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.headers', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.headers', title='?'>headers</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params[&#39;headers&#39;]
<span class='lineno'> 465</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmp_dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmp_dest', title='?'>tmp_dest</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params[&#39;tmp_dest&#39;]
<span class='lineno'> 466</span> 
<span class='lineno'> 467</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a> = dict(
<span class='lineno'> 468</span>         changed=False,
<span class='lineno'> 469</span>         checksum_dest=None,
<span class='lineno'> 470</span>         checksum_src=None,
<span class='lineno'> 471</span>         dest=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='?'>dest</a>,
<span class='lineno'> 472</span>         elapsed=0,
<span class='lineno'> 473</span>         url=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.url', title='?'>url</a>,
<span class='lineno'> 474</span>     )
<span class='lineno'> 475</span> 
<span class='lineno'> 476</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest_is_dir', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest_is_dir', title='int'>dest_is_dir</a> = os.path.isdir(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='?'>dest</a>)
<span class='lineno'> 477</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.last_mod_time', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.last_mod_time', title='None'>last_mod_time</a> = None
<span class='lineno'> 478</span> 
<span class='lineno'> 479</span>     # workaround for usage of deprecated sha256sum parameter
<span class='lineno'> 480</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.sha256sum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.sha256sum', title='?'>sha256sum</a>:
<span class='lineno'> 481</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a> = &#39;sha256:%s&#39; % (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.sha256sum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.sha256sum', title='?'>sha256sum</a>)
<span class='lineno'> 482</span> 
<span class='lineno'> 483</span>     # checksum specified, parse for algorithm and checksum
<span class='lineno'> 484</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a>:
<span class='lineno'> 485</span>         try:
<span class='lineno'> 486</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.algorithm', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.algorithm', title='str'>algorithm</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a>.split(&#39;:&#39;, 1)
<span class='lineno'> 487</span>         except ValueError:
<span class='lineno'> 488</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.fail_json(msg=&quot;The checksum parameter has to be in format &lt;algorithm&gt;:&lt;checksum&gt;&quot;, **result)
<span class='lineno'> 489</span> 
<span class='lineno'> 490</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a>.startswith(&#39;http://&#39;) or <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a>.startswith(&#39;https://&#39;) or <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a>.startswith(&#39;ftp://&#39;):
<span class='lineno'> 491</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_url', title='str'>checksum_url</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a>
<span class='lineno'> 492</span>             # download checksum file to checksum_tmpsrc
<span class='lineno'> 493</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_tmpsrc', title='?'>checksum_tmpsrc</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_info', title='?'>checksum_info</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get', title='(?, ?, ?, ?, <datetime>, bool, ?, ?, ?) -> (?, ?) / (?, str, ?, ?, None, ?, ?, ?, ?) -> (?, ?)'>url_get</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_url', title='str'>checksum_url</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='?'>dest</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.use_proxy', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.use_proxy', title='?'>use_proxy</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.last_mod_time', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.last_mod_time', title='None'>last_mod_time</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.force', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.force', title='?'>force</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.timeout', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.timeout', title='?'>timeout</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.headers', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.headers', title='?'>headers</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmp_dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmp_dest', title='?'>tmp_dest</a>)
<span class='lineno'> 494</span>             with open(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_tmpsrc', title='?'>checksum_tmpsrc</a>) as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.f', title='file'>f</a>:
<span class='lineno'> 495</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.lines', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.lines', title='[?]'>lines</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.line', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.line', title='?'>line</a>.rstrip(&#39;\n&#39;) for <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.line', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.line', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.line', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.line', title='?'>line</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.f', title='file'>f</a>]
<span class='lineno'> 496</span>             os.remove(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_tmpsrc', title='?'>checksum_tmpsrc</a>)
<span class='lineno'> 497</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_map', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_map', title='dict'>checksum_map</a> = {}
<span class='lineno'> 498</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.line', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.line', title='?'>line</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.lines', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.lines', title='[?]'>lines</a>:
<span class='lineno'> 499</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.parts', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.parts', title='?'>parts</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.line', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.line', title='?'>line</a>.split(None, 1)
<span class='lineno'> 500</span>                 if len(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.parts', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.parts', title='?'>parts</a>) == 2:
<span class='lineno'> 501</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_map', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_map', title='dict'>checksum_map</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.parts', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.parts', title='?'>parts</a>[0]] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.parts', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.parts', title='?'>parts</a>[1]
<span class='lineno'> 502</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', title='str'>filename</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename', title='? -> str'>url_filename</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.url', title='?'>url</a>)
<span class='lineno'> 503</span> 
<span class='lineno'> 504</span>             # Look through each line in the checksum file for a hash corresponding to
<span class='lineno'> 505</span>             # the filename in the url, returning the first hash that is found.
<span class='lineno'> 506</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.cksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.cksum', title='?'>cksum</a> in (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.s', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.s', title='?'>s</a> for (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.s', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.s', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.s', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.s', title='?'>s</a></a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.f', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.f', title='?'>f</a></a>) in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_map', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_map', title='dict'>checksum_map</a>.items() if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.f', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.f', title='?'>f</a>.strip(&#39;./&#39;) == <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', title='str'>filename</a>):
<span class='lineno'> 507</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='?'>checksum</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.cksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.cksum', title='?'>cksum</a>
<span class='lineno'> 508</span>                 break
<span class='lineno'> 509</span>             else:
<span class='lineno'> 510</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='None'>checksum</a> = None
<span class='lineno'> 511</span> 
<span class='lineno'> 512</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a> is None:
<span class='lineno'> 513</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.fail_json(msg=&quot;Unable to find a checksum for file &#39;%s&#39; in &#39;%s&#39;&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', title='str'>filename</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_url', title='str'>checksum_url</a>))
<span class='lineno'> 514</span>         # Remove any non-alphanumeric characters, including the infamous
<span class='lineno'> 515</span>         # Unicode zero-width space
<span class='lineno'> 516</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='?'>checksum</a> = re.sub(r&#39;\W+&#39;, &#39;&#39;, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a>).lower()
<span class='lineno'> 517</span>         # Ensure the checksum portion is a hexdigest
<span class='lineno'> 518</span>         try:
<span class='lineno'> 519</span>             int(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='?'>checksum</a>, 16)
<span class='lineno'> 520</span>         except ValueError:
<span class='lineno'> 521</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.fail_json(msg=&#39;The checksum format is invalid&#39;, **result)
<span class='lineno'> 522</span> 
<span class='lineno'> 523</span>     if not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest_is_dir', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest_is_dir', title='int'>dest_is_dir</a> and os.path.exists(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='?'>dest</a>):
<span class='lineno'> 524</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_mismatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_mismatch', title='bool'>checksum_mismatch</a> = False
<span class='lineno'> 525</span> 
<span class='lineno'> 526</span>         # If the download is not forced and there is a checksum, allow
<span class='lineno'> 527</span>         # checksum match to skip the download.
<span class='lineno'> 528</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.force', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.force', title='?'>force</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a> != &#39;&#39;:
<span class='lineno'> 529</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.destination_checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.destination_checksum', title='?'>destination_checksum</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.digest_from_file(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='?'>dest</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.algorithm', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.algorithm', title='str'>algorithm</a>)
<span class='lineno'> 530</span> 
<span class='lineno'> 531</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a> != <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.destination_checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.destination_checksum', title='?'>destination_checksum</a>:
<span class='lineno'> 532</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_mismatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_mismatch', title='bool'>checksum_mismatch</a> = True
<span class='lineno'> 533</span> 
<span class='lineno'> 534</span>         # Not forcing redownload, unless checksum does not match
<span class='lineno'> 535</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.force', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.force', title='?'>force</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a> and not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_mismatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_mismatch', title='bool'>checksum_mismatch</a>:
<span class='lineno'> 536</span>             # Not forcing redownload, unless checksum does not match
<span class='lineno'> 537</span>             # allow file attribute changes
<span class='lineno'> 538</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.file_args', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.file_args', title='?'>file_args</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.load_file_common_arguments(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params, path=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='?'>dest</a>)
<span class='lineno'> 539</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;changed&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.set_fs_attributes_if_different(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.file_args', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.file_args', title='?'>file_args</a>, False)
<span class='lineno'> 540</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;changed&#39;]:
<span class='lineno'> 541</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.exit_json(msg=&quot;file already exists but file attributes changed&quot;, **result)
<span class='lineno'> 542</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.exit_json(msg=&quot;file already exists&quot;, **result)
<span class='lineno'> 543</span> 
<span class='lineno'> 544</span>         # If the file already exists, prepare the last modified time for the
<span class='lineno'> 545</span>         # request.
<span class='lineno'> 546</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.mtime', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.mtime', title='int'>mtime</a> = os.path.getmtime(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='?'>dest</a>)
<span class='lineno'> 547</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.last_mod_time', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.last_mod_time', title='<datetime>'>last_mod_time</a> = datetime.datetime.utcfromtimestamp(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.mtime', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.mtime', title='int'>mtime</a>)
<span class='lineno'> 548</span> 
<span class='lineno'> 549</span>         # If the checksum does not match we have to force the download
<span class='lineno'> 550</span>         # because last_mod_time may be newer than on remote
<span class='lineno'> 551</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_mismatch', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum_mismatch', title='bool'>checksum_mismatch</a>:
<span class='lineno'> 552</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.force', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.force', title='bool'>force</a> = True
<span class='lineno'> 553</span> 
<span class='lineno'> 554</span>     # download to tmpsrc
<span class='lineno'> 555</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.start', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.start', title='<datetime>'>start</a> = datetime.datetime.utcnow()
<span class='lineno'> 556</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>, <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', title='?'>info</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_get', title='(?, ?, ?, ?, <datetime>, bool, ?, ?, ?) -> (?, ?) / (?, str, ?, ?, None, ?, ?, ?, ?) -> (?, ?)'>url_get</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.url', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.url', title='?'>url</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='?'>dest</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.use_proxy', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.use_proxy', title='?'>use_proxy</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.last_mod_time', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.last_mod_time', title='<datetime>'>last_mod_time</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.force', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.force', title='bool'>force</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.timeout', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.timeout', title='?'>timeout</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.headers', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.headers', title='?'>headers</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmp_dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmp_dest', title='?'>tmp_dest</a>)
<span class='lineno'> 557</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;elapsed&#39;] = (datetime.datetime.utcnow() - <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.start', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.start', title='<datetime>'>start</a>).seconds
<span class='lineno'> 558</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;src&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>
<span class='lineno'> 559</span> 
<span class='lineno'> 560</span>     # Now the request has completed, we can finally generate the final
<span class='lineno'> 561</span>     # destination file name from the info dict.
<span class='lineno'> 562</span> 
<span class='lineno'> 563</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest_is_dir', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest_is_dir', title='int'>dest_is_dir</a>:
<span class='lineno'> 564</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', title='str'>filename</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.extract_filename_from_headers', title='? -> str'>extract_filename_from_headers</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', title='?'>info</a>)
<span class='lineno'> 565</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', title='str'>filename</a>:
<span class='lineno'> 566</span>             # Fall back to extracting the filename from the URL.
<span class='lineno'> 567</span>             # Pluck the URL from the info, since a redirect could have changed
<span class='lineno'> 568</span>             # it.
<span class='lineno'> 569</span>             <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', title='str'>filename</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.url_filename', title='? -> str'>url_filename</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', title='?'>info</a>[&#39;url&#39;])
<span class='lineno'> 570</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a> = os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='?'>dest</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.filename', title='str'>filename</a>)
<span class='lineno'> 571</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;dest&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>
<span class='lineno'> 572</span> 
<span class='lineno'> 573</span>     # raise an error if there is no tmpsrc file
<span class='lineno'> 574</span>     if not os.path.exists(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>):
<span class='lineno'> 575</span>         os.remove(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>)
<span class='lineno'> 576</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.fail_json(msg=&quot;Request failed&quot;, status_code=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', title='?'>info</a>[&#39;status&#39;], response=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', title='?'>info</a>[&#39;msg&#39;], **result)
<span class='lineno'> 577</span>     if not os.access(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>, os.R_OK):
<span class='lineno'> 578</span>         os.remove(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>)
<span class='lineno'> 579</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.fail_json(msg=&quot;Source %s is not readable&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>), **result)
<span class='lineno'> 580</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;checksum_src&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.sha1(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>)
<span class='lineno'> 581</span> 
<span class='lineno'> 582</span>     # check if there is no dest file
<span class='lineno'> 583</span>     if os.path.exists(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>):
<span class='lineno'> 584</span>         # raise an error if copy has no permission on dest
<span class='lineno'> 585</span>         if not os.access(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>, os.W_OK):
<span class='lineno'> 586</span>             os.remove(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>)
<span class='lineno'> 587</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.fail_json(msg=&quot;Destination %s is not writable&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>), **result)
<span class='lineno'> 588</span>         if not os.access(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>, os.R_OK):
<span class='lineno'> 589</span>             os.remove(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>)
<span class='lineno'> 590</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.fail_json(msg=&quot;Destination %s is not readable&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>), **result)
<span class='lineno'> 591</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;checksum_dest&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.sha1(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>)
<span class='lineno'> 592</span>     else:
<span class='lineno'> 593</span>         if not os.path.exists(os.path.dirname(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>)):
<span class='lineno'> 594</span>             os.remove(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>)
<span class='lineno'> 595</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.fail_json(msg=&quot;Destination %s does not exist&quot; % (os.path.dirname(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>)), **result)
<span class='lineno'> 596</span>         if not os.access(os.path.dirname(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>), os.W_OK):
<span class='lineno'> 597</span>             os.remove(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>)
<span class='lineno'> 598</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.fail_json(msg=&quot;Destination %s is not writable&quot; % (os.path.dirname(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>)), **result)
<span class='lineno'> 599</span> 
<span class='lineno'> 600</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.check_mode:
<span class='lineno'> 601</span>         if os.path.exists(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>):
<span class='lineno'> 602</span>             os.remove(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>)
<span class='lineno'> 603</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;changed&#39;] = (&#39;checksum_dest&#39; not in <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a> or
<span class='lineno'> 604</span>                              <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;checksum_src&#39;] != <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;checksum_dest&#39;])
<span class='lineno'> 605</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.exit_json(msg=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', title='?'>info</a>.get(&#39;msg&#39;, &#39;&#39;), **result)
<span class='lineno'> 606</span> 
<span class='lineno'> 607</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.backup_file', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.backup_file', title='None'>backup_file</a> = None
<span class='lineno'> 608</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;checksum_src&#39;] != <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;checksum_dest&#39;]:
<span class='lineno'> 609</span>         try:
<span class='lineno'> 610</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.backup', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.backup', title='?'>backup</a>:
<span class='lineno'> 611</span>                 if os.path.exists(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>):
<span class='lineno'> 612</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.backup_file', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.backup_file', title='?'>backup_file</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.backup_local(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>)
<span class='lineno'> 613</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.atomic_move(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>)
<span class='lineno'> 614</span>         except Exception as <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.e', title='?'>e</a>:
<span class='lineno'> 615</span>             if os.path.exists(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>):
<span class='lineno'> 616</span>                 os.remove(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>)
<span class='lineno'> 617</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.fail_json(msg=&quot;failed to copy %s to %s: %s&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>, to_native(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.e', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.e', title='?'>e</a>)),
<span class='lineno'> 618</span>                              exception=traceback.format_exc(), **result)
<span class='lineno'> 619</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;changed&#39;] = True
<span class='lineno'> 620</span>     else:
<span class='lineno'> 621</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;changed&#39;] = False
<span class='lineno'> 622</span>         if os.path.exists(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>):
<span class='lineno'> 623</span>             os.remove(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.tmpsrc', title='?'>tmpsrc</a>)
<span class='lineno'> 624</span> 
<span class='lineno'> 625</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a> != &#39;&#39;:
<span class='lineno'> 626</span>         <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.destination_checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.destination_checksum', title='?'>destination_checksum</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.digest_from_file(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.algorithm', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.algorithm', title='str'>algorithm</a>)
<span class='lineno'> 627</span> 
<span class='lineno'> 628</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a> != <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.destination_checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.destination_checksum', title='?'>destination_checksum</a>:
<span class='lineno'> 629</span>             os.remove(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>)
<span class='lineno'> 630</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.fail_json(msg=&quot;The checksum for %s did not match %s; it was %s.&quot; % (<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.checksum', title='str'>checksum</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.destination_checksum', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.destination_checksum', title='?'>destination_checksum</a>), **result)
<span class='lineno'> 631</span> 
<span class='lineno'> 632</span>     # allow file attribute changes
<span class='lineno'> 633</span>     <a name='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.file_args', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.file_args', title='?'>file_args</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.load_file_common_arguments(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.params, path=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>)
<span class='lineno'> 634</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;changed&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.set_fs_attributes_if_different(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.file_args', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.file_args', title='?'>file_args</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;changed&#39;])
<span class='lineno'> 635</span> 
<span class='lineno'> 636</span>     # Backwards compat only.  We&#39;ll return None on FIPS enabled systems
<span class='lineno'> 637</span>     try:
<span class='lineno'> 638</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;md5sum&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.md5(<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.dest', title='str'>dest</a>)
<span class='lineno'> 639</span>     except ValueError:
<span class='lineno'> 640</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;md5sum&#39;] = None
<span class='lineno'> 641</span> 
<span class='lineno'> 642</span>     if <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.backup_file', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.backup_file', title='None'>backup_file</a>:
<span class='lineno'> 643</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.result', title='dict'>result</a>[&#39;backup_file&#39;] = <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.backup_file', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.backup_file', title='None'>backup_file</a>
<span class='lineno'> 644</span> 
<span class='lineno'> 645</span>     # Mission complete
<span class='lineno'> 646</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.module', title='?'>module</a>.exit_json(msg=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', title='?'>info</a>.get(&#39;msg&#39;, &#39;&#39;), status_code=<a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main.info', title='?'>info</a>.get(&#39;status&#39;, &#39;&#39;), **result)
<span class='lineno'> 647</span> 
<span class='lineno'> 648</span> 
<span class='lineno'> 649</span> if __name__ == &#39;__main__&#39;:
<span class='lineno'> 650</span>     <a href='#.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main', xid ='.home.xxm.Desktop.EMSE.dataset.ansible.lib.ansible.modules.get_url.main', title='() -> ?'>main</a>()
</pre></td></tr></table></body></html>