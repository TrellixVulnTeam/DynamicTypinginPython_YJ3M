<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/faceswap/scripts/convert.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger'>logger</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert'>Convert</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size'>_queue_size</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes'>_pool_processes</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate'>_validate</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues'>_add_queues</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process'>process</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images'>_convert_images</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error'>_check_thread_error</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO'>DiskIO</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.completion_event', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.completion_event'>completion_event</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.draw_transparent', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.draw_transparent'>draw_transparent</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode'>pre_encode</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.save_thread', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.save_thread'>save_thread</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_thread', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_thread'>load_thread</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_queue', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_queue'>load_queue</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count'>_total_count</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer'>_get_writer</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges'>_get_frame_ranges</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor'>_load_extractor</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads'>_init_threads</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue'>_add_queue</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread'>_start_thread</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load'>_load</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe'>_check_skipframe</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces'>_get_detected_faces</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces'>_alignments_faces</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments'>_check_alignments</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces'>_detect_faces</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save'>_save</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict'>Predict</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.thread', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.thread'>thread</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.in_queue', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.in_queue'>in_queue</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.out_queue', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.out_queue'>out_queue</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.faces_count', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.faces_count'>faces_count</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.verify_output', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.verify_output'>verify_output</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio'>coverage_ratio</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.has_predicted_mask', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.has_predicted_mask'>has_predicted_mask</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size'>output_size</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_size', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_size'>_input_size</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask'>_input_mask</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize'>_get_batchsize</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth'>_set_tf_allow_growth</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model'>_load_model</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name'>_get_model_name</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor'>_launch_predictor</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces'>_predict_faces</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned'>load_aligned</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces'>_compile_feed_faces</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict'>_predict</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out'>_filter_multi_out</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames'>_queue_out_frames</a></li></ul>
</li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions'>OptionalActions</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces'>_remove_skipped_faces</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes'>_get_face_hashes</a></li></ul>
</li></ul>
</td><td><pre><span class='lineno'>   1</span> #!/usr/bin python3
<span class='lineno'>   2</span> &quot;&quot;&quot; Main entry point to the convert process of FaceSwap &quot;&quot;&quot;
<span class='lineno'>   3</span> 
<span class='lineno'>   4</span> import logging
<span class='lineno'>   5</span> import re
<span class='lineno'>   6</span> import os
<span class='lineno'>   7</span> import sys
<span class='lineno'>   8</span> from threading import Event
<span class='lineno'>   9</span> from time import sleep
<span class='lineno'>  10</span> 
<span class='lineno'>  11</span> import cv2
<span class='lineno'>  12</span> import numpy as np
<span class='lineno'>  13</span> from tqdm import tqdm
<span class='lineno'>  14</span> import tensorflow as tf
<span class='lineno'>  15</span> from keras.backend.tensorflow_backend import set_session
<span class='lineno'>  16</span> 
<span class='lineno'>  17</span> from <a href='__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts', title='scripts'>scripts</a>.<a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia', title='fsmedia'>fsmedia</a> import <a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.Alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.Alignments', title='<Alignments>'>Alignments</a>, <a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.PostProcess', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.PostProcess', title='<PostProcess>'>PostProcess</a>, <a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.finalize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.finalize', title='(ImagesLoader -> int, Predict -> int, Predict -> None) -> None / (?, ?, ?) -> None / (?, Alignments -> int, bool) -> None'>finalize</a>
<span class='lineno'>  18</span> from <a href='../lib/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib', title='lib'>lib</a>.<a href='../lib/serializer.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.serializer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.serializer', title='serializer'>serializer</a> import <a href='../lib/serializer.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.serializer.get_serializer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.serializer.get_serializer', title='? -> {<_JSONSerializer> | _CompressedSerializer | _JSONSerializer | _NPYSerializer | _PickleSerializer | _YAMLSerializer} / str -> {<_JSONSerializer> | _CompressedSerializer | _JSONSerializer | _NPYSerializer | _PickleSerializer | _YAMLSerializer}'>get_serializer</a>
<span class='lineno'>  19</span> from <a href='../lib/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib', title='lib'>lib</a>.<a href='../lib/convert.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.convert', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.convert', title='convert'>convert</a> import <a href='../lib/convert.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.convert.Converter', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.convert.Converter', title='<Converter>'>Converter</a>
<span class='lineno'>  20</span> from <a href='../lib/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib', title='lib'>lib</a>.<a href='../lib/faces_detect.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.faces_detect', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.faces_detect', title='faces_detect'>faces_detect</a> import <a href='../lib/faces_detect.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.faces_detect.DetectedFace', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.faces_detect.DetectedFace', title='<DetectedFace>'>DetectedFace</a>
<span class='lineno'>  21</span> from <a href='../lib/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib', title='lib'>lib</a>.<a href='../lib/gpu_stats.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.gpu_stats', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.gpu_stats', title='gpu_stats'>gpu_stats</a> import <a href='../lib/gpu_stats.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.gpu_stats.GPUStats', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.gpu_stats.GPUStats', title='<GPUStats>'>GPUStats</a>
<span class='lineno'>  22</span> from <a href='../lib/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib', title='lib'>lib</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image', title='image'>image</a> import <a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.read_image_hash', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.read_image_hash', title='? -> None'>read_image_hash</a>, <a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader', title='<ImagesLoader>'>ImagesLoader</a>
<span class='lineno'>  23</span> from <a href='../lib/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib', title='lib'>lib</a>.<a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading', title='multithreading'>multithreading</a> import <a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread', title='<MultiThread>'>MultiThread</a>, <a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.total_cpus', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.total_cpus', title='() -> None'>total_cpus</a>
<span class='lineno'>  24</span> from <a href='../lib/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib', title='lib'>lib</a>.<a href='../lib/queue_manager.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager', title='{QueueManager | queue_manager}'>queue_manager</a> import queue_manager
<span class='lineno'>  25</span> from <a href='../lib/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib', title='lib'>lib</a>.<a href='../lib/utils.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils', title='utils'>utils</a> import <a href='../lib/utils.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.FaceswapError', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.FaceswapError', title='<FaceswapError>'>FaceswapError</a>, <a href='../lib/utils.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_backend', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_backend', title='() -> str'>get_backend</a>, <a href='../lib/utils.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_folder', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_folder', title='(None, bool) -> None / (ImageIO -> None, bool) -> None / (?, bool) -> None / (str, bool) -> None'>get_folder</a>, <a href='../lib/utils.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_image_paths', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_image_paths', title='None -> list / ? -> list / ImageIO -> None -> list'>get_image_paths</a>
<span class='lineno'>  26</span> from <a href='../plugins/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins', title='plugins'>plugins</a>.<a href='../plugins/extract/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract', title='extract'>extract</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline', title='pipeline'>pipeline</a> import <a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor', title='<Extractor>'>Extractor</a>, <a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.ExtractMedia', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.ExtractMedia', title='<ExtractMedia>'>ExtractMedia</a>
<span class='lineno'>  27</span> from <a href='../plugins/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins', title='plugins'>plugins</a>.<a href='../plugins/plugin_loader.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.plugin_loader', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.plugin_loader', title='plugin_loader'>plugin_loader</a> import <a href='../plugins/plugin_loader.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.plugin_loader.PluginLoader', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.plugin_loader.PluginLoader', title='<PluginLoader>'>PluginLoader</a>
<span class='lineno'>  28</span> 
<span class='lineno'>  29</span> <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a> = logging.getLogger(__name__)  # pylint: disable=invalid-name
<span class='lineno'>  30</span> 
<span class='lineno'>  31</span> 
<span class='lineno'>  32</span> class <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert', title='<Convert>'>Convert</a>():  # pylint:disable=too-few-public-methods
<span class='lineno'>  33</span>     &quot;&quot;&quot; The Faceswap Face Conversion Process.
<span class='lineno'>  34</span> 
<span class='lineno'>  35</span>     The conversion process is responsible for swapping the faces on source frames with the output
<span class='lineno'>  36</span>     from a trained model.
<span class='lineno'>  37</span> 
<span class='lineno'>  38</span>     It leverages a series of user selected post-processing plugins, executed from
<span class='lineno'>  39</span>     :class:`lib.convert.Converter`.
<span class='lineno'>  40</span> 
<span class='lineno'>  41</span>     The convert process is self contained and should not be referenced by any other scripts, so it
<span class='lineno'>  42</span>     contains no public properties.
<span class='lineno'>  43</span> 
<span class='lineno'>  44</span>     Parameters
<span class='lineno'>  45</span>     ----------
<span class='lineno'>  46</span>     arguments: :class:`argparse.Namespace`
<span class='lineno'>  47</span>         The arguments to be passed to the convert process as generated from Faceswap&#39;s command
<span class='lineno'>  48</span>         line arguments
<span class='lineno'>  49</span>     &quot;&quot;&quot;
<span class='lineno'>  50</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.arguments', title='?'>arg</a>uments):
<span class='lineno'>  51</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Initializing %s: (args: %s)&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.__class__.__name__, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.arguments', title='?'>arguments</a>)
<span class='lineno'>  52</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.arguments', title='?'>arguments</a>
<span class='lineno'>  53</span> 
<span class='lineno'>  54</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._patch_threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._patch_threads', title='MultiThread'>_patch_threads</a> = None
<span class='lineno'>  55</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', title='ImagesLoader'>_images</a> = <a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader', title='<ImagesLoader>'>ImagesLoader</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.input_dir, fast_count=True)
<span class='lineno'>  56</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', title='Alignments'>_alignments</a> = <a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.Alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.Alignments', title='<Alignments>'>Alignments</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>, False, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.is_video', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.is_video', title='ImagesLoader -> None'>is_video</a>)
<span class='lineno'>  57</span> 
<span class='lineno'>  58</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._opts', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._opts', title='OptionalActions'>_opts</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions', title='<OptionalActions>'>OptionalActions</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.file_list', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.file_list', title='ImagesLoader -> None'>file_list</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', title='Alignments'>_alignments</a>)
<span class='lineno'>  59</span> 
<span class='lineno'>  60</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues', title='Convert -> None'>_add_queues</a>()
<span class='lineno'>  61</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', title='DiskIO'>_disk_io</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO', title='<DiskIO>'>DiskIO</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', title='Alignments'>_alignments</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', title='ImagesLoader'>_images</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.arguments', title='?'>arguments</a>)
<span class='lineno'>  62</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', title='Predict'>_predictor</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict', title='<Predict>'>Predict</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', title='DiskIO'>_disk_io</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_queue', title='DiskIO -> None'>load_queue</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size', title='Convert -> int'>_queue_size</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.arguments', title='?'>arguments</a>)
<span class='lineno'>  63</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate', title='Convert -> None'>_validate</a>()
<span class='lineno'>  64</span>         <a href='../lib/utils.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_folder', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_folder', title='(None, bool) -> None / (ImageIO -> None, bool) -> None / (?, bool) -> None / (str, bool) -> None'>get_folder</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.output_dir)
<span class='lineno'>  65</span> 
<span class='lineno'>  66</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.configfile', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.configfile', title='None'>configfile</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.configfile if hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>, &quot;configfile&quot;) else None
<span class='lineno'>  67</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._converter', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._converter', title='Converter'>_converter</a> = <a href='../lib/convert.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.convert.Converter', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.convert.Converter', title='<Converter>'>Converter</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', title='Predict'>_predictor</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size', title='Predict -> None'>output_size</a>,
<span class='lineno'>  68</span>                                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', title='Predict'>_predictor</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio', title='Predict -> None'>coverage_ratio</a>,
<span class='lineno'>  69</span>                                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', title='DiskIO'>_disk_io</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.draw_transparent', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.draw_transparent', title='DiskIO -> None'>draw_transparent</a>,
<span class='lineno'>  70</span>                                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', title='DiskIO'>_disk_io</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode', title='DiskIO -> None / Converter -> None'>pre_encode</a>,
<span class='lineno'>  71</span>                                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.arguments', title='?'>arguments</a>,
<span class='lineno'>  72</span>                                     configfile=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.configfile', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.configfile', title='None'>configfile</a>)
<span class='lineno'>  73</span> 
<span class='lineno'>  74</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Initialized %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.__init__.self', title='Convert'>self</a>.__class__.__name__)
<span class='lineno'>  75</span> 
<span class='lineno'>  76</span>     @property
<span class='lineno'>  77</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size', title='Convert -> int'>_queue_size</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size.self', title='Convert'>sel</a>f):
<span class='lineno'>  78</span>         &quot;&quot;&quot; int: Size of the converter queues. 16 for single process otherwise 32 &quot;&quot;&quot;
<span class='lineno'>  79</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.singleprocess:
<span class='lineno'>  80</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size.retval', title='int'>retval</a> = 16
<span class='lineno'>  81</span>         else:
<span class='lineno'>  82</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size.retval', title='int'>retval</a> = 32
<span class='lineno'>  83</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size.retval', title='int'>retval</a>)
<span class='lineno'>  84</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size.retval', title='int'>retval</a>
<span class='lineno'>  85</span> 
<span class='lineno'>  86</span>     @property
<span class='lineno'>  87</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes', title='Convert -> int'>_pool_processes</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.self', title='Convert'>sel</a>f):
<span class='lineno'>  88</span>         &quot;&quot;&quot; int: The number of threads to run in parallel. Based on user options and number of
<span class='lineno'>  89</span>         available processors. &quot;&quot;&quot;
<span class='lineno'>  90</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.singleprocess:
<span class='lineno'>  91</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', title='int'>retval</a> = 1
<span class='lineno'>  92</span>         elif <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.jobs &gt; 0:
<span class='lineno'>  93</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', title='int'>retval</a> = min(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.jobs, <a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.total_cpus', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.total_cpus', title='() -> None'>total_cpus</a>(), <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.count', title='ImagesLoader -> int'>count</a>)
<span class='lineno'>  94</span>         else:
<span class='lineno'>  95</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', title='int'>retval</a> = min(<a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.total_cpus', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.total_cpus', title='() -> None'>total_cpus</a>(), <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.count', title='ImagesLoader -> int'>count</a>)
<span class='lineno'>  96</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', title='int'>retval</a> = 1 if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', title='int'>retval</a> == 0 else <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', title='int'>retval</a>
<span class='lineno'>  97</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', title='int'>retval</a>)
<span class='lineno'>  98</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes.retval', title='int'>retval</a>
<span class='lineno'>  99</span> 
<span class='lineno'> 100</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate', title='Convert -> None'>_validate</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>sel</a>f):
<span class='lineno'> 101</span>         &quot;&quot;&quot; Validate the Command Line Options.
<span class='lineno'> 102</span> 
<span class='lineno'> 103</span>         Ensure that certain cli selections are valid and won&#39;t result in an error. Checks:
<span class='lineno'> 104</span>             * If frames have been passed in with video output, ensure user supplies reference
<span class='lineno'> 105</span>             video.
<span class='lineno'> 106</span>             * If a mask-type is selected, ensure it exists in the alignments file.
<span class='lineno'> 107</span>             * If a predicted mask-type is selected, ensure model has been trained with a mask
<span class='lineno'> 108</span>             otherwise attempt to select first available masks, otherwise raise error.
<span class='lineno'> 109</span> 
<span class='lineno'> 110</span>         Raises
<span class='lineno'> 111</span>         ------
<span class='lineno'> 112</span>         FaceswapError
<span class='lineno'> 113</span>             If an invalid selection has been found.
<span class='lineno'> 114</span> 
<span class='lineno'> 115</span>         &quot;&quot;&quot;
<span class='lineno'> 116</span>         if (<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.writer == &quot;ffmpeg&quot; and
<span class='lineno'> 117</span>                 not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.is_video', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.is_video', title='ImagesLoader -> None'>is_video</a> and
<span class='lineno'> 118</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.reference_video is None):
<span class='lineno'> 119</span>             raise FaceswapError(&quot;Output as video selected, but using frames as input. You must &quot;
<span class='lineno'> 120</span>                                 &quot;provide a reference video (&#39;-ref&#39;, &#39;--reference-video&#39;).&quot;)
<span class='lineno'> 121</span>         if (<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.mask_type not in (&quot;none&quot;, &quot;predicted&quot;) and
<span class='lineno'> 122</span>                 not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.mask_is_valid', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.mask_is_valid', title='(Alignments, ?) -> int'>mask_is_valid</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.mask_type)):
<span class='lineno'> 123</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.msg', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.msg', title='?'>msg</a> = (&quot;You have selected the Mask Type `{}` but at least one face does not have this &quot;
<span class='lineno'> 124</span>                    &quot;mask stored in the Alignments File.\nYou should generate the required masks &quot;
<span class='lineno'> 125</span>                    &quot;with the Mask Tool or set the Mask Type option to an existing Mask Type.\nA &quot;
<span class='lineno'> 126</span>                    &quot;summary of existing masks is as follows:\nTotal faces: {}, Masks: &quot;
<span class='lineno'> 127</span>                    &quot;{}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.mask_type, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.faces_count', title='Alignments -> int'>faces_count</a>,
<span class='lineno'> 128</span>                                <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.mask_summary', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.mask_summary', title='Alignments -> dict'>mask_summary</a>))
<span class='lineno'> 129</span>             raise FaceswapError(msg)
<span class='lineno'> 130</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.mask_type == &quot;predicted&quot; and not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', title='Predict'>_predictor</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.has_predicted_mask', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.has_predicted_mask', title='Predict -> bool'>has_predicted_mask</a>:
<span class='lineno'> 131</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.available_masks', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.available_masks', title='[?]'>available_masks</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.k', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.k', title='?'>k</a> for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.k', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.k', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.k', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.k', title='?'>k</a></a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.v', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.v', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.v', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.v', title='?'>v</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.mask_summary', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.mask_summary', title='Alignments -> dict'>mask_summary</a>.items()
<span class='lineno'> 132</span>                                if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.k', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.k', title='?'>k</a> != &quot;none&quot; and <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.v', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.v', title='?'>v</a> == <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.faces_count', title='Alignments -> int'>faces_count</a>]
<span class='lineno'> 133</span>             if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.available_masks', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.available_masks', title='[?]'>available_masks</a>:
<span class='lineno'> 134</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.msg', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.msg', title='str'>msg</a> = (&quot;Predicted Mask selected, but the model was not trained with a mask and no &quot;
<span class='lineno'> 135</span>                        &quot;masks are stored in the Alignments File.\nYou should generate the &quot;
<span class='lineno'> 136</span>                        &quot;required masks with the Mask Tool or set the Mask Type to `none`.&quot;)
<span class='lineno'> 137</span>                 raise FaceswapError(msg)
<span class='lineno'> 138</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.mask_type', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.mask_type', title='?'>mask_type</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.available_masks', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.available_masks', title='[?]'>available_masks</a>[0]
<span class='lineno'> 139</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.warning(&quot;Predicted Mask selected, but the model was not trained with a &quot;
<span class='lineno'> 140</span>                            &quot;mask. Selecting first available mask: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.mask_type', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.mask_type', title='?'>mask_type</a>)
<span class='lineno'> 141</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._args', title='?'>_args</a>.mask_type = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.mask_type', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._validate.mask_type', title='?'>mask_type</a>
<span class='lineno'> 142</span> 
<span class='lineno'> 143</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues', title='Convert -> None'>_add_queues</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues.self', title='Convert'>sel</a>f):
<span class='lineno'> 144</span>         &quot;&quot;&quot; Add the queues for in, patch and out. &quot;&quot;&quot;
<span class='lineno'> 145</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Adding queues. Queue size: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size', title='Convert -> int'>_queue_size</a>)
<span class='lineno'> 146</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues.qname', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues.qname', title='str'>qname</a> in (&quot;convert_in&quot;, &quot;convert_out&quot;, &quot;patch&quot;):
<span class='lineno'> 147</span>             <a href='../lib/queue_manager.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.queue_manager', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.queue_manager', title='QueueManager'>queue_manager</a>.<a href='../lib/queue_manager.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.QueueManager.add_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.QueueManager.add_queue', title='(QueueManager, ?, int) -> None / (QueueManager, str, int) -> None / (QueueManager, str, Convert -> int) -> None'>add_queue</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues.qname', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues.qname', title='str'>qname</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._add_queues.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._queue_size', title='Convert -> int'>_queue_size</a>)
<span class='lineno'> 148</span> 
<span class='lineno'> 149</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process', title='Convert -> ?'>process</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.self', title='Convert'>sel</a>f):
<span class='lineno'> 150</span>         &quot;&quot;&quot; The entry point for triggering the Conversion Process.
<span class='lineno'> 151</span> 
<span class='lineno'> 152</span>         Should only be called from  :class:`lib.cli.launcher.ScriptExecutor`
<span class='lineno'> 153</span>         &quot;&quot;&quot;
<span class='lineno'> 154</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Starting Conversion&quot;)
<span class='lineno'> 155</span>         # queue_manager.debug_monitor(5)
<span class='lineno'> 156</span>         try:
<span class='lineno'> 157</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images', title='Convert -> None'>_convert_images</a>()
<span class='lineno'> 158</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', title='DiskIO'>_disk_io</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.save_thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.save_thread', title='DiskIO -> None'>save_thread</a>.join()
<span class='lineno'> 159</span>             <a href='../lib/queue_manager.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.queue_manager', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.queue_manager', title='QueueManager'>queue_manager</a>.<a href='../lib/queue_manager.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.QueueManager.terminate_queues', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.QueueManager.terminate_queues', title='QueueManager -> None'>terminate_queues</a>()
<span class='lineno'> 160</span> 
<span class='lineno'> 161</span>             <a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.finalize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.finalize', title='(ImagesLoader -> int, Predict -> int, Predict -> None) -> None / (?, ?, ?) -> None / (?, Alignments -> int, bool) -> None'>finalize</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.count', title='ImagesLoader -> int'>count</a>,
<span class='lineno'> 162</span>                      <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', title='Predict'>_predictor</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.faces_count', title='Predict -> int'>faces_count</a>,
<span class='lineno'> 163</span>                      <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', title='Predict'>_predictor</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.verify_output', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.verify_output', title='Predict -> None'>verify_output</a>)
<span class='lineno'> 164</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Completed Conversion&quot;)
<span class='lineno'> 165</span>         except MemoryError as err:
<span class='lineno'> 166</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.msg', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert.process.msg', title='str'>msg</a> = (&quot;Faceswap ran out of RAM running convert. Conversion is very system RAM &quot;
<span class='lineno'> 167</span>                    &quot;heavy, so this can happen in certain circumstances when you have a lot of &quot;
<span class='lineno'> 168</span>                    &quot;cpus but not enough RAM to support them all.&quot;
<span class='lineno'> 169</span>                    &quot;\nYou should lower the number of processes in use by either setting the &quot;
<span class='lineno'> 170</span>                    &quot;&#39;singleprocess&#39; flag (-sp) or lowering the number of parallel jobs (-j).&quot;)
<span class='lineno'> 171</span>             raise FaceswapError(msg) from err
<span class='lineno'> 172</span> 
<span class='lineno'> 173</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images', title='Convert -> None'>_convert_images</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', title='Convert'>sel</a>f):
<span class='lineno'> 174</span>         &quot;&quot;&quot; Start the multi-threaded patching process, monitor all threads for errors and join on
<span class='lineno'> 175</span>         completion. &quot;&quot;&quot;
<span class='lineno'> 176</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Converting images&quot;)
<span class='lineno'> 177</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.save_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.save_queue', title='None'>save_queue</a> = <a href='../lib/queue_manager.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.queue_manager', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.queue_manager', title='QueueManager'>queue_manager</a>.<a href='../lib/queue_manager.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.QueueManager.get_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.QueueManager.get_queue', title='(QueueManager, ?, int) -> None / (QueueManager, str, int) -> None'>get_queue</a>(&quot;convert_out&quot;)
<span class='lineno'> 178</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.patch_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.patch_queue', title='None'>patch_queue</a> = <a href='../lib/queue_manager.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.queue_manager', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.queue_manager', title='QueueManager'>queue_manager</a>.<a href='../lib/queue_manager.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.QueueManager.get_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.QueueManager.get_queue', title='(QueueManager, ?, int) -> None / (QueueManager, str, int) -> None'>get_queue</a>(&quot;patch&quot;)
<span class='lineno'> 179</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._patch_threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._patch_threads', title='MultiThread'>_patch_threads</a> = <a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread', title='<MultiThread>'>MultiThread</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._converter', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._converter', title='Converter'>_converter</a>.<a href='../lib/convert.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.convert.Converter.process', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.convert.Converter.process', title='(Converter, ?, None) -> ? / (Converter, ?, ?) -> ?'>process</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.patch_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.patch_queue', title='None'>patch_queue</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.save_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.save_queue', title='None'>save_queue</a>,
<span class='lineno'> 180</span>                                           thread_count=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._pool_processes', title='Convert -> int'>_pool_processes</a>, name=&quot;patch&quot;)
<span class='lineno'> 181</span> 
<span class='lineno'> 182</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._patch_threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._patch_threads', title='MultiThread'>_patch_threads</a>.<a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread.start', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread.start', title='BackgroundGenerator -> None / MultiThread -> None'>start</a>()
<span class='lineno'> 183</span>         while True:
<span class='lineno'> 184</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error', title='Convert -> None'>_check_thread_error</a>()
<span class='lineno'> 185</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', title='DiskIO'>_disk_io</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.completion_event', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.completion_event', title='DiskIO -> None'>completion_event</a>.is_set():
<span class='lineno'> 186</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;DiskIO completion event set. Joining Pool&quot;)
<span class='lineno'> 187</span>                 break
<span class='lineno'> 188</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._patch_threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._patch_threads', title='MultiThread'>_patch_threads</a>.<a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread.completed', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread.completed', title='MultiThread -> int'>completed</a>():
<span class='lineno'> 189</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;All patch threads completed&quot;)
<span class='lineno'> 190</span>                 break
<span class='lineno'> 191</span>             sleep(1)
<span class='lineno'> 192</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._patch_threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._patch_threads', title='MultiThread'>_patch_threads</a>.<a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread.join', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread.join', title='MultiThread -> None'>join</a>()
<span class='lineno'> 193</span> 
<span class='lineno'> 194</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Putting EOF&quot;)
<span class='lineno'> 195</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.save_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._convert_images.save_queue', title='None'>save_queue</a>.put(&quot;EOF&quot;)
<span class='lineno'> 196</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Converted images&quot;)
<span class='lineno'> 197</span> 
<span class='lineno'> 198</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error', title='Convert -> None'>_check_thread_error</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.self', title='Convert'>sel</a>f):
<span class='lineno'> 199</span>         &quot;&quot;&quot; Monitor all running threads for errors, and raise accordingly. &quot;&quot;&quot;
<span class='lineno'> 200</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.thread', title='{DiskIO -> None | DiskIO -> None | Predict -> MultiThread}'>thread</a> in (<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._predictor', title='Predict'>_predictor</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.thread', title='Predict -> MultiThread'>thread</a>,
<span class='lineno'> 201</span>                        <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', title='DiskIO'>_disk_io</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_thread', title='DiskIO -> None'>load_thread</a>,
<span class='lineno'> 202</span>                        <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._disk_io', title='DiskIO'>_disk_io</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.save_thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.save_thread', title='DiskIO -> None'>save_thread</a>,
<span class='lineno'> 203</span>                        <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.self', title='Convert'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._patch_threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._patch_threads', title='MultiThread'>_patch_threads</a>):
<span class='lineno'> 204</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Convert._check_thread_error.thread', title='{DiskIO -> None | DiskIO -> None | Predict -> MultiThread}'>thread</a>.check_and_raise_error()
<span class='lineno'> 205</span> 
<span class='lineno'> 206</span> 
<span class='lineno'> 207</span> class <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO', title='<DiskIO>'>DiskIO</a>():
<span class='lineno'> 208</span>     &quot;&quot;&quot; Disk Input/Output for the converter process.
<span class='lineno'> 209</span> 
<span class='lineno'> 210</span>     Background threads to:
<span class='lineno'> 211</span>         * Load images from disk and get the detected faces
<span class='lineno'> 212</span>         * Save images back to disk
<span class='lineno'> 213</span> 
<span class='lineno'> 214</span>     Parameters
<span class='lineno'> 215</span>     ----------
<span class='lineno'> 216</span>     alignments: :class:`lib.alignmnents.Alignments`
<span class='lineno'> 217</span>         The alignments for the input video
<span class='lineno'> 218</span>     images: :class:`lib.image.ImagesLoader`
<span class='lineno'> 219</span>         The input images
<span class='lineno'> 220</span>     arguments: :class:`argparse.Namespace`
<span class='lineno'> 221</span>         The arguments that were passed to the convert process as generated from Faceswap&#39;s command
<span class='lineno'> 222</span>         line arguments
<span class='lineno'> 223</span>     &quot;&quot;&quot;
<span class='lineno'> 224</span> 
<span class='lineno'> 225</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.alignments', title='Alignments'>ali</a>gnments, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.images', title='ImagesLoader'>ima</a>ges, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.arguments', title='?'>arg</a>uments):
<span class='lineno'> 226</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Initializing %s: (alignments: %s, images: %s, arguments: %s)&quot;,
<span class='lineno'> 227</span>                      <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.__class__.__name__, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.alignments', title='Alignments'>alignments</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.images', title='ImagesLoader'>images</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.arguments', title='?'>arguments</a>)
<span class='lineno'> 228</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', title='Alignments'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', title='Alignments'>_alignments</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.alignments', title='Alignments'>alignments</a>
<span class='lineno'> 229</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', title='ImagesLoader'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', title='ImagesLoader'>_images</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.images', title='ImagesLoader'>images</a>
<span class='lineno'> 230</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.arguments', title='?'>arguments</a>
<span class='lineno'> 231</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._pre_process', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._pre_process', title='PostProcess'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._pre_process', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._pre_process', title='PostProcess'>_pre_process</a></a> = <a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.PostProcess', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.PostProcess', title='<PostProcess>'>PostProcess</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.arguments', title='?'>arguments</a>)
<span class='lineno'> 232</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._completion_event', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._completion_event', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._completion_event', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._completion_event', title='?'>_completion_event</a></a> = Event()
<span class='lineno'> 233</span> 
<span class='lineno'> 234</span>         # For frame skipping
<span class='lineno'> 235</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._imageidxre', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._imageidxre', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._imageidxre', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._imageidxre', title='?'>_imageidxre</a></a> = re.compile(r&quot;(\d+)(?!.*\d\.)(?=\.\w+$)&quot;)
<span class='lineno'> 236</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', title='list'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', title='list'>_frame_ranges</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges', title='DiskIO -> list'>_get_frame_ranges</a>()
<span class='lineno'> 237</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', title='None'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', title='None'>_writer</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer', title='DiskIO -> None'>_get_writer</a>()
<span class='lineno'> 238</span> 
<span class='lineno'> 239</span>         # Extractor for on the fly detection
<span class='lineno'> 240</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._extractor', title='Extractor'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._extractor', title='Extractor'>_extractor</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor', title='DiskIO -> Extractor'>_load_extractor</a>()
<span class='lineno'> 241</span> 
<span class='lineno'> 242</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', title='dict'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', title='dict'>_queues</a></a> = dict(load=None, save=None)
<span class='lineno'> 243</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._threads', title='dict'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._threads', title='dict'>_threads</a></a> = dict(oad=None, save=None)
<span class='lineno'> 244</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads', title='DiskIO -> None'>_init_threads</a>()
<span class='lineno'> 245</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Initialized %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.__init__.self', title='DiskIO'>self</a>.__class__.__name__)
<span class='lineno'> 246</span> 
<span class='lineno'> 247</span>     @property
<span class='lineno'> 248</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.completion_event', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.completion_event', title='DiskIO -> None'>completion_event</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.completion_event.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.completion_event.self', title='DiskIO'>sel</a>f):
<span class='lineno'> 249</span>         &quot;&quot;&quot; :class:`event.Event`: Event is set when the DiskIO Save task is complete &quot;&quot;&quot;
<span class='lineno'> 250</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.completion_event.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.completion_event.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._completion_event', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._completion_event', title='?'>_completion_event</a>
<span class='lineno'> 251</span> 
<span class='lineno'> 252</span>     @property
<span class='lineno'> 253</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.draw_transparent', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.draw_transparent', title='DiskIO -> None'>draw_transparent</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.draw_transparent.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.draw_transparent.self', title='DiskIO'>sel</a>f):
<span class='lineno'> 254</span>         &quot;&quot;&quot; bool: ``True`` if the selected writer&#39;s Draw_transparent configuration item is set
<span class='lineno'> 255</span>         otherwise ``False`` &quot;&quot;&quot;
<span class='lineno'> 256</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.draw_transparent.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.draw_transparent.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', title='None'>_writer</a>.config.get(&quot;draw_transparent&quot;, False)
<span class='lineno'> 257</span> 
<span class='lineno'> 258</span>     @property
<span class='lineno'> 259</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode', title='DiskIO -> None / Converter -> None'>pre_encode</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.self', title='{Converter | DiskIO}'>sel</a>f):
<span class='lineno'> 260</span>         &quot;&quot;&quot; python function: Selected writer&#39;s pre-encode function, if it has one,
<span class='lineno'> 261</span>         otherwise ``None`` &quot;&quot;&quot;
<span class='lineno'> 262</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.dummy', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.dummy', title='?'>dummy</a> = np.zeros((20, 20, 3), dtype=&quot;uint8&quot;)
<span class='lineno'> 263</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.test', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.test', title='?'>test</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.self', title='{Converter | DiskIO}'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', title='None'>_writer</a>.pre_encode(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.dummy', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.dummy', title='?'>dummy</a>)
<span class='lineno'> 264</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.retval', title='None'>retval</a> = None if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.test', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.test', title='?'>test</a> is None else <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.self', title='{Converter | DiskIO}'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', title='None'>_writer</a>.pre_encode
<span class='lineno'> 265</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Writer pre_encode function: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.retval', title='None'>retval</a>)
<span class='lineno'> 266</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.pre_encode.retval', title='None'>retval</a>
<span class='lineno'> 267</span> 
<span class='lineno'> 268</span>     @property
<span class='lineno'> 269</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.save_thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.save_thread', title='DiskIO -> None'>save_thread</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.save_thread.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.save_thread.self', title='DiskIO'>sel</a>f):
<span class='lineno'> 270</span>         &quot;&quot;&quot; :class:`lib.multithreading.MultiThread`: The thread that is running the image writing
<span class='lineno'> 271</span>         operation. &quot;&quot;&quot;
<span class='lineno'> 272</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.save_thread.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.save_thread.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._threads', title='dict'>_threads</a>[&quot;save&quot;]
<span class='lineno'> 273</span> 
<span class='lineno'> 274</span>     @property
<span class='lineno'> 275</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_thread', title='DiskIO -> None'>load_thread</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_thread.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_thread.self', title='DiskIO'>sel</a>f):
<span class='lineno'> 276</span>         &quot;&quot;&quot; :class:`lib.multithreading.MultiThread`: The thread that is running the image loading
<span class='lineno'> 277</span>         operation. &quot;&quot;&quot;
<span class='lineno'> 278</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_thread.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_thread.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._threads', title='dict'>_threads</a>[&quot;load&quot;]
<span class='lineno'> 279</span> 
<span class='lineno'> 280</span>     @property
<span class='lineno'> 281</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_queue', title='DiskIO -> None'>load_queue</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_queue.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_queue.self', title='DiskIO'>sel</a>f):
<span class='lineno'> 282</span>         &quot;&quot;&quot; :class:`queue.Queue()`: The queue that images and detected faces are loaded into. &quot;&quot;&quot;
<span class='lineno'> 283</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_queue.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO.load_queue.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', title='dict'>_queues</a>[&quot;load&quot;]
<span class='lineno'> 284</span> 
<span class='lineno'> 285</span>     @property
<span class='lineno'> 286</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count', title='DiskIO -> {ImagesLoader -> int | int}'>_total_count</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.self', title='DiskIO'>sel</a>f):
<span class='lineno'> 287</span>         &quot;&quot;&quot; int: The total number of frames to be converted &quot;&quot;&quot;
<span class='lineno'> 288</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', title='list'>_frame_ranges</a> and not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.keep_unchanged:
<span class='lineno'> 289</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.retval', title='int'>retval</a> = sum([<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.fr', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.fr', title='<list>'>fr</a>[1] - <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.fr', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.fr', title='<list>'>fr</a>[0] + 1 for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.fr', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.fr', title='<list>'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.fr', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.fr', title='<list>'>fr</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', title='list'>_frame_ranges</a>])
<span class='lineno'> 290</span>         else:
<span class='lineno'> 291</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.retval', title='ImagesLoader -> int'>retval</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.count', title='ImagesLoader -> int'>count</a>
<span class='lineno'> 292</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.retval', title='{ImagesLoader -> int | int}'>retval</a>)
<span class='lineno'> 293</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count.retval', title='{ImagesLoader -> int | int}'>retval</a>
<span class='lineno'> 294</span> 
<span class='lineno'> 295</span>     # Initialization
<span class='lineno'> 296</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer', title='DiskIO -> None'>_get_writer</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', title='DiskIO'>sel</a>f):
<span class='lineno'> 297</span>         &quot;&quot;&quot; Load the selected writer plugin.
<span class='lineno'> 298</span> 
<span class='lineno'> 299</span>         Returns
<span class='lineno'> 300</span>         -------
<span class='lineno'> 301</span>         :mod:`plugins.convert.writer` plugin
<span class='lineno'> 302</span>             The requested writer plugin
<span class='lineno'> 303</span>         &quot;&quot;&quot;
<span class='lineno'> 304</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.args', title='[?]'>args</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.output_dir]
<span class='lineno'> 305</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.writer in (&quot;ffmpeg&quot;, &quot;gif&quot;):
<span class='lineno'> 306</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.args', title='[?]'>args</a>.extend([<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count', title='DiskIO -> {ImagesLoader -> int | int}'>_total_count</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', title='list'>_frame_ranges</a>])
<span class='lineno'> 307</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.writer == &quot;ffmpeg&quot;:
<span class='lineno'> 308</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', title='?'>_images</a>.is_video:
<span class='lineno'> 309</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.args', title='[?]'>args</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.input_dir)
<span class='lineno'> 310</span>             else:
<span class='lineno'> 311</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.args', title='[?]'>args</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.reference_video)
<span class='lineno'> 312</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Writer args: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.args', title='[?]'>args</a>)
<span class='lineno'> 313</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.configfile', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.configfile', title='None'>configfile</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.configfile if hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>, &quot;configfile&quot;) else None
<span class='lineno'> 314</span>         return <a href='../plugins/plugin_loader.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.plugin_loader.PluginLoader', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.plugin_loader.PluginLoader', title='<PluginLoader>'>PluginLoader</a>.<a href='../plugins/plugin_loader.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.plugin_loader.PluginLoader.get_converter', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.plugin_loader.PluginLoader.get_converter', title='(?, ?, bool) -> None / (str, str, bool) -> None / (str, ?, bool) -> None'>get_converter</a>(&quot;writer&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.writer)(*<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.args', title='[?]'>args</a>,
<span class='lineno'> 315</span>                                                                        configfile=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.configfile', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_writer.configfile', title='None'>configfile</a>)
<span class='lineno'> 316</span> 
<span class='lineno'> 317</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges', title='DiskIO -> list'>_get_frame_ranges</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', title='DiskIO'>sel</a>f):
<span class='lineno'> 318</span>         &quot;&quot;&quot; Obtain the frame ranges that are to be converted.
<span class='lineno'> 319</span> 
<span class='lineno'> 320</span>         If frame ranges have been specified, then split the command line formatted arguments into
<span class='lineno'> 321</span>         ranges that can be used.
<span class='lineno'> 322</span> 
<span class='lineno'> 323</span>         Returns
<span class='lineno'> 324</span>         list or ``None``
<span class='lineno'> 325</span>             A list of  frames to be processed, or ``None`` if the command line argument was not
<span class='lineno'> 326</span>             used
<span class='lineno'> 327</span>         &quot;&quot;&quot;
<span class='lineno'> 328</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.frame_ranges:
<span class='lineno'> 329</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;No frame range set&quot;)
<span class='lineno'> 330</span>             return None
<span class='lineno'> 331</span> 
<span class='lineno'> 332</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.minframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.minframe', title='None'>minframe</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.maxframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.maxframe', title='None'>maxframe</a> = None, None
<span class='lineno'> 333</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', title='?'>_images</a>.is_video:
<span class='lineno'> 334</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.minframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.minframe', title='int'>minframe</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.maxframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.maxframe', title='?'>maxframe</a> = 1, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', title='?'>_images</a>.count
<span class='lineno'> 335</span>         else:
<span class='lineno'> 336</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.indices', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.indices', title='[int]'>indices</a> = [int(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._imageidxre', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._imageidxre', title='?'>_imageidxre</a>.findall(os.path.basename(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.filename', title='?'>filename</a>))[0])
<span class='lineno'> 337</span>                        for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.filename', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.filename', title='?'>filename</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', title='?'>_images</a>.file_list]
<span class='lineno'> 338</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.indices', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.indices', title='[int]'>indices</a>:
<span class='lineno'> 339</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.minframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.minframe', title='int'>minframe</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.maxframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.maxframe', title='int'>maxframe</a> = min(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.indices', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.indices', title='[int]'>indices</a>), max(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.indices', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.indices', title='[int]'>indices</a>)
<span class='lineno'> 340</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;minframe: %s, maxframe: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.minframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.minframe', title='int'>minframe</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.maxframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.maxframe', title='int'>maxframe</a>)
<span class='lineno'> 341</span> 
<span class='lineno'> 342</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.minframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.minframe', title='int'>minframe</a> is None or <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.maxframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.maxframe', title='int'>maxframe</a> is None:
<span class='lineno'> 343</span>             raise FaceswapError(&quot;Frame Ranges specified, but could not determine frame numbering &quot;
<span class='lineno'> 344</span>                                 &quot;from filenames&quot;)
<span class='lineno'> 345</span> 
<span class='lineno'> 346</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.retval', title='list'>retval</a> = list()
<span class='lineno'> 347</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.rng', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.rng', title='?'>rng</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.frame_ranges:
<span class='lineno'> 348</span>             if &quot;-&quot; not in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.rng', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.rng', title='?'>rng</a>:
<span class='lineno'> 349</span>                 raise FaceswapError(&quot;Frame Ranges not specified in the correct format&quot;)
<span class='lineno'> 350</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.start', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.start', title='?'>start</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.end', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.end', title='?'>end</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.rng', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.rng', title='?'>rng</a>.split(&quot;-&quot;)
<span class='lineno'> 351</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.retval', title='list'>retval</a>.append((max(int(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.start', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.start', title='?'>start</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.minframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.minframe', title='int'>minframe</a>), min(int(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.end', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.end', title='?'>end</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.maxframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.maxframe', title='int'>maxframe</a>)))
<span class='lineno'> 352</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;frame ranges: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.retval', title='list'>retval</a>)
<span class='lineno'> 353</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.retval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_frame_ranges.retval', title='list'>retval</a>
<span class='lineno'> 354</span> 
<span class='lineno'> 355</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor', title='DiskIO -> Extractor'>_load_extractor</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', title='DiskIO'>sel</a>f):
<span class='lineno'> 356</span>         &quot;&quot;&quot; Load the CV2-DNN Face Extractor Chain.
<span class='lineno'> 357</span> 
<span class='lineno'> 358</span>         For On-The-Fly conversion we use a CPU based extractor to avoid stacking the GPU.
<span class='lineno'> 359</span>         Results are poor.
<span class='lineno'> 360</span> 
<span class='lineno'> 361</span>         Returns
<span class='lineno'> 362</span>         -------
<span class='lineno'> 363</span>         :class:`plugins.extract.Pipeline.Extractor`
<span class='lineno'> 364</span>             The face extraction chain to be used for on-the-fly conversion
<span class='lineno'> 365</span>         &quot;&quot;&quot;
<span class='lineno'> 366</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', title='?'>_alignments</a>.have_alignments_file and not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.on_the_fly:
<span class='lineno'> 367</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.error(&quot;No alignments file found. Please provide an alignments file for your &quot;
<span class='lineno'> 368</span>                          &quot;destination video (recommended) or enable on-the-fly conversion (not &quot;
<span class='lineno'> 369</span>                          &quot;recommended).&quot;)
<span class='lineno'> 370</span>             sys.exit(1)
<span class='lineno'> 371</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', title='?'>_alignments</a>.have_alignments_file:
<span class='lineno'> 372</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.on_the_fly:
<span class='lineno'> 373</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.info(&quot;On-The-Fly conversion selected, but an alignments file was found. &quot;
<span class='lineno'> 374</span>                             &quot;Using pre-existing alignments file: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', title='?'>_alignments</a>.file)
<span class='lineno'> 375</span>             else:
<span class='lineno'> 376</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Alignments file found: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', title='?'>_alignments</a>.file)
<span class='lineno'> 377</span>             return None
<span class='lineno'> 378</span> 
<span class='lineno'> 379</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Loading extractor&quot;)
<span class='lineno'> 380</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.warning(&quot;On-The-Fly conversion selected. This will use the inferior cv2-dnn for &quot;
<span class='lineno'> 381</span>                        &quot;extraction and will produce poor results.&quot;)
<span class='lineno'> 382</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.warning(&quot;It is recommended to generate an alignments file for your destination &quot;
<span class='lineno'> 383</span>                        &quot;video with Extract first for superior results.&quot;)
<span class='lineno'> 384</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.extractor', title='Extractor'>extractor</a> = <a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor', title='<Extractor>'>Extractor</a>(detector=&quot;cv2-dnn&quot;,
<span class='lineno'> 385</span>                               aligner=&quot;cv2-dnn&quot;,
<span class='lineno'> 386</span>                               masker=&quot;none&quot;,
<span class='lineno'> 387</span>                               multiprocess=True,
<span class='lineno'> 388</span>                               rotate_images=None,
<span class='lineno'> 389</span>                               min_size=20)
<span class='lineno'> 390</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.extractor', title='Extractor'>extractor</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.launch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.launch', title='Extractor -> None'>launch</a>()
<span class='lineno'> 391</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Loaded extractor&quot;)
<span class='lineno'> 392</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load_extractor.extractor', title='Extractor'>extractor</a>
<span class='lineno'> 393</span> 
<span class='lineno'> 394</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads', title='DiskIO -> None'>_init_threads</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads.self', title='DiskIO'>sel</a>f):
<span class='lineno'> 395</span>         &quot;&quot;&quot; Initialize queues and threads.
<span class='lineno'> 396</span> 
<span class='lineno'> 397</span>         Creates the load and save queues and the load and save threads. Starts the threads.
<span class='lineno'> 398</span>         &quot;&quot;&quot;
<span class='lineno'> 399</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Initializing DiskIO Threads&quot;)
<span class='lineno'> 400</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads.task', title='str'>task</a> in (&quot;load&quot;, &quot;save&quot;):
<span class='lineno'> 401</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue', title='(DiskIO, ?) -> None / (DiskIO, str) -> None'>_add_queue</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads.task', title='str'>task</a>)
<span class='lineno'> 402</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread', title='(DiskIO, ?) -> None / (DiskIO, str) -> None'>_start_thread</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._init_threads.task', title='str'>task</a>)
<span class='lineno'> 403</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Initialized DiskIO Threads&quot;)
<span class='lineno'> 404</span> 
<span class='lineno'> 405</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue', title='(DiskIO, ?) -> None / (DiskIO, str) -> None'>_add_queue</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.self', title='DiskIO'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', title='str'>tas</a>k):
<span class='lineno'> 406</span>         &quot;&quot;&quot; Add the queue to queue_manager and to :attr:`self._queues` for the given task.
<span class='lineno'> 407</span> 
<span class='lineno'> 408</span>         Parameters
<span class='lineno'> 409</span>         ----------
<span class='lineno'> 410</span>         task: {&quot;load&quot;, &quot;save&quot;}
<span class='lineno'> 411</span>             The task that the queue is to be added for
<span class='lineno'> 412</span>         &quot;&quot;&quot;
<span class='lineno'> 413</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Adding queue for task: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', title='str'>task</a>)
<span class='lineno'> 414</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', title='str'>task</a> == &quot;load&quot;:
<span class='lineno'> 415</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.q_name', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.q_name', title='str'>q_name</a> = &quot;convert_in&quot;
<span class='lineno'> 416</span>         elif <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', title='str'>task</a> == &quot;save&quot;:
<span class='lineno'> 417</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.q_name', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.q_name', title='str'>q_name</a> = &quot;convert_out&quot;
<span class='lineno'> 418</span>         else:
<span class='lineno'> 419</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.q_name', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.q_name', title='str'>q_name</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', title='str'>task</a>
<span class='lineno'> 420</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', title='dict'>_queues</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', title='str'>task</a>] = <a href='../lib/queue_manager.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.queue_manager', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.queue_manager', title='QueueManager'>queue_manager</a>.<a href='../lib/queue_manager.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.QueueManager.get_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.QueueManager.get_queue', title='(QueueManager, ?, int) -> None / (QueueManager, str, int) -> None'>get_queue</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.q_name', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.q_name', title='str'>q_name</a>)
<span class='lineno'> 421</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Added queue for task: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._add_queue.task', title='str'>task</a>)
<span class='lineno'> 422</span> 
<span class='lineno'> 423</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread', title='(DiskIO, ?) -> None / (DiskIO, str) -> None'>_start_thread</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.self', title='DiskIO'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.task', title='str'>tas</a>k):
<span class='lineno'> 424</span>         &quot;&quot;&quot; Create the thread for the given task, add it it :attr:`self._threads` and start it.
<span class='lineno'> 425</span> 
<span class='lineno'> 426</span>         Parameters
<span class='lineno'> 427</span>         ----------
<span class='lineno'> 428</span>         task: {&quot;load&quot;, &quot;save&quot;}
<span class='lineno'> 429</span>             The task that the thread is to be created for
<span class='lineno'> 430</span>         &quot;&quot;&quot;
<span class='lineno'> 431</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Starting thread: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.task', title='str'>task</a>)
<span class='lineno'> 432</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.args', title='None'>args</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._completion_event', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._completion_event', title='?'>_completion_event</a> if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.task', title='str'>task</a> == &quot;save&quot; else None
<span class='lineno'> 433</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.func', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.func', title='?'>func</a> = getattr(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.self', title='DiskIO'>self</a>, &quot;_{}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.task', title='str'>task</a>))
<span class='lineno'> 434</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.io_thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.io_thread', title='MultiThread'>io_thread</a> = <a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread', title='<MultiThread>'>MultiThread</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.func', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.func', title='?'>func</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.args', title='None'>args</a>, thread_count=1)
<span class='lineno'> 435</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.io_thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.io_thread', title='MultiThread'>io_thread</a>.<a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread.start', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread.start', title='BackgroundGenerator -> None / MultiThread -> None'>start</a>()
<span class='lineno'> 436</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._threads', title='dict'>_threads</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.task', title='str'>task</a>] = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.io_thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.io_thread', title='MultiThread'>io_thread</a>
<span class='lineno'> 437</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Started thread: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._start_thread.task', title='str'>task</a>)
<span class='lineno'> 438</span> 
<span class='lineno'> 439</span>     # Loading tasks
<span class='lineno'> 440</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load', title='DiskIO -> None'>_load</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', title='DiskIO'>sel</a>f, *args):  # pylint: disable=unused-argument
<span class='lineno'> 441</span>         &quot;&quot;&quot; Load frames from disk.
<span class='lineno'> 442</span> 
<span class='lineno'> 443</span>         In a background thread:
<span class='lineno'> 444</span>             * Loads frames from disk.
<span class='lineno'> 445</span>             * Discards or passes through cli selected skipped frames
<span class='lineno'> 446</span>             * Pairs the frame with its :class:`~lib.faces_detect.DetectedFace` objects
<span class='lineno'> 447</span>             * Performs any pre-processing actions
<span class='lineno'> 448</span>             * Puts the frame and detected faces to the load queue
<span class='lineno'> 449</span>         &quot;&quot;&quot;
<span class='lineno'> 450</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Load Images: Start&quot;)
<span class='lineno'> 451</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.idx', title='int'>idx</a> = 0
<span class='lineno'> 452</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', title='?'>filename</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', title='?'>image</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.load', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.load', title='ImagesLoader -> ?'>load</a>():
<span class='lineno'> 453</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.idx', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.idx', title='int'>idx</a></a> += 1
<span class='lineno'> 454</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', title='dict'>_queues</a>[&quot;load&quot;].shutdown.is_set():
<span class='lineno'> 455</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Load Queue: Stop signal received. Terminating&quot;)
<span class='lineno'> 456</span>                 break
<span class='lineno'> 457</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', title='?'>image</a> is None or (not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', title='?'>image</a>.any() and <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', title='?'>image</a>.ndim not in (2, 3)):
<span class='lineno'> 458</span>                 # All black frames will return not numpy.any() so check dims too
<span class='lineno'> 459</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.warning(&quot;Unable to open image. Skipping: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', title='?'>filename</a>)
<span class='lineno'> 460</span>                 continue
<span class='lineno'> 461</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe', title='(DiskIO, ?) -> int'>_check_skipframe</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', title='?'>filename</a>):
<span class='lineno'> 462</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.keep_unchanged:
<span class='lineno'> 463</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Saving unchanged frame: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', title='?'>filename</a>)
<span class='lineno'> 464</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.out_file', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.out_file', title='str'>out_file</a> = os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.output_dir, os.path.basename(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', title='?'>filename</a>))
<span class='lineno'> 465</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', title='dict'>_queues</a>[&quot;save&quot;].put((<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.out_file', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.out_file', title='str'>out_file</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', title='?'>image</a>))
<span class='lineno'> 466</span>                 else:
<span class='lineno'> 467</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Discarding frame: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', title='?'>filename</a>)
<span class='lineno'> 468</span>                 continue
<span class='lineno'> 469</span> 
<span class='lineno'> 470</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.detected_faces', title='list'>detected_faces</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces', title='(DiskIO, ?, ?) -> list'>_get_detected_faces</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', title='?'>filename</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', title='?'>image</a>)
<span class='lineno'> 471</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.item', title='dict'>item</a> = dict(filename=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.filename', title='?'>filename</a>, image=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.image', title='?'>image</a>, detected_faces=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.detected_faces', title='list'>detected_faces</a>)
<span class='lineno'> 472</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._pre_process', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._pre_process', title='PostProcess'>_pre_process</a>.<a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.PostProcess.do_actions', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.PostProcess.do_actions', title='(PostProcess, dict) -> None / (PostProcess, ?) -> None'>do_actions</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.item', title='dict'>item</a>)
<span class='lineno'> 473</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', title='dict'>_queues</a>[&quot;load&quot;].put(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.item', title='dict'>item</a>)
<span class='lineno'> 474</span> 
<span class='lineno'> 475</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Putting EOF&quot;)
<span class='lineno'> 476</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._load.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', title='dict'>_queues</a>[&quot;load&quot;].put(&quot;EOF&quot;)
<span class='lineno'> 477</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Load Images: Complete&quot;)
<span class='lineno'> 478</span> 
<span class='lineno'> 479</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe', title='(DiskIO, ?) -> int'>_check_skipframe</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.self', title='DiskIO'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.filename', title='?'>fil</a>ename):
<span class='lineno'> 480</span>         &quot;&quot;&quot; Check whether a frame is to be skipped.
<span class='lineno'> 481</span> 
<span class='lineno'> 482</span>         Parameters
<span class='lineno'> 483</span>         ----------
<span class='lineno'> 484</span>         filename: str
<span class='lineno'> 485</span>             The filename of the frame to check
<span class='lineno'> 486</span> 
<span class='lineno'> 487</span>         Returns
<span class='lineno'> 488</span>         -------
<span class='lineno'> 489</span>         bool
<span class='lineno'> 490</span>             ``True`` if the frame is to be skipped otherwise ``False``
<span class='lineno'> 491</span>         &quot;&quot;&quot;
<span class='lineno'> 492</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', title='list'>_frame_ranges</a>:
<span class='lineno'> 493</span>             return None
<span class='lineno'> 494</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.indices', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.indices', title='?'>indices</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._imageidxre', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._imageidxre', title='?'>_imageidxre</a>.findall(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.filename', title='?'>filename</a>)
<span class='lineno'> 495</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.indices', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.indices', title='?'>indices</a>:
<span class='lineno'> 496</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.warning(&quot;Could not determine frame number. Frame will be converted: &#39;%s&#39;&quot;,
<span class='lineno'> 497</span>                            <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.filename', title='?'>filename</a>)
<span class='lineno'> 498</span>             return False
<span class='lineno'> 499</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.idx', title='int'>idx</a> = int(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.indices', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.indices', title='?'>indices</a>[0]) if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.indices', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.indices', title='?'>indices</a> else None
<span class='lineno'> 500</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.skipframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.skipframe', title='int'>skipframe</a> = not any(map(lambda <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.lambda%43.b', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.lambda%43.b', title='?'>b: </a><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.lambda%43.b', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.lambda%43.b', title='?'>b</a>[0] &lt;= <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.idx', title='int'>idx</a> &lt;= <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.lambda%43.b', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.lambda%43.b', title='?'>b</a>[1], <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._frame_ranges', title='list'>_frame_ranges</a>))
<span class='lineno'> 501</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;idx: %s, skipframe: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.idx', title='int'>idx</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.skipframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.skipframe', title='int'>skipframe</a>)
<span class='lineno'> 502</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.skipframe', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_skipframe.skipframe', title='int'>skipframe</a>
<span class='lineno'> 503</span> 
<span class='lineno'> 504</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces', title='(DiskIO, ?, ?) -> list'>_get_detected_faces</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.self', title='DiskIO'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.filename', title='?'>fil</a>ename, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.image', title='?'>ima</a>ge):
<span class='lineno'> 505</span>         &quot;&quot;&quot; Return the detected faces for the given image.
<span class='lineno'> 506</span> 
<span class='lineno'> 507</span>         If we have an alignments file, then the detected faces are created from that file. If
<span class='lineno'> 508</span>         we&#39;re running On-The-Fly then they will be extracted from the extractor.
<span class='lineno'> 509</span> 
<span class='lineno'> 510</span>         Parameters
<span class='lineno'> 511</span>         ----------
<span class='lineno'> 512</span>         filename: str
<span class='lineno'> 513</span>             The filename to return the detected faces for
<span class='lineno'> 514</span>         image: :class:`numpy.ndarray`
<span class='lineno'> 515</span>             The frame that the detected faces exist in
<span class='lineno'> 516</span> 
<span class='lineno'> 517</span>         Returns
<span class='lineno'> 518</span>         -------
<span class='lineno'> 519</span>         list
<span class='lineno'> 520</span>             List of :class:`lib.faces_detect.DetectedFace` objects
<span class='lineno'> 521</span>         &quot;&quot;&quot;
<span class='lineno'> 522</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Getting faces for: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.filename', title='?'>filename</a>)
<span class='lineno'> 523</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._extractor', title='Extractor'>_extractor</a>:
<span class='lineno'> 524</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.detected_faces', title='list'>detected_faces</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces', title='(DiskIO, ?, ?) -> list / (DiskIO, str, ?) -> list'>_alignments_faces</a>(os.path.basename(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.filename', title='?'>filename</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.image', title='?'>image</a>)
<span class='lineno'> 525</span>         else:
<span class='lineno'> 526</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.detected_faces', title='None'>detected_faces</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces', title='(DiskIO, ?, ?) -> None'>_detect_faces</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.filename', title='?'>filename</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.image', title='?'>image</a>)
<span class='lineno'> 527</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Got %s faces for: &#39;%s&#39;&quot;, len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.detected_faces', title='{None | list}'>detected_faces</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.filename', title='?'>filename</a>)
<span class='lineno'> 528</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._get_detected_faces.detected_faces', title='{None | list}'>detected_faces</a>
<span class='lineno'> 529</span> 
<span class='lineno'> 530</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces', title='(DiskIO, ?, ?) -> list / (DiskIO, str, ?) -> list'>_alignments_faces</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.self', title='DiskIO'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.frame_name', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.frame_name', title='str'>fra</a>me_name, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.image', title='?'>ima</a>ge):
<span class='lineno'> 531</span>         &quot;&quot;&quot; Return detected faces from an alignments file.
<span class='lineno'> 532</span> 
<span class='lineno'> 533</span>         Parameters
<span class='lineno'> 534</span>         ----------
<span class='lineno'> 535</span>         frame_name: str
<span class='lineno'> 536</span>             The name of the frame to return the detected faces for
<span class='lineno'> 537</span>         image: :class:`numpy.ndarray`
<span class='lineno'> 538</span>             The frame that the detected faces exist in
<span class='lineno'> 539</span> 
<span class='lineno'> 540</span>         Returns
<span class='lineno'> 541</span>         -------
<span class='lineno'> 542</span>         list
<span class='lineno'> 543</span>             List of :class:`lib.faces_detect.DetectedFace` objects
<span class='lineno'> 544</span>         &quot;&quot;&quot;
<span class='lineno'> 545</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments', title='(DiskIO, ?) -> bool / (DiskIO, str) -> bool'>_check_alignments</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.frame_name', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.frame_name', title='str'>frame_name</a>):
<span class='lineno'> 546</span>             return list()
<span class='lineno'> 547</span> 
<span class='lineno'> 548</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.faces', title='None'>faces</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.get_faces_in_frame', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.get_faces_in_frame', title='(Alignments, ?) -> None / (Alignments, str) -> None / (AlignmentData, ?) -> None'>get_faces_in_frame</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.frame_name', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.frame_name', title='str'>frame_name</a>)
<span class='lineno'> 549</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.detected_faces', title='list'>detected_faces</a> = list()
<span class='lineno'> 550</span> 
<span class='lineno'> 551</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.rawface', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.rawface', title='?'>rawface</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.faces', title='None'>faces</a>:
<span class='lineno'> 552</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.face', title='DetectedFace'>face</a> = <a href='../lib/faces_detect.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.faces_detect.DetectedFace', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.faces_detect.DetectedFace', title='<DetectedFace>'>DetectedFace</a>()
<span class='lineno'> 553</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.face', title='DetectedFace'>face</a>.<a href='../lib/faces_detect.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.faces_detect.DetectedFace.from_alignment', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.faces_detect.DetectedFace.from_alignment', title='(DetectedFace, ?, None) -> None'>from_alignment</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.rawface', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.rawface', title='?'>rawface</a>, image=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.image', title='?'>image</a>)
<span class='lineno'> 554</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.detected_faces', title='list'>detected_faces</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.face', title='DetectedFace'>face</a>)
<span class='lineno'> 555</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments_faces.detected_faces', title='list'>detected_faces</a>
<span class='lineno'> 556</span> 
<span class='lineno'> 557</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments', title='(DiskIO, ?) -> bool / (DiskIO, str) -> bool'>_check_alignments</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.self', title='DiskIO'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.frame_name', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.frame_name', title='str'>fra</a>me_name):
<span class='lineno'> 558</span>         &quot;&quot;&quot; Ensure that we have alignments for the current frame.
<span class='lineno'> 559</span> 
<span class='lineno'> 560</span>         If we have no alignments for this image, skip it and output a message.
<span class='lineno'> 561</span> 
<span class='lineno'> 562</span>         Parameters
<span class='lineno'> 563</span>         ----------
<span class='lineno'> 564</span>         frame_name: str
<span class='lineno'> 565</span>             The name of the frame to check that we have alignments for
<span class='lineno'> 566</span> 
<span class='lineno'> 567</span>         Returns
<span class='lineno'> 568</span>         -------
<span class='lineno'> 569</span>         bool
<span class='lineno'> 570</span>             ``True`` if we have alignments for this face, otherwise ``False``
<span class='lineno'> 571</span>         &quot;&quot;&quot;
<span class='lineno'> 572</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.have_alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.have_alignments', title='bool'>have_alignments</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.frame_exists', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.frame_exists', title='(Alignments, str) -> bool / (Alignments, ?) -> bool'>frame_exists</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.frame_name', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.frame_name', title='str'>frame_name</a>)
<span class='lineno'> 573</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.have_alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.have_alignments', title='bool'>have_alignments</a>:
<span class='lineno'> 574</span>             tqdm.write(&quot;No alignment found for {}, &quot;
<span class='lineno'> 575</span>                        &quot;skipping&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.frame_name', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.frame_name', title='str'>frame_name</a>))
<span class='lineno'> 576</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.have_alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._check_alignments.have_alignments', title='bool'>have_alignments</a>
<span class='lineno'> 577</span> 
<span class='lineno'> 578</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces', title='(DiskIO, ?, ?) -> None'>_detect_faces</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.self', title='DiskIO'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.filename', title='?'>fil</a>ename, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.image', title='?'>ima</a>ge):
<span class='lineno'> 579</span>         &quot;&quot;&quot; Extract the face from a frame for On-The-Fly conversion.
<span class='lineno'> 580</span> 
<span class='lineno'> 581</span>         Pulls detected faces out of the Extraction pipeline.
<span class='lineno'> 582</span> 
<span class='lineno'> 583</span>         Parameters
<span class='lineno'> 584</span>         ----------
<span class='lineno'> 585</span>         filename: str
<span class='lineno'> 586</span>             The filename to return the detected faces for
<span class='lineno'> 587</span>         image: :class:`numpy.ndarray`
<span class='lineno'> 588</span>             The frame that the detected faces exist in
<span class='lineno'> 589</span> 
<span class='lineno'> 590</span>         Returns
<span class='lineno'> 591</span>         -------
<span class='lineno'> 592</span>         list
<span class='lineno'> 593</span>             List of :class:`lib.faces_detect.DetectedFace` objects
<span class='lineno'> 594</span>          &quot;&quot;&quot;
<span class='lineno'> 595</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._extractor', title='Extractor'>_extractor</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.input_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.input_queue', title='Extractor -> None'>input_queue</a>.put(<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.ExtractMedia', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.ExtractMedia', title='<ExtractMedia>'>ExtractMedia</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.filename', title='?'>filename</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.image', title='?'>image</a>))
<span class='lineno'> 596</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.faces', title='?'>faces</a> = next(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._extractor', title='Extractor'>_extractor</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.detected_faces', title='Extractor -> ?'>detected_faces</a>())
<span class='lineno'> 597</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._detect_faces.faces', title='?'>faces</a>.detected_faces
<span class='lineno'> 598</span> 
<span class='lineno'> 599</span>     # Saving tasks
<span class='lineno'> 600</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save', title='(DiskIO, ?) -> None'>_save</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', title='DiskIO'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.completion_event', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.completion_event', title='?'>com</a>pletion_event):
<span class='lineno'> 601</span>         &quot;&quot;&quot; Save the converted images.
<span class='lineno'> 602</span> 
<span class='lineno'> 603</span>         Puts the selected writer into a background thread and feeds it from the output of the
<span class='lineno'> 604</span>         patch queue.
<span class='lineno'> 605</span> 
<span class='lineno'> 606</span>         Parameters
<span class='lineno'> 607</span>         ----------
<span class='lineno'> 608</span>         completion_event: :class:`event.Event`
<span class='lineno'> 609</span>             An even that this process triggers when it has finished saving
<span class='lineno'> 610</span>         &quot;&quot;&quot;
<span class='lineno'> 611</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Save Images: Start&quot;)
<span class='lineno'> 612</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.write_preview', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.write_preview', title='?'>write_preview</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._args', title='?'>_args</a>.redirect_gui and <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', title='None'>_writer</a>.is_stream
<span class='lineno'> 613</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.preview_image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.preview_image', title='str'>preview_image</a> = os.path.join(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', title='None'>_writer</a>.output_folder, &quot;.gui_preview.jpg&quot;)
<span class='lineno'> 614</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Write preview for gui: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.write_preview', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.write_preview', title='?'>write_preview</a>)
<span class='lineno'> 615</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.idx', title='?'>idx</a> in tqdm(range(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._total_count', title='DiskIO -> {ImagesLoader -> int | int}'>_total_count</a>), desc=&quot;Converting&quot;, file=sys.stdout):
<span class='lineno'> 616</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', title='dict'>_queues</a>[&quot;save&quot;].shutdown.is_set():
<span class='lineno'> 617</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Save Queue: Stop signal received. Terminating&quot;)
<span class='lineno'> 618</span>                 break
<span class='lineno'> 619</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.item', title='?'>item</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._queues', title='dict'>_queues</a>[&quot;save&quot;].get()
<span class='lineno'> 620</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.item', title='?'>item</a> == &quot;EOF&quot;:
<span class='lineno'> 621</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;EOF Received&quot;)
<span class='lineno'> 622</span>                 break
<span class='lineno'> 623</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.filename', title='?'>filename</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.image', title='?'>image</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.item', title='?'>item</a>
<span class='lineno'> 624</span>             # Write out preview image for the GUI every 10 frames if writing to stream
<span class='lineno'> 625</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.write_preview', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.write_preview', title='?'>write_preview</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.idx', title='?'>idx</a> % 10 == 0 and not os.path.exists(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.preview_image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.preview_image', title='str'>preview_image</a>):
<span class='lineno'> 626</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Writing GUI Preview image: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.preview_image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.preview_image', title='str'>preview_image</a>)
<span class='lineno'> 627</span>                 cv2.imwrite(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.preview_image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.preview_image', title='str'>preview_image</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.image', title='?'>image</a>)
<span class='lineno'> 628</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', title='None'>_writer</a>.write(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.filename', title='?'>filename</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.image', title='?'>image</a>)
<span class='lineno'> 629</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.self', title='DiskIO'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._writer', title='None'>_writer</a>.close()
<span class='lineno'> 630</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.completion_event', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.DiskIO._save.completion_event', title='?'>completion_event</a>.set()
<span class='lineno'> 631</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Save Faces: Complete&quot;)
<span class='lineno'> 632</span> 
<span class='lineno'> 633</span> 
<span class='lineno'> 634</span> class <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict', title='<Predict>'>Predict</a>():
<span class='lineno'> 635</span>     &quot;&quot;&quot; Obtains the output from the Faceswap model.
<span class='lineno'> 636</span> 
<span class='lineno'> 637</span>     Parameters
<span class='lineno'> 638</span>     ----------
<span class='lineno'> 639</span>     in_queue: :class:`queue.Queue`
<span class='lineno'> 640</span>         The queue that contains images and detected faces for feeding the model
<span class='lineno'> 641</span>     queue_size: int
<span class='lineno'> 642</span>         The maximum size of the input queue
<span class='lineno'> 643</span>     arguments: :class:`argparse.Namespace`
<span class='lineno'> 644</span>         The arguments that were passed to the convert process as generated from Faceswap&#39;s command
<span class='lineno'> 645</span>         line arguments
<span class='lineno'> 646</span>     &quot;&quot;&quot;
<span class='lineno'> 647</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.in_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.in_queue', title='{DiskIO -> None | None}'>in_</a>queue, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.queue_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.queue_size', title='{Convert -> int | int}'>que</a>ue_size, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.arguments', title='?'>arg</a>uments):
<span class='lineno'> 648</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Initializing %s: (args: %s, queue_size: %s, in_queue: %s)&quot;,
<span class='lineno'> 649</span>                      <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.__class__.__name__, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.arguments', title='?'>arguments</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.queue_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.queue_size', title='{Convert -> int | int}'>queue_size</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.in_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.in_queue', title='{DiskIO -> None | None}'>in_queue</a>)
<span class='lineno'> 650</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._batchsize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._batchsize', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._batchsize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._batchsize', title='int'>_batchsize</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize', title='Convert -> int -> int / int -> int / ? -> int'>_get_batchsize</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.queue_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.queue_size', title='{Convert -> int | int}'>queue_size</a>)
<span class='lineno'> 651</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', title='?'>_args</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.arguments', title='?'>arguments</a>
<span class='lineno'> 652</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._in_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._in_queue', title='None'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._in_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._in_queue', title='{DiskIO -> None | None}'>_in_queue</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.in_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.in_queue', title='{DiskIO -> None | None}'>in_queue</a>
<span class='lineno'> 653</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._out_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._out_queue', title='None'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._out_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._out_queue', title='None'>_out_queue</a></a> = <a href='../lib/queue_manager.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.queue_manager', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.queue_manager', title='QueueManager'>queue_manager</a>.<a href='../lib/queue_manager.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.QueueManager.get_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.queue_manager.QueueManager.get_queue', title='(QueueManager, ?, int) -> None / (QueueManager, str, int) -> None'>get_queue</a>(&quot;patch&quot;)
<span class='lineno'> 654</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._serializer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._serializer', title='{<_JSONSerializer> | _CompressedSerializer | _JSONSerializer | _NPYSerializer | _PickleSerializer | _YAMLSerializer}'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._serializer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._serializer', title='{<_JSONSerializer> | _CompressedSerializer | _JSONSerializer | _NPYSerializer | _PickleSerializer | _YAMLSerializer}'>_serializer</a></a> = <a href='../lib/serializer.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.serializer.get_serializer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.serializer.get_serializer', title='? -> {<_JSONSerializer> | _CompressedSerializer | _JSONSerializer | _NPYSerializer | _PickleSerializer | _YAMLSerializer} / str -> {<_JSONSerializer> | _CompressedSerializer | _JSONSerializer | _NPYSerializer | _PickleSerializer | _YAMLSerializer}'>get_serializer</a>(&quot;json&quot;)
<span class='lineno'> 655</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._faces_count', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._faces_count', title='int'>_faces_count</a></a> = 0
<span class='lineno'> 656</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._verify_output', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._verify_output', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._verify_output', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._verify_output', title='?'>_verify_output</a></a> = False
<span class='lineno'> 657</span> 
<span class='lineno'> 658</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.arguments', title='?'>arguments</a>.allow_growth:
<span class='lineno'> 659</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth', title='() -> None'>_set_tf_allow_growth</a>()
<span class='lineno'> 660</span> 
<span class='lineno'> 661</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', title='None'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', title='None'>_model</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model', title='Predict -> None'>_load_model</a>()
<span class='lineno'> 662</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._output_indices', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._output_indices', title='dict'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._output_indices', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._output_indices', title='dict'>_output_indices</a></a> = {&quot;face&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', title='None'>_model</a>.largest_face_index,
<span class='lineno'> 663</span>                                 &quot;mask&quot;: <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', title='None'>_model</a>.largest_mask_index}
<span class='lineno'> 664</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predictor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predictor', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predictor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predictor', title='?'>_predictor</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', title='None'>_model</a>.converter(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', title='?'>_args</a>.swap_model)
<span class='lineno'> 665</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._thread', title='MultiThread'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._thread', title='MultiThread'>_thread</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor', title='Predict -> MultiThread'>_launch_predictor</a>()
<span class='lineno'> 666</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Initialized %s: (out_queue: %s)&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.__class__.__name__, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.__init__.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._out_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._out_queue', title='None'>_out_queue</a>)
<span class='lineno'> 667</span> 
<span class='lineno'> 668</span>     @property
<span class='lineno'> 669</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.thread', title='Predict -> MultiThread'>thread</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.thread.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.thread.self', title='Predict'>sel</a>f):
<span class='lineno'> 670</span>         &quot;&quot;&quot; :class:`~lib.multithreading.MultiThread`: The thread that is running the prediction
<span class='lineno'> 671</span>         function from the Faceswap model. &quot;&quot;&quot;
<span class='lineno'> 672</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.thread.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.thread.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._thread', title='MultiThread'>_thread</a>
<span class='lineno'> 673</span> 
<span class='lineno'> 674</span>     @property
<span class='lineno'> 675</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.in_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.in_queue', title='Predict -> DiskIO -> None'>in_queue</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.in_queue.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.in_queue.self', title='Predict'>sel</a>f):
<span class='lineno'> 676</span>         &quot;&quot;&quot; :class:`queue.Queue`: The input queue to the predictor. &quot;&quot;&quot;
<span class='lineno'> 677</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.in_queue.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.in_queue.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._in_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._in_queue', title='DiskIO -> None'>_in_queue</a>
<span class='lineno'> 678</span> 
<span class='lineno'> 679</span>     @property
<span class='lineno'> 680</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.out_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.out_queue', title='Predict -> None'>out_queue</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.out_queue.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.out_queue.self', title='Predict'>sel</a>f):
<span class='lineno'> 681</span>         &quot;&quot;&quot; :class:`queue.Queue`: The output queue from the predictor. &quot;&quot;&quot;
<span class='lineno'> 682</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.out_queue.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.out_queue.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._out_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._out_queue', title='None'>_out_queue</a>
<span class='lineno'> 683</span> 
<span class='lineno'> 684</span>     @property
<span class='lineno'> 685</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.faces_count', title='Predict -> int'>faces_count</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.faces_count.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.faces_count.self', title='Predict'>sel</a>f):
<span class='lineno'> 686</span>         &quot;&quot;&quot; int: The total number of faces seen by the Predictor. &quot;&quot;&quot;
<span class='lineno'> 687</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.faces_count.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.faces_count.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._faces_count', title='int'>_faces_count</a>
<span class='lineno'> 688</span> 
<span class='lineno'> 689</span>     @property
<span class='lineno'> 690</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.verify_output', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.verify_output', title='Predict -> None'>verify_output</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.verify_output.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.verify_output.self', title='Predict'>sel</a>f):
<span class='lineno'> 691</span>         &quot;&quot;&quot; bool: ``True`` if multiple faces have been found in frames, otherwise ``False``. &quot;&quot;&quot;
<span class='lineno'> 692</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.verify_output.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.verify_output.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._verify_output', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._verify_output', title='?'>_verify_output</a>
<span class='lineno'> 693</span> 
<span class='lineno'> 694</span>     @property
<span class='lineno'> 695</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio', title='Predict -> None'>coverage_ratio</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio.self', title='Predict'>sel</a>f):
<span class='lineno'> 696</span>         &quot;&quot;&quot; float: The coverage ratio that the model was trained at. &quot;&quot;&quot;
<span class='lineno'> 697</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', title='None'>_model</a>.training_opts[&quot;coverage_ratio&quot;]
<span class='lineno'> 698</span> 
<span class='lineno'> 699</span>     @property
<span class='lineno'> 700</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.has_predicted_mask', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.has_predicted_mask', title='Predict -> bool'>has_predicted_mask</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.has_predicted_mask.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.has_predicted_mask.self', title='Predict'>sel</a>f):
<span class='lineno'> 701</span>         &quot;&quot;&quot; bool: ``True`` if the model was trained to learn a mask, otherwise ``False``. &quot;&quot;&quot;
<span class='lineno'> 702</span>         return bool(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.has_predicted_mask.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.has_predicted_mask.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', title='None'>_model</a>.state.config.get(&quot;learn_mask&quot;, False))
<span class='lineno'> 703</span> 
<span class='lineno'> 704</span>     @property
<span class='lineno'> 705</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size', title='Predict -> None'>output_size</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size.self', title='Predict'>sel</a>f):
<span class='lineno'> 706</span>         &quot;&quot;&quot; int: The size in pixels of the Faceswap model output. &quot;&quot;&quot;
<span class='lineno'> 707</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', title='None'>_model</a>.output_shape[0]
<span class='lineno'> 708</span> 
<span class='lineno'> 709</span>     @property
<span class='lineno'> 710</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_size', title='Predict -> None'>_input_size</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_size.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_size.self', title='Predict'>sel</a>f):
<span class='lineno'> 711</span>         &quot;&quot;&quot; int: The size in pixels of the Faceswap model input. &quot;&quot;&quot;
<span class='lineno'> 712</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_size.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_size.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', title='None'>_model</a>.input_shape[0]
<span class='lineno'> 713</span> 
<span class='lineno'> 714</span>     @property
<span class='lineno'> 715</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask', title='Predict -> None'>_input_mask</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask.self', title='Predict'>sel</a>f):
<span class='lineno'> 716</span>         &quot;&quot;&quot; :class:`numpy.ndarray`: A dummy mask for inputting to the model. &quot;&quot;&quot;
<span class='lineno'> 717</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask.mask', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask.mask', title='?'>mask</a> = np.zeros((1, ) + <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', title='None'>_model</a>.state.mask_shapes[0], dtype=&quot;float32&quot;)
<span class='lineno'> 718</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask.mask', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask.mask', title='?'>mask</a>
<span class='lineno'> 719</span> 
<span class='lineno'> 720</span>     @staticmethod
<span class='lineno'> 721</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize', title='Convert -> int -> int / int -> int / ? -> int'>_get_batchsize</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.queue_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.queue_size', title='{Convert -> int | int}'>que</a>ue_size):
<span class='lineno'> 722</span>         &quot;&quot;&quot; Get the batch size for feeding the model.
<span class='lineno'> 723</span> 
<span class='lineno'> 724</span>         Sets the batch size to 1 if inference is being run on CPU, otherwise the minimum of the
<span class='lineno'> 725</span>         :attr:`self._queue_size` and 16.
<span class='lineno'> 726</span> 
<span class='lineno'> 727</span>         Returns
<span class='lineno'> 728</span>         -------
<span class='lineno'> 729</span>         int
<span class='lineno'> 730</span>             The batch size that the model is to be fed at.
<span class='lineno'> 731</span>         &quot;&quot;&quot;
<span class='lineno'> 732</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Getting batchsize&quot;)
<span class='lineno'> 733</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.is_cpu', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.is_cpu', title='bool'>is_cpu</a> = <a href='../lib/gpu_stats.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.gpu_stats.GPUStats', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.gpu_stats.GPUStats', title='<GPUStats>'>GPUStats</a>().<a href='../lib/gpu_stats.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.gpu_stats.GPUStats.device_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.gpu_stats.GPUStats.device_count', title='GPUStats -> int'>device_count</a> == 0
<span class='lineno'> 734</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.batchsize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.batchsize', title='int'>batchsize</a> = 1 if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.is_cpu', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.is_cpu', title='bool'>is_cpu</a> else 16
<span class='lineno'> 735</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.batchsize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.batchsize', title='int'>batchsize</a> = min(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.queue_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.queue_size', title='{Convert -> int | int}'>queue_size</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.batchsize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.batchsize', title='int'>batchsize</a>)
<span class='lineno'> 736</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Batchsize: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.batchsize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.batchsize', title='int'>batchsize</a>)
<span class='lineno'> 737</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Got batchsize: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.batchsize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.batchsize', title='int'>batchsize</a>)
<span class='lineno'> 738</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.batchsize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_batchsize.batchsize', title='int'>batchsize</a>
<span class='lineno'> 739</span> 
<span class='lineno'> 740</span>     @staticmethod
<span class='lineno'> 741</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth', title='() -> None'>_set_tf_allow_growth</a>():
<span class='lineno'> 742</span>         &quot;&quot;&quot; Enables the TensorFlow configuration option &quot;allow_growth&quot;.
<span class='lineno'> 743</span> 
<span class='lineno'> 744</span>         TODO Move this temporary fix somewhere more appropriate
<span class='lineno'> 745</span>         &quot;&quot;&quot;
<span class='lineno'> 746</span>         # pylint: disable=no-member
<span class='lineno'> 747</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Setting Tensorflow &#39;allow_growth&#39; option&quot;)
<span class='lineno'> 748</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth.config', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth.config', title='?'>config</a> = tf.ConfigProto()
<span class='lineno'> 749</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth.config', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth.config', title='?'>config</a>.gpu_options.allow_growth = True
<span class='lineno'> 750</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth.config', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth.config', title='?'>config</a>.gpu_options.visible_device_list = &quot;0&quot;
<span class='lineno'> 751</span>         set_session(tf.Session(config=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth.config', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._set_tf_allow_growth.config', title='?'>config</a>))
<span class='lineno'> 752</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Set Tensorflow &#39;allow_growth&#39; option&quot;)
<span class='lineno'> 753</span> 
<span class='lineno'> 754</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model', title='Predict -> None'>_load_model</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.self', title='Predict'>sel</a>f):
<span class='lineno'> 755</span>         &quot;&quot;&quot; Load the Faceswap model.
<span class='lineno'> 756</span> 
<span class='lineno'> 757</span>         Returns
<span class='lineno'> 758</span>         -------
<span class='lineno'> 759</span>         :mod:`plugins.train.model` plugin
<span class='lineno'> 760</span>             The trained model in the specified model folder
<span class='lineno'> 761</span>         &quot;&quot;&quot;
<span class='lineno'> 762</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Loading Model&quot;)
<span class='lineno'> 763</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.model_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.model_dir', title='None'>model_dir</a> = <a href='../lib/utils.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_folder', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_folder', title='(None, bool) -> None / (ImageIO -> None, bool) -> None / (?, bool) -> None / (str, bool) -> None'>get_folder</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', title='?'>_args</a>.model_dir, make_folder=False)
<span class='lineno'> 764</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.model_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.model_dir', title='None'>model_dir</a>:
<span class='lineno'> 765</span>             raise FaceswapError(&quot;{} does not exist.&quot;.format(self._args.model_dir))
<span class='lineno'> 766</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.trainer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.trainer', title='None'>trainer</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name', title='(Predict, ?) -> None / (Predict, None) -> None'>_get_model_name</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.model_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.model_dir', title='None'>model_dir</a>)
<span class='lineno'> 767</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.gpus', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.gpus', title='int'>gpus</a> = 1 if not hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', title='?'>_args</a>, &quot;gpus&quot;) else <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', title='?'>_args</a>.gpus
<span class='lineno'> 768</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.model', title='?'>model</a> = <a href='../plugins/plugin_loader.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.plugin_loader.PluginLoader', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.plugin_loader.PluginLoader', title='<PluginLoader>'>PluginLoader</a>.<a href='../plugins/plugin_loader.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.plugin_loader.PluginLoader.get_model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.plugin_loader.PluginLoader.get_model', title='(?, bool) -> None / (None, bool) -> None'>get_model</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.trainer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.trainer', title='None'>trainer</a>)(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.model_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.model_dir', title='None'>model_dir</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.gpus', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.gpus', title='int'>gpus</a>, predict=True)
<span class='lineno'> 769</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Loaded Model&quot;)
<span class='lineno'> 770</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._load_model.model', title='?'>model</a>
<span class='lineno'> 771</span> 
<span class='lineno'> 772</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name', title='(Predict, ?) -> None / (Predict, None) -> None'>_get_model_name</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.self', title='Predict'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.model_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.model_dir', title='None'>mod</a>el_dir):
<span class='lineno'> 773</span>         &quot;&quot;&quot; Return the name of the Faceswap model used.
<span class='lineno'> 774</span> 
<span class='lineno'> 775</span>         If a &quot;trainer&quot; option has been selected in the command line arguments, use that value,
<span class='lineno'> 776</span>         otherwise retrieve the name of the model from the model&#39;s state file.
<span class='lineno'> 777</span> 
<span class='lineno'> 778</span>         Parameters
<span class='lineno'> 779</span>         ----------
<span class='lineno'> 780</span>         model_dir: str
<span class='lineno'> 781</span>             The folder that contains the trained Faceswap model
<span class='lineno'> 782</span> 
<span class='lineno'> 783</span>         Returns
<span class='lineno'> 784</span>         -------
<span class='lineno'> 785</span>         str
<span class='lineno'> 786</span>             The name of the Faceswap model being used.
<span class='lineno'> 787</span> 
<span class='lineno'> 788</span>         &quot;&quot;&quot;
<span class='lineno'> 789</span>         if hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', title='?'>_args</a>, &quot;trainer&quot;) and <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', title='?'>_args</a>.trainer:
<span class='lineno'> 790</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Trainer name provided: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', title='?'>_args</a>.trainer)
<span class='lineno'> 791</span>             return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._args', title='?'>_args</a>.trainer
<span class='lineno'> 792</span> 
<span class='lineno'> 793</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.statefile', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.statefile', title='[str]'>statefile</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.fname', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.fname', title='str'>fname</a> for <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.fname', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.fname', title='str'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.fname', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.fname', title='str'>fname</a></a> in os.listdir(str(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.model_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.model_dir', title='None'>model_dir</a>))
<span class='lineno'> 794</span>                      if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.fname', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.fname', title='str'>fname</a>.endswith(&quot;_state.json&quot;)]
<span class='lineno'> 795</span>         if len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.statefile', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.statefile', title='[str]'>statefile</a>) != 1:
<span class='lineno'> 796</span>             raise FaceswapError(&quot;There should be 1 state file in your model folder. {} were &quot;
<span class='lineno'> 797</span>                                 &quot;found. Specify a trainer with the &#39;-t&#39;, &#39;--trainer&#39; &quot;
<span class='lineno'> 798</span>                                 &quot;option.&quot;.format(len(statefile)))
<span class='lineno'> 799</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.statefile', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.statefile', title='str'>statefile</a> = os.path.join(str(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.model_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.model_dir', title='None'>model_dir</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.statefile', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.statefile', title='[str]'>statefile</a>[0])
<span class='lineno'> 800</span> 
<span class='lineno'> 801</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.state', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.state', title='?'>state</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._serializer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._serializer', title='{<_JSONSerializer> | _CompressedSerializer | _JSONSerializer | _NPYSerializer | _PickleSerializer | _YAMLSerializer}'>_serializer</a>.load(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.statefile', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.statefile', title='str'>statefile</a>)
<span class='lineno'> 802</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.trainer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.trainer', title='?'>trainer</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.state', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.state', title='?'>state</a>.get(&quot;name&quot;, None)
<span class='lineno'> 803</span> 
<span class='lineno'> 804</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.trainer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.trainer', title='?'>trainer</a>:
<span class='lineno'> 805</span>             raise FaceswapError(&quot;Trainer name could not be read from state file. &quot;
<span class='lineno'> 806</span>                                 &quot;Specify a trainer with the &#39;-t&#39;, &#39;--trainer&#39; option.&quot;)
<span class='lineno'> 807</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Trainer from state file: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.trainer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.trainer', title='?'>trainer</a>)
<span class='lineno'> 808</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.trainer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._get_model_name.trainer', title='?'>trainer</a>
<span class='lineno'> 809</span> 
<span class='lineno'> 810</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor', title='Predict -> MultiThread'>_launch_predictor</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor.self', title='Predict'>sel</a>f):
<span class='lineno'> 811</span>         &quot;&quot;&quot; Launch the prediction process in a background thread.
<span class='lineno'> 812</span> 
<span class='lineno'> 813</span>         Starts the prediction thread and returns the thread.
<span class='lineno'> 814</span> 
<span class='lineno'> 815</span>         Returns
<span class='lineno'> 816</span>         -------
<span class='lineno'> 817</span>         :class:`~lib.multithreading.MultiThread`
<span class='lineno'> 818</span>             The started Faceswap model prediction thread.
<span class='lineno'> 819</span>         &quot;&quot;&quot;
<span class='lineno'> 820</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor.thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor.thread', title='MultiThread'>thread</a> = <a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread', title='<MultiThread>'>MultiThread</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces', title='Predict -> None'>_predict_faces</a>, thread_count=1)
<span class='lineno'> 821</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor.thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor.thread', title='MultiThread'>thread</a>.<a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread.start', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread.start', title='BackgroundGenerator -> None / MultiThread -> None'>start</a>()
<span class='lineno'> 822</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor.thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._launch_predictor.thread', title='MultiThread'>thread</a>
<span class='lineno'> 823</span> 
<span class='lineno'> 824</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces', title='Predict -> None'>_predict_faces</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', title='Predict'>sel</a>f):
<span class='lineno'> 825</span>         &quot;&quot;&quot; Run Prediction on the Faceswap model in a background thread.
<span class='lineno'> 826</span> 
<span class='lineno'> 827</span>         Reads from the :attr:`self._in_queue`, prepares images for prediction
<span class='lineno'> 828</span>         then puts the predictions back to the :attr:`self.out_queue`
<span class='lineno'> 829</span>         &quot;&quot;&quot;
<span class='lineno'> 830</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', title='int'>faces_seen</a> = 0
<span class='lineno'> 831</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.consecutive_no_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.consecutive_no_faces', title='int'>consecutive_no_faces</a> = 0
<span class='lineno'> 832</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', title='list'>batch</a> = list()
<span class='lineno'> 833</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.is_amd', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.is_amd', title='bool'>is_amd</a> = <a href='../lib/utils.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_backend', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_backend', title='() -> str'>get_backend</a>() == &quot;amd&quot;
<span class='lineno'> 834</span>         while True:
<span class='lineno'> 835</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', title='?'>item</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._in_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._in_queue', title='None'>_in_queue</a>.get()
<span class='lineno'> 836</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', title='?'>item</a> != &quot;EOF&quot;:
<span class='lineno'> 837</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Got from queue: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', title='?'>item</a>[&quot;filename&quot;])
<span class='lineno'> 838</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_count', title='int'>faces_count</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', title='?'>item</a>[&quot;detected_faces&quot;])
<span class='lineno'> 839</span> 
<span class='lineno'> 840</span>                 # Safety measure. If a large stream of frames appear that do not have faces,
<span class='lineno'> 841</span>                 # these will stack up into RAM. Keep a count of consecutive frames with no faces.
<span class='lineno'> 842</span>                 # If self._batchsize number of frames appear, force the current batch through
<span class='lineno'> 843</span>                 # to clear RAM.
<span class='lineno'> 844</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.consecutive_no_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.consecutive_no_faces', title='int'>consecutive_no_faces</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.consecutive_no_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.consecutive_no_faces', title='int'>consecutive_no_faces</a> + 1 if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_count', title='int'>faces_count</a> == 0 else 0
<span class='lineno'> 845</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._faces_count', title='int'>_faces_count</a> += <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_count', title='int'>faces_count</a>
<span class='lineno'> 846</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_count', title='int'>faces_count</a> &gt; 1:
<span class='lineno'> 847</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._verify_output', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._verify_output', title='?'>_verify_output</a> = True
<span class='lineno'> 848</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.verbose(&quot;Found more than one face in an image! &#39;%s&#39;&quot;,
<span class='lineno'> 849</span>                                    os.path.basename(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', title='?'>item</a>[&quot;filename&quot;]))
<span class='lineno'> 850</span> 
<span class='lineno'> 851</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned', title='(Predict, ?) -> None'>load_aligned</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', title='?'>item</a>)
<span class='lineno'> 852</span> 
<span class='lineno'> 853</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', title='int'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', title='int'>faces_seen</a></a> += <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_count', title='int'>faces_count</a>
<span class='lineno'> 854</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', title='list'>batch</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', title='?'>item</a>)
<span class='lineno'> 855</span> 
<span class='lineno'> 856</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', title='?'>item</a> != &quot;EOF&quot; and (<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', title='int'>faces_seen</a> &lt; <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._batchsize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._batchsize', title='int'>_batchsize</a> and
<span class='lineno'> 857</span>                                   <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.consecutive_no_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.consecutive_no_faces', title='int'>consecutive_no_faces</a> &lt; <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._batchsize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._batchsize', title='int'>_batchsize</a>):
<span class='lineno'> 858</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Continuing. Current batchsize: %s, consecutive_no_faces: %s&quot;,
<span class='lineno'> 859</span>                              <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', title='int'>faces_seen</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.consecutive_no_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.consecutive_no_faces', title='int'>consecutive_no_faces</a>)
<span class='lineno'> 860</span>                 continue
<span class='lineno'> 861</span> 
<span class='lineno'> 862</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', title='list'>batch</a>:
<span class='lineno'> 863</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Batching to predictor. Frames: %s, Faces: %s&quot;,
<span class='lineno'> 864</span>                              len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', title='list'>batch</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', title='int'>faces_seen</a>)
<span class='lineno'> 865</span>                 <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.detected_batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.detected_batch', title='[?]'>detected_batch</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.detected_face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.detected_face', title='?'>detected_face</a> for <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', title='<list>'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', title='<list>'>item</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', title='list'>batch</a>
<span class='lineno'> 866</span>                                   for <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.detected_face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.detected_face', title='?'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.detected_face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.detected_face', title='?'>detected_face</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', title='<list>'>item</a>[&quot;detected_faces&quot;]]
<span class='lineno'> 867</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', title='int'>faces_seen</a> != 0:
<span class='lineno'> 868</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.feed_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.feed_faces', title='float'>feed_faces</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces', title='[?] -> float / ? -> float'>_compile_feed_faces</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.detected_batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.detected_batch', title='[?]'>detected_batch</a>)
<span class='lineno'> 869</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch_size', title='None'>batch_size</a> = None
<span class='lineno'> 870</span>                     if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.is_amd', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.is_amd', title='bool'>is_amd</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.feed_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.feed_faces', title='float'>feed_faces</a>.shape[0] != <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._batchsize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._batchsize', title='int'>_batchsize</a>:
<span class='lineno'> 871</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.verbose(&quot;Fallback to BS=1&quot;)
<span class='lineno'> 872</span>                         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch_size', title='int'>batch_size</a> = 1
<span class='lineno'> 873</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.predicted', title='None'>predicted</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict', title='(Predict, float, int) -> None / (Predict, ?, None) -> None'>_predict</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.feed_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.feed_faces', title='float'>feed_faces</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch_size', title='int'>batch_size</a>)
<span class='lineno'> 874</span>                 else:
<span class='lineno'> 875</span>                     <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.predicted', title='list'>predicted</a> = list()
<span class='lineno'> 876</span> 
<span class='lineno'> 877</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames', title='(Predict, list, {None | list}) -> None / (Predict, ?, ?) -> None'>_queue_out_frames</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', title='list'>batch</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.predicted', title='{None | list}'>predicted</a>)
<span class='lineno'> 878</span> 
<span class='lineno'> 879</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.consecutive_no_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.consecutive_no_faces', title='int'>consecutive_no_faces</a> = 0
<span class='lineno'> 880</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.faces_seen', title='int'>faces_seen</a> = 0
<span class='lineno'> 881</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.batch', title='list'>batch</a> = list()
<span class='lineno'> 882</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.item', title='<list>'>item</a> == &quot;EOF&quot;:
<span class='lineno'> 883</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;EOF Received&quot;)
<span class='lineno'> 884</span>                 break
<span class='lineno'> 885</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Putting EOF&quot;)
<span class='lineno'> 886</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict_faces.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._out_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._out_queue', title='None'>_out_queue</a>.put(&quot;EOF&quot;)
<span class='lineno'> 887</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Load queue complete&quot;)
<span class='lineno'> 888</span> 
<span class='lineno'> 889</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned', title='(Predict, ?) -> None'>load_aligned</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', title='Predict'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.item', title='?'>ite</a>m):
<span class='lineno'> 890</span>         &quot;&quot;&quot; Load the model&#39;s feed faces and the reference output faces.
<span class='lineno'> 891</span> 
<span class='lineno'> 892</span>         For each detected face in the incoming item, load the feed face and reference face
<span class='lineno'> 893</span>         images, correctly sized for input and output respectively.
<span class='lineno'> 894</span> 
<span class='lineno'> 895</span>         Parameters
<span class='lineno'> 896</span>         ----------
<span class='lineno'> 897</span>         item: dict
<span class='lineno'> 898</span>             The incoming image and list of :class:`~lib.faces_detect.DetectedFace` objects
<span class='lineno'> 899</span> 
<span class='lineno'> 900</span>         &quot;&quot;&quot;
<span class='lineno'> 901</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Loading aligned faces: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.item', title='?'>item</a>[&quot;filename&quot;])
<span class='lineno'> 902</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.detected_face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.detected_face', title='?'>detected_face</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.item', title='?'>item</a>[&quot;detected_faces&quot;]:
<span class='lineno'> 903</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.detected_face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.detected_face', title='?'>detected_face</a>.load_feed_face(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.item', title='?'>item</a>[&quot;image&quot;],
<span class='lineno'> 904</span>                                          size=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_size', title='Predict -> None'>_input_size</a>,
<span class='lineno'> 905</span>                                          coverage_ratio=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio', title='Predict -> None'>coverage_ratio</a>,
<span class='lineno'> 906</span>                                          dtype=&quot;float32&quot;)
<span class='lineno'> 907</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_size', title='Predict -> None'>_input_size</a> == <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size', title='Predict -> None'>output_size</a>:
<span class='lineno'> 908</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.detected_face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.detected_face', title='?'>detected_face</a>.reference = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.detected_face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.detected_face', title='?'>detected_face</a>.feed
<span class='lineno'> 909</span>             else:
<span class='lineno'> 910</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.detected_face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.detected_face', title='?'>detected_face</a>.load_reference_face(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.item', title='?'>item</a>[&quot;image&quot;],
<span class='lineno'> 911</span>                                                   size=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.output_size', title='Predict -> None'>output_size</a>,
<span class='lineno'> 912</span>                                                   coverage_ratio=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.coverage_ratio', title='Predict -> None'>coverage_ratio</a>,
<span class='lineno'> 913</span>                                                   dtype=&quot;float32&quot;)
<span class='lineno'> 914</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Loaded aligned faces: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict.load_aligned.item', title='?'>item</a>[&quot;filename&quot;])
<span class='lineno'> 915</span> 
<span class='lineno'> 916</span>     @staticmethod
<span class='lineno'> 917</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces', title='[?] -> float / ? -> float'>_compile_feed_faces</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.detected_faces', title='[?]'>det</a>ected_faces):
<span class='lineno'> 918</span>         &quot;&quot;&quot; Compile a batch of faces for feeding into the Predictor.
<span class='lineno'> 919</span> 
<span class='lineno'> 920</span>         Parameters
<span class='lineno'> 921</span>         ----------
<span class='lineno'> 922</span>         detected_faces: list
<span class='lineno'> 923</span>             List of `~lib.faces_detect.DetectedFace` objects
<span class='lineno'> 924</span> 
<span class='lineno'> 925</span>         Returns
<span class='lineno'> 926</span>         -------
<span class='lineno'> 927</span>         :class:`numpy.ndarray`
<span class='lineno'> 928</span>             A batch of faces ready for feeding into the Faceswap model.
<span class='lineno'> 929</span>         &quot;&quot;&quot;
<span class='lineno'> 930</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Compiling feed face. Batchsize: %s&quot;, len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.detected_faces', title='[?]'>detected_faces</a>))
<span class='lineno'> 931</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.feed_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.feed_faces', title='float'>feed_faces</a> = np.stack([<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.detected_face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.detected_face', title='?'>detected_face</a>.feed_face[..., :3]
<span class='lineno'> 932</span>                                for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.detected_face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.detected_face', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.detected_face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.detected_face', title='?'>detected_face</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.detected_faces', title='[?]'>detected_faces</a>]) / 255.0
<span class='lineno'> 933</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Compiled Feed faces. Shape: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.feed_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.feed_faces', title='float'>feed_faces</a>.shape)
<span class='lineno'> 934</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.feed_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._compile_feed_faces.feed_faces', title='float'>feed_faces</a>
<span class='lineno'> 935</span> 
<span class='lineno'> 936</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict', title='(Predict, float, int) -> None / (Predict, ?, None) -> None'>_predict</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.self', title='Predict'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed_faces', title='float'>fee</a>d_faces, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.batch_size', title='int'>bat</a>ch_size=None):
<span class='lineno'> 937</span>         &quot;&quot;&quot; Run the Faceswap models&#39; prediction function.
<span class='lineno'> 938</span> 
<span class='lineno'> 939</span>         Parameters
<span class='lineno'> 940</span>         ----------
<span class='lineno'> 941</span>         feed_faces: :class:`numpy.ndarray`
<span class='lineno'> 942</span>             The batch to be fed into the model
<span class='lineno'> 943</span>         batch_size: int, optional
<span class='lineno'> 944</span>             Used for plaidml only. Indicates to the model what batch size is being processed.
<span class='lineno'> 945</span>             Default: ``None``
<span class='lineno'> 946</span> 
<span class='lineno'> 947</span>         Returns
<span class='lineno'> 948</span>         -------
<span class='lineno'> 949</span>         :class:`numpy.ndarray`
<span class='lineno'> 950</span>             The swapped faces for the given batch
<span class='lineno'> 951</span>         &quot;&quot;&quot;
<span class='lineno'> 952</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Predicting: Batchsize: %s&quot;, len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed_faces', title='float'>feed_faces</a>))
<span class='lineno'> 953</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed', title='{[?] | [float]}'>feed</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed_faces', title='float'>feed_faces</a>]
<span class='lineno'> 954</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._model', title='None'>_model</a>.feed_mask:
<span class='lineno'> 955</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed', title='{[?] | [float]}'>feed</a>.append(np.repeat(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._input_mask', title='Predict -> None'>_input_mask</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed_faces', title='float'>feed_faces</a>.shape[0], axis=0))
<span class='lineno'> 956</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Input shape(s): %s&quot;, [<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.item', title='float'>item</a>.shape for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.item', title='float'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.item', title='float'>item</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed', title='{[?] | [float]}'>feed</a>])
<span class='lineno'> 957</span> 
<span class='lineno'> 958</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='?'>predicted</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predictor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predictor', title='?'>_predictor</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.feed', title='{[?] | [float]}'>feed</a>, batch_size=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.batch_size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.batch_size', title='int'>batch_size</a>)
<span class='lineno'> 959</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='[?]'>predicted</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='?'>predicted</a> if isinstance(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='?'>predicted</a>, list) else [<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='?'>predicted</a>]
<span class='lineno'> 960</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Output shape(s): %s&quot;, [<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predict', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predict', title='?'>predict</a>.shape for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predict', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predict', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predict', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predict', title='?'>predict</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='[?]'>predicted</a>])
<span class='lineno'> 961</span> 
<span class='lineno'> 962</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='{[?] | [list]}'>predicted</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out', title='(Predict, ?) -> {[?] | [None]} / (Predict, [?]) -> {[?] | [list]}'>_filter_multi_out</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='[?]'>predicted</a>)
<span class='lineno'> 963</span> 
<span class='lineno'> 964</span>         # Compile masks into alpha channel or keep raw faces
<span class='lineno'> 965</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='list'>predicted</a> = np.concatenate(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='{[?] | [list]}'>predicted</a>, axis=-1) if len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='{[?] | [list]}'>predicted</a>) == 2 else <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='{[?] | [list]}'>predicted</a>[0]
<span class='lineno'> 966</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='?'>predicted</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='list'>predicted</a>.astype(&quot;float32&quot;)
<span class='lineno'> 967</span> 
<span class='lineno'> 968</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Final shape: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='?'>predicted</a>.shape)
<span class='lineno'> 969</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._predict.predicted', title='?'>predicted</a>
<span class='lineno'> 970</span> 
<span class='lineno'> 971</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out', title='(Predict, ?) -> {[?] | [None]} / (Predict, [?]) -> {[?] | [list]}'>_filter_multi_out</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.self', title='Predict'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', title='[?]'>pre</a>dicted):
<span class='lineno'> 972</span>         &quot;&quot;&quot; Filter the model output to just the required image.
<span class='lineno'> 973</span> 
<span class='lineno'> 974</span>         Some models have multi-scale outputs, so just make sure we take the largest
<span class='lineno'> 975</span>         output.
<span class='lineno'> 976</span> 
<span class='lineno'> 977</span>         Parameters
<span class='lineno'> 978</span>         ----------
<span class='lineno'> 979</span>         predicted: :class:`numpy.ndarray`
<span class='lineno'> 980</span>             The predictions retrieved from the Faceswap model.
<span class='lineno'> 981</span> 
<span class='lineno'> 982</span>         Returns
<span class='lineno'> 983</span>         -------
<span class='lineno'> 984</span>         :class:`numpy.ndarray`
<span class='lineno'> 985</span>             The predictions with any superfluous outputs removed.
<span class='lineno'> 986</span>         &quot;&quot;&quot;
<span class='lineno'> 987</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', title='[?]'>predicted</a>:
<span class='lineno'> 988</span>             return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', title='[?]'>predicted</a>
<span class='lineno'> 989</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.face', title='list'>face</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', title='[?]'>predicted</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._output_indices', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._output_indices', title='dict'>_output_indices</a>[&quot;face&quot;]]
<span class='lineno'> 990</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.mask_idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.mask_idx', title='?'>mask_idx</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._output_indices', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._output_indices', title='dict'>_output_indices</a>[&quot;mask&quot;]
<span class='lineno'> 991</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.mask', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.mask', title='list'>mask</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', title='[?]'>predicted</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.mask_idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.mask_idx', title='?'>mask_idx</a>] if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.mask_idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.mask_idx', title='?'>mask_idx</a> is not None else None
<span class='lineno'> 992</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', title='{[?] | [None] | [list]}'>predicted</a> = [<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.face', title='list'>face</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.mask', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.mask', title='list'>mask</a>] if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.mask', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.mask', title='list'>mask</a> is not None else [<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.face', title='list'>face</a>]
<span class='lineno'> 993</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Filtered output shape(s): %s&quot;, [<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predict', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predict', title='list'>predict</a>.shape for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predict', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predict', title='list'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predict', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predict', title='list'>predict</a></a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', title='{[?] | [None] | [list]}'>predicted</a>])
<span class='lineno'> 994</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._filter_multi_out.predicted', title='{[?] | [None] | [list]}'>predicted</a>
<span class='lineno'> 995</span> 
<span class='lineno'> 996</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames', title='(Predict, list, {None | list}) -> None / (Predict, ?, ?) -> None'>_queue_out_frames</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.self', title='Predict'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.batch', title='list'>bat</a>ch, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.swapped_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.swapped_faces', title='{None | list}'>swa</a>pped_faces):
<span class='lineno'> 997</span>         &quot;&quot;&quot; Compile the batch back to original frames and put to the Out Queue.
<span class='lineno'> 998</span> 
<span class='lineno'> 999</span>         For batching, faces are split away from their frames. This compiles all detected faces
<span class='lineno'>1000</span>         back to their parent frame before putting each frame to the out queue in batches.
<span class='lineno'>1001</span> 
<span class='lineno'>1002</span>         Parameters
<span class='lineno'>1003</span>         ----------
<span class='lineno'>1004</span>         batch: dict
<span class='lineno'>1005</span>             The batch that was used as the input for the model predict function
<span class='lineno'>1006</span>         swapped_faces: :class:`numpy.ndarray`
<span class='lineno'>1007</span>             The predictions returned from the model&#39;s predict function
<span class='lineno'>1008</span>         &quot;&quot;&quot;
<span class='lineno'>1009</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Queueing out batch. Batchsize: %s&quot;, len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.batch', title='list'>batch</a>))
<span class='lineno'>1010</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.pointer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.pointer', title='int'>pointer</a> = 0
<span class='lineno'>1011</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', title='<list>'>item</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.batch', title='list'>batch</a>:
<span class='lineno'>1012</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.num_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.num_faces', title='int'>num_faces</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', title='<list>'>item</a>[&quot;detected_faces&quot;])
<span class='lineno'>1013</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.num_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.num_faces', title='int'>num_faces</a> == 0:
<span class='lineno'>1014</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', title='<list>'>item</a>[&quot;swapped_faces&quot;] = np.array(list())
<span class='lineno'>1015</span>             else:
<span class='lineno'>1016</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', title='<list>'>item</a>[&quot;swapped_faces&quot;] = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.swapped_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.swapped_faces', title='{None | list}'>swapped_faces</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.pointer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.pointer', title='int'>pointer</a>:<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.pointer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.pointer', title='int'>pointer</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.num_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.num_faces', title='int'>num_faces</a>]
<span class='lineno'>1017</span> 
<span class='lineno'>1018</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Putting to queue. (&#39;%s&#39;, detected_faces: %s, swapped_faces: %s)&quot;,
<span class='lineno'>1019</span>                          <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', title='<list>'>item</a>[&quot;filename&quot;], len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', title='<list>'>item</a>[&quot;detected_faces&quot;]),
<span class='lineno'>1020</span>                          <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.item', title='<list>'>item</a>[&quot;swapped_faces&quot;].shape[0])
<span class='lineno'>1021</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.pointer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.pointer', title='int'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.pointer', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.pointer', title='int'>pointer</a></a> += <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.num_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.num_faces', title='int'>num_faces</a>
<span class='lineno'>1022</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.self', title='Predict'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._out_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._out_queue', title='None'>_out_queue</a>.put(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.batch', title='list'>batch</a>)
<span class='lineno'>1023</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.trace(&quot;Queued out batch. Batchsize: %s&quot;, len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.batch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.Predict._queue_out_frames.batch', title='list'>batch</a>))
<span class='lineno'>1024</span> 
<span class='lineno'>1025</span> 
<span class='lineno'>1026</span> class <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions', title='<OptionalActions>'>OptionalActions</a>():  # pylint:disable=too-few-public-methods
<span class='lineno'>1027</span>     &quot;&quot;&quot; Process specific optional actions for Convert.
<span class='lineno'>1028</span> 
<span class='lineno'>1029</span>     Currently only handles skip faces. This class should probably be (re)moved.
<span class='lineno'>1030</span> 
<span class='lineno'>1031</span>     Parameters
<span class='lineno'>1032</span>     ----------
<span class='lineno'>1033</span>     arguments: :class:`argparse.Namespace`
<span class='lineno'>1034</span>         The arguments that were passed to the convert process as generated from Faceswap&#39;s command
<span class='lineno'>1035</span>         line arguments
<span class='lineno'>1036</span>     input_images: list
<span class='lineno'>1037</span>         List of input image files
<span class='lineno'>1038</span>     alignments: :class:`lib.alignments.Alignments`
<span class='lineno'>1039</span>         The alignments file for this conversion
<span class='lineno'>1040</span>     &quot;&quot;&quot;
<span class='lineno'>1041</span> 
<span class='lineno'>1042</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', title='OptionalActions'>sel</a>f, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.arguments', title='?'>arg</a>uments, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.input_images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.input_images', title='ImagesLoader -> None'>inp</a>ut_images, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.alignments', title='Alignments'>ali</a>gnments):
<span class='lineno'>1043</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Initializing %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', title='OptionalActions'>self</a>.__class__.__name__)
<span class='lineno'>1044</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', title='OptionalActions'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._args', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._args', title='?'>_args</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.arguments', title='?'>arguments</a>
<span class='lineno'>1045</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', title='OptionalActions'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._input_images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._input_images', title='ImagesLoader -> None'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._input_images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._input_images', title='ImagesLoader -> None'>_input_images</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.input_images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.input_images', title='ImagesLoader -> None'>input_images</a>
<span class='lineno'>1046</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', title='OptionalActions'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._alignments', title='Alignments'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._alignments', title='Alignments'>_alignments</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.alignments', title='Alignments'>alignments</a>
<span class='lineno'>1047</span> 
<span class='lineno'>1048</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', title='OptionalActions'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces', title='OptionalActions -> None'>_remove_skipped_faces</a>()
<span class='lineno'>1049</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Initialized %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions.__init__.self', title='OptionalActions'>self</a>.__class__.__name__)
<span class='lineno'>1050</span> 
<span class='lineno'>1051</span>     # SKIP FACES #
<span class='lineno'>1052</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces', title='OptionalActions -> None'>_remove_skipped_faces</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.self', title='OptionalActions'>sel</a>f):
<span class='lineno'>1053</span>         &quot;&quot;&quot; If the user has specified an input aligned directory, remove any non-matching faces
<span class='lineno'>1054</span>         from the alignments file. &quot;&quot;&quot;
<span class='lineno'>1055</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Filtering Faces&quot;)
<span class='lineno'>1056</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.face_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.face_hashes', title='list'>face_hashes</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.self', title='OptionalActions'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes', title='OptionalActions -> list'>_get_face_hashes</a>()
<span class='lineno'>1057</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.face_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.face_hashes', title='list'>face_hashes</a>:
<span class='lineno'>1058</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;No face hashes. Not skipping any faces&quot;)
<span class='lineno'>1059</span>             return
<span class='lineno'>1060</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.pre_face_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.pre_face_count', title='Alignments -> int'>pre_face_count</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.self', title='OptionalActions'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.faces_count', title='Alignments -> int'>faces_count</a>
<span class='lineno'>1061</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.self', title='OptionalActions'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.filter_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.filter_hashes', title='(Alignments, ?, bool) -> None / (Alignments, list, bool) -> None'>filter_hashes</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.face_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.face_hashes', title='list'>face_hashes</a>, filter_out=False)
<span class='lineno'>1062</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.info(&quot;Faces filtered out: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.pre_face_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.pre_face_count', title='Alignments -> int'>pre_face_count</a> - <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._remove_skipped_faces.self', title='OptionalActions'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.faces_count', title='Alignments -> int'>faces_count</a>)
<span class='lineno'>1063</span> 
<span class='lineno'>1064</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes', title='OptionalActions -> list'>_get_face_hashes</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.self', title='OptionalActions'>sel</a>f):
<span class='lineno'>1065</span>         &quot;&quot;&quot; Check for the existence of an aligned directory for identifying which faces in the
<span class='lineno'>1066</span>         target frames should be swapped.
<span class='lineno'>1067</span> 
<span class='lineno'>1068</span>         Returns
<span class='lineno'>1069</span>         -------
<span class='lineno'>1070</span>         list
<span class='lineno'>1071</span>             A list of face hashes that exist in the given input aligned directory.
<span class='lineno'>1072</span>         &quot;&quot;&quot;
<span class='lineno'>1073</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face_hashes', title='list'>face_hashes</a> = list()
<span class='lineno'>1074</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.input_aligned_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.input_aligned_dir', title='?'>input_aligned_dir</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.self', title='OptionalActions'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._args', title='?'>_args</a>.input_aligned_dir
<span class='lineno'>1075</span> 
<span class='lineno'>1076</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.input_aligned_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.input_aligned_dir', title='?'>input_aligned_dir</a> is None:
<span class='lineno'>1077</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.verbose(&quot;Aligned directory not specified. All faces listed in the &quot;
<span class='lineno'>1078</span>                            &quot;alignments file will be converted&quot;)
<span class='lineno'>1079</span>         elif not os.path.isdir(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.input_aligned_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.input_aligned_dir', title='?'>input_aligned_dir</a>):
<span class='lineno'>1080</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.warning(&quot;Aligned directory not found. All faces listed in the &quot;
<span class='lineno'>1081</span>                            &quot;alignments file will be converted&quot;)
<span class='lineno'>1082</span>         else:
<span class='lineno'>1083</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.file_list', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.file_list', title='list'>file_list</a> = <a href='../lib/utils.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_image_paths', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_image_paths', title='None -> list / ? -> list / ImageIO -> None -> list'>get_image_paths</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.input_aligned_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.input_aligned_dir', title='?'>input_aligned_dir</a>)
<span class='lineno'>1084</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.info(&quot;Getting Face Hashes for selected Aligned Images&quot;)
<span class='lineno'>1085</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face', title='?'>face</a> in tqdm(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.file_list', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.file_list', title='list'>file_list</a>, desc=&quot;Hashing Faces&quot;):
<span class='lineno'>1086</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face_hashes', title='list'>face_hashes</a>.append(<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.read_image_hash', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.read_image_hash', title='? -> None'>read_image_hash</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face', title='?'>face</a>))
<span class='lineno'>1087</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.debug(&quot;Face Hashes: %s&quot;, (len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face_hashes', title='list'>face_hashes</a>)))
<span class='lineno'>1088</span>             if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face_hashes', title='list'>face_hashes</a>:
<span class='lineno'>1089</span>                 raise FaceswapError(&quot;Aligned directory is empty, no faces will be converted!&quot;)
<span class='lineno'>1090</span>             if len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face_hashes', title='list'>face_hashes</a>) &lt;= len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.self', title='OptionalActions'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._input_images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._input_images', title='ImagesLoader -> None'>_input_images</a>) / 3:
<span class='lineno'>1091</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.logger', title='?'>logger</a>.warning(&quot;Aligned directory contains far fewer images than the input &quot;
<span class='lineno'>1092</span>                                &quot;directory, are you sure this is the right folder?&quot;)
<span class='lineno'>1093</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face_hashes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.convert.OptionalActions._get_face_hashes.face_hashes', title='list'>face_hashes</a>
</pre></td></tr></table></body></html>