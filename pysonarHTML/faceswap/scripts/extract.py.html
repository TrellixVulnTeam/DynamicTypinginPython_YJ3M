<html>
<head>
<meta charset="utf-8">
<title>/home/xxm/Desktop/EMSE/dataset/faceswap/scripts/extract.py</title>
<style type='text/css'>
body { color: #666666; }
a {
    text-decoration: none; color: #5AA2A7;
    border: solid 1px rgba(255,255,255,0);
}
a.active {
    background: -webkit-linear-gradient(top,rgba(255, 255, 200, 0.35) 0,rgba(255, 255, 200, 0.55) 100%);
    border: solid 1px #E5E600;
}
table, th, td { border: 1px solid lightgrey; padding: 5px; corner: rounded; }
.builtin {color: #B17E41;}
.comment, .block-comment {color: #aaaaaa; font-style: italic;}
.constant {color: #888888;}
.decorator {color: #778899;}
.doc-string {color: #aaaaaa;}
.error {border-bottom: 1px solid red;}
.field-name {color: #2e8b57;}
.function {color: #4682b4;}
.identifier {color: #8b7765;}
.info {border-bottom: 1px dotted RoyalBlue;}
.keyword {color: #0000cd;}
.lineno {color: #cccccc;}
.number {color: #483d8b;}
.parameter {color: #777777;}
.string {color: #999999;}
.type-name {color: #4682b4;}
.warning {border-bottom: 1px solid orange; padding-bottom: 1px}
</style>
<script language="JavaScript" type="text/javascript">
var highlighted;

function highlight(xid)
{
    var elms = document.querySelectorAll('[xid="' + xid + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "active";
    }
    highlighted = xid;
}

function clearHighlight() {
    var elms = document.querySelectorAll('[xid="' + highlighted + '"]');
    for (k in elms) {
        v = elms[k]
        v.className = "";
    }
}

window.onload =
    function (e) {
        var tags = document.getElementsByTagName("A")
        for (var i = 0; i < tags.length; i++) {
            tags[i].onmouseover =
                function (e) {
                    clearHighlight();
                    var xid = e.toElement.getAttribute('xid');
                    highlight(xid);
                }
        }
    }</script>
</head>
<body>
<table width=100% border='1px solid gray'><tr><td valign='top'><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger'>logger</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract'>Extract</a><ul>
<li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__'>__init__</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval'>_save_interval</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num'>_skip_num</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list'>_set_skip_list</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process'>process</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector'>_threaded_redirector</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load'>_load</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload'>_reload</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction'>_run_extraction</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error'>_check_thread_error</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing'>_output_processing</a></li><li><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces', xid='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces'>_output_faces</a></li></ul>
</li></ul>
</td><td><pre><span class='lineno'>   1</span> #!/usr/bin python3
<span class='lineno'>   2</span> &quot;&quot;&quot; Main entry point to the extract process of FaceSwap &quot;&quot;&quot;
<span class='lineno'>   3</span> 
<span class='lineno'>   4</span> import logging
<span class='lineno'>   5</span> import os
<span class='lineno'>   6</span> import sys
<span class='lineno'>   7</span> 
<span class='lineno'>   8</span> from tqdm import tqdm
<span class='lineno'>   9</span> 
<span class='lineno'>  10</span> from <a href='../lib/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib', title='lib'>lib</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image', title='image'>image</a> import <a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.encode_image_with_hash', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.encode_image_with_hash', title='(?, ?) -> (?, ?) / (?, str) -> (?, ?)'>encode_image_with_hash</a>, <a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader', title='<ImagesLoader>'>ImagesLoader</a>, <a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesSaver', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesSaver', title='<ImagesSaver>'>ImagesSaver</a>
<span class='lineno'>  11</span> from <a href='../lib/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib', title='lib'>lib</a>.<a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading', title='multithreading'>multithreading</a> import <a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread', title='<MultiThread>'>MultiThread</a>
<span class='lineno'>  12</span> from <a href='../lib/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib', title='lib'>lib</a>.<a href='../lib/utils.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils', title='utils'>utils</a> import <a href='../lib/utils.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_folder', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_folder', title='(None, bool) -> None / (ImageIO -> None, bool) -> None / (?, bool) -> None / (str, bool) -> None'>get_folder</a>
<span class='lineno'>  13</span> from <a href='../plugins/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins', title='plugins'>plugins</a>.<a href='../plugins/extract/__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract', title='extract'>extract</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline', title='pipeline'>pipeline</a> import <a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor', title='<Extractor>'>Extractor</a>, <a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.ExtractMedia', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.ExtractMedia', title='<ExtractMedia>'>ExtractMedia</a>
<span class='lineno'>  14</span> from <a href='__init__.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts', title='scripts'>scripts</a>.<a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia', title='fsmedia'>fsmedia</a> import <a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.Alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.Alignments', title='<Alignments>'>Alignments</a>, <a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.PostProcess', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.PostProcess', title='<PostProcess>'>PostProcess</a>, <a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.finalize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.finalize', title='(ImagesLoader -> int, Predict -> int, Predict -> None) -> None / (?, ?, ?) -> None / (?, Alignments -> int, bool) -> None'>finalize</a>
<span class='lineno'>  15</span> 
<span class='lineno'>  16</span> tqdm.monitor_interval = 0  # workaround for TqdmSynchronisationWarning
<span class='lineno'>  17</span> <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a> = logging.getLogger(__name__)  # pylint: disable=invalid-name
<span class='lineno'>  18</span> 
<span class='lineno'>  19</span> 
<span class='lineno'>  20</span> class <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract', title='<Extract>'>Extract</a>():  # pylint:disable=too-few-public-methods
<span class='lineno'>  21</span>     &quot;&quot;&quot; The Faceswap Face Extraction Process.
<span class='lineno'>  22</span> 
<span class='lineno'>  23</span>     The extraction process is responsible for detecting faces in a series of images/video, aligning
<span class='lineno'>  24</span>     these faces and then generating a mask.
<span class='lineno'>  25</span> 
<span class='lineno'>  26</span>     It leverages a series of user selected plugins, chained together using
<span class='lineno'>  27</span>     :mod:`plugins.extract.pipeline`.
<span class='lineno'>  28</span> 
<span class='lineno'>  29</span>     The extract process is self contained and should not be referenced by any other scripts, so it
<span class='lineno'>  30</span>     contains no public properties.
<span class='lineno'>  31</span> 
<span class='lineno'>  32</span>     Parameters
<span class='lineno'>  33</span>     ----------
<span class='lineno'>  34</span>     arguments: argparse.Namespace
<span class='lineno'>  35</span>         The arguments to be passed to the extraction process as generated from Faceswap&#39;s command
<span class='lineno'>  36</span>         line arguments
<span class='lineno'>  37</span>     &quot;&quot;&quot;
<span class='lineno'>  38</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__', title='? -> ?'>__init__</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.arguments', title='?'>arguments</a>):
<span class='lineno'>  39</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.debug(&quot;Initializing %s: (args: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.__class__.__name__, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.arguments', title='?'>arguments</a>)
<span class='lineno'>  40</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a></a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.arguments', title='?'>arguments</a>
<span class='lineno'>  41</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_dir', title='str'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_dir', title='str'>_output_dir</a></a> = str(<a href='../lib/utils.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_folder', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.utils.get_folder', title='(None, bool) -> None / (ImageIO -> None, bool) -> None / (?, bool) -> None / (str, bool) -> None'>get_folder</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.output_dir))
<span class='lineno'>  42</span> 
<span class='lineno'>  43</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.info(&quot;Output Directory: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.output_dir)
<span class='lineno'>  44</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', title='ImagesLoader'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', title='ImagesLoader'>_images</a></a> = <a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader', title='<ImagesLoader>'>ImagesLoader</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.input_dir, fast_count=True)
<span class='lineno'>  45</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', title='Alignments'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', title='Alignments'>_alignments</a></a> = <a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.Alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.Alignments', title='<Alignments>'>Alignments</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>, True, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.is_video', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.is_video', title='ImagesLoader -> None'>is_video</a>)
<span class='lineno'>  46</span> 
<span class='lineno'>  47</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._existing_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._existing_count', title='int'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._existing_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._existing_count', title='int'>_existing_count</a></a> = 0
<span class='lineno'>  48</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list', title='Extract -> None'>_set_skip_list</a>()
<span class='lineno'>  49</span> 
<span class='lineno'>  50</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._post_process', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._post_process', title='PostProcess'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._post_process', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._post_process', title='PostProcess'>_post_process</a></a> = <a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.PostProcess', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.PostProcess', title='<PostProcess>'>PostProcess</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.arguments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.arguments', title='?'>arguments</a>)
<span class='lineno'>  51</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.configfile', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.configfile', title='None'>configfile</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.configfile if hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>, &quot;configfile&quot;) else None
<span class='lineno'>  52</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.normalization', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.normalization', title='None'>normalization</a> = None if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.normalization == &quot;none&quot; else <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.normalization
<span class='lineno'>  53</span> 
<span class='lineno'>  54</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.maskers', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.maskers', title='[str]'>maskers</a> = [&quot;components&quot;, &quot;extended&quot;]
<span class='lineno'>  55</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.maskers', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.maskers', title='[str]'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.maskers', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.maskers', title='?'>maskers</a></a> += <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.masker if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.masker else []
<span class='lineno'>  56</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', title='Extractor'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', title='Extractor'>_extractor</a></a> = <a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor', title='<Extractor>'>Extractor</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.detector,
<span class='lineno'>  57</span>                                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.aligner,
<span class='lineno'>  58</span>                                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.maskers', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.maskers', title='?'>maskers</a>,
<span class='lineno'>  59</span>                                     configfile=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.configfile', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.configfile', title='None'>configfile</a>,
<span class='lineno'>  60</span>                                     multiprocess=not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.singleprocess,
<span class='lineno'>  61</span>                                     rotate_images=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.rotate_images,
<span class='lineno'>  62</span>                                     min_size=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.min_size,
<span class='lineno'>  63</span>                                     normalize_method=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.normalization', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.normalization', title='None'>normalization</a>)
<span class='lineno'>  64</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threads', title='list'><a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threads', title='list'>_threads</a></a> = list()
<span class='lineno'>  65</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._verify_output', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._verify_output', title='bool'><a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._verify_output', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._verify_output', title='bool'>_verify_output</a></a> = False
<span class='lineno'>  66</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.debug(&quot;Initialized %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.__init__.self', title='Extract'>self</a>.__class__.__name__)
<span class='lineno'>  67</span> 
<span class='lineno'>  68</span>     @property
<span class='lineno'>  69</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval', title='Extract -> None'>_save_interval</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval.self', title='Extract'>self</a>):
<span class='lineno'>  70</span>         &quot;&quot;&quot; int: The number of frames to be processed between each saving of the alignments file if
<span class='lineno'>  71</span>         it has been provided, otherwise ``None`` &quot;&quot;&quot;
<span class='lineno'>  72</span>         if hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>, &quot;save_interval&quot;):
<span class='lineno'>  73</span>             return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.save_interval
<span class='lineno'>  74</span>         return None
<span class='lineno'>  75</span> 
<span class='lineno'>  76</span>     @property
<span class='lineno'>  77</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num', title='Extract -> int'>_skip_num</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num.self', title='Extract'>self</a>):
<span class='lineno'>  78</span>         &quot;&quot;&quot; int: Number of frames to skip if extract_every_n has been provided &quot;&quot;&quot;
<span class='lineno'>  79</span>         return <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.extract_every_n if hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>, &quot;extract_every_n&quot;) else 1
<span class='lineno'>  80</span> 
<span class='lineno'>  81</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list', title='Extract -> None'>_set_skip_list</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', title='Extract'>self</a>):
<span class='lineno'>  82</span>         &quot;&quot;&quot; Add the skip list to the image loader
<span class='lineno'>  83</span> 
<span class='lineno'>  84</span>         Checks against `extract_every_n` and the existence of alignments data (can exist if
<span class='lineno'>  85</span>         `skip_existing` or `skip_existing_faces` has been provided) and compiles a list of frame
<span class='lineno'>  86</span>         indices that should not be processed, providing these to :class:`lib.image.ImagesLoader`.
<span class='lineno'>  87</span>         &quot;&quot;&quot;
<span class='lineno'>  88</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num', title='Extract -> int'>_skip_num</a> == 1 and not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.data', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.data', title='Alignments -> None'>data</a>:
<span class='lineno'>  89</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.debug(&quot;No frames to be skipped&quot;)
<span class='lineno'>  90</span>             return
<span class='lineno'>  91</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.skip_list', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.skip_list', title='[?]'>skip_list</a> = []
<span class='lineno'>  92</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.idx', title='?'>idx</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.filename', title='?'>filename</a> in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.file_list', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.file_list', title='ImagesLoader -> None'>file_list</a>):
<span class='lineno'>  93</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.idx', title='?'>idx</a> % <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num', title='Extract -> int'>_skip_num</a> != 0:
<span class='lineno'>  94</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.trace(&quot;Adding image &#39;%s&#39; to skip list due to extract_every_n = %s&quot;,
<span class='lineno'>  95</span>                              <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.filename', title='?'>filename</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._skip_num', title='Extract -> int'>_skip_num</a>)
<span class='lineno'>  96</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.skip_list', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.skip_list', title='[?]'>skip_list</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.idx', title='?'>idx</a>)
<span class='lineno'>  97</span>             # Items may be in the alignments file if skip-existing[-faces] is selected
<span class='lineno'>  98</span>             elif os.path.basename(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.filename', title='?'>filename</a>) in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.data', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.data', title='Alignments -> None'>data</a>:
<span class='lineno'>  99</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._existing_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._existing_count', title='int'>_existing_count</a> += 1
<span class='lineno'> 100</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.trace(&quot;Removing image: &#39;%s&#39; due to previously existing&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.filename', title='?'>filename</a>)
<span class='lineno'> 101</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.skip_list', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.skip_list', title='[?]'>skip_list</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.idx', title='?'>idx</a>)
<span class='lineno'> 102</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._existing_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._existing_count', title='int'>_existing_count</a> != 0:
<span class='lineno'> 103</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.info(&quot;Skipping %s frames due to skip_existing/skip_existing_faces.&quot;,
<span class='lineno'> 104</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._existing_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._existing_count', title='int'>_existing_count</a>)
<span class='lineno'> 105</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.debug(&quot;Adding skip list: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.skip_list', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.skip_list', title='[?]'>skip_list</a>)
<span class='lineno'> 106</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.add_skip_list', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.add_skip_list', title='(ImagesLoader, ?) -> None / (ImagesLoader, [?]) -> None / (ImagesLoader, None) -> None'>add_skip_list</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.skip_list', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._set_skip_list.skip_list', title='[?]'>skip_list</a>)
<span class='lineno'> 107</span> 
<span class='lineno'> 108</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process', title='Extract -> None'>process</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', title='Extract'>self</a>):
<span class='lineno'> 109</span>         &quot;&quot;&quot; The entry point for triggering the Extraction Process.
<span class='lineno'> 110</span> 
<span class='lineno'> 111</span>         Should only be called from  :class:`lib.cli.launcher.ScriptExecutor`
<span class='lineno'> 112</span>         &quot;&quot;&quot;
<span class='lineno'> 113</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.info(&#39;Starting, this may take a while...&#39;)
<span class='lineno'> 114</span>         # from lib.queue_manager import queue_manager ; queue_manager.debug_monitor(3)
<span class='lineno'> 115</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector', title='(Extract, str, None) -> None / (Extract, ?, None) -> None / (Extract, str, dict) -> None'>_threaded_redirector</a>(&quot;load&quot;)
<span class='lineno'> 116</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction', title='Extract -> None'>_run_extraction</a>()
<span class='lineno'> 117</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.thread', title='<list>'>thread</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threads', title='list'>_threads</a>:
<span class='lineno'> 118</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.thread', title='<list>'>thread</a>.join()
<span class='lineno'> 119</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.save', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.save', title='Alignments -> None'>save</a>()
<span class='lineno'> 120</span>         <a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.finalize', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.finalize', title='(ImagesLoader -> int, Predict -> int, Predict -> None) -> None / (?, ?, ?) -> None / (?, Alignments -> int, bool) -> None'>finalize</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.process_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.process_count', title='ImagesLoader -> None'>process_count</a> + <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._existing_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._existing_count', title='int'>_existing_count</a>,
<span class='lineno'> 121</span>                  <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.faces_count', title='Alignments -> int'>faces_count</a>,
<span class='lineno'> 122</span>                  <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract.process.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._verify_output', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._verify_output', title='bool'>_verify_output</a>)
<span class='lineno'> 123</span> 
<span class='lineno'> 124</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector', title='(Extract, str, None) -> None / (Extract, ?, None) -> None / (Extract, str, dict) -> None'>_threaded_redirector</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.self', title='Extract'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.task', title='str'>task</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_args', title='dict'>io_args</a>=None):
<span class='lineno'> 125</span>         &quot;&quot;&quot; Redirect image input/output tasks to relevant queues in background thread
<span class='lineno'> 126</span> 
<span class='lineno'> 127</span>         Parameters
<span class='lineno'> 128</span>         ----------
<span class='lineno'> 129</span>         task: str
<span class='lineno'> 130</span>             The name of the task to be put into a background thread
<span class='lineno'> 131</span>         io_args: tuple, optional
<span class='lineno'> 132</span>             Any arguments that need to be provided to the background function
<span class='lineno'> 133</span>         &quot;&quot;&quot;
<span class='lineno'> 134</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.debug(&quot;Threading task: (Task: &#39;%s&#39;)&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.task', title='str'>task</a>)
<span class='lineno'> 135</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_args', title='{None | dict | tuple}'>io_args</a> = tuple() if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_args', title='dict'>io_args</a> is None else (<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_args', title='dict'>io_args</a>, )
<span class='lineno'> 136</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.func', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.func', title='?'>func</a> = getattr(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.self', title='Extract'>self</a>, &quot;_{}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.task', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.task', title='str'>task</a>))
<span class='lineno'> 137</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_thread', title='MultiThread'>io_thread</a> = <a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread', title='<MultiThread>'>MultiThread</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.func', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.func', title='?'>func</a>, *<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_args', title='{None | dict | tuple}'>io_args</a>, thread_count=1)
<span class='lineno'> 138</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_thread', title='MultiThread'>io_thread</a>.<a href='../lib/multithreading.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread.start', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.multithreading.MultiThread.start', title='BackgroundGenerator -> None / MultiThread -> None'>start</a>()
<span class='lineno'> 139</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threads', title='list'>_threads</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector.io_thread', title='MultiThread'>io_thread</a>)
<span class='lineno'> 140</span> 
<span class='lineno'> 141</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load', title='Extract -> None'>_load</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.self', title='Extract'>self</a>):
<span class='lineno'> 142</span>         &quot;&quot;&quot; Load the images
<span class='lineno'> 143</span> 
<span class='lineno'> 144</span>         Loads images from :class:`lib.image.ImagesLoader`, formats them into a dict compatible
<span class='lineno'> 145</span>         with :class:`plugins.extract.Pipeline.Extractor` and passes them into the extraction queue.
<span class='lineno'> 146</span>         &quot;&quot;&quot;
<span class='lineno'> 147</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.debug(&quot;Load Images: Start&quot;)
<span class='lineno'> 148</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.load_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.load_queue', title='Extractor -> None'>load_queue</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', title='Extractor'>_extractor</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.input_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.input_queue', title='Extractor -> None'>input_queue</a>
<span class='lineno'> 149</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.filename', title='?'>filename</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.image', title='?'>image</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.load', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.load', title='ImagesLoader -> ?'>load</a>():
<span class='lineno'> 150</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.load_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.load_queue', title='Extractor -> None'>load_queue</a>.shutdown.is_set():
<span class='lineno'> 151</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.debug(&quot;Load Queue: Stop signal received. Terminating&quot;)
<span class='lineno'> 152</span>                 break
<span class='lineno'> 153</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.item', title='ExtractMedia'>item</a> = <a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.ExtractMedia', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.ExtractMedia', title='<ExtractMedia>'>ExtractMedia</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.filename', title='?'>filename</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.image', title='?'>image</a>[..., :3])
<span class='lineno'> 154</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.load_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.load_queue', title='Extractor -> None'>load_queue</a>.put(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.item', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.item', title='ExtractMedia'>item</a>)
<span class='lineno'> 155</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.load_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._load.load_queue', title='Extractor -> None'>load_queue</a>.put(&quot;EOF&quot;)
<span class='lineno'> 156</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.debug(&quot;Load Images: Complete&quot;)
<span class='lineno'> 157</span> 
<span class='lineno'> 158</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload', title='(Extract, ?) -> None'>_reload</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.self', title='Extract'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.detected_faces', title='?'>detected_faces</a>):
<span class='lineno'> 159</span>         &quot;&quot;&quot; Reload the images and pair to detected face
<span class='lineno'> 160</span> 
<span class='lineno'> 161</span>         When the extraction pipeline is running in serial mode, images are reloaded from disk,
<span class='lineno'> 162</span>         paired with their extraction data and passed back into the extraction queue
<span class='lineno'> 163</span> 
<span class='lineno'> 164</span>         Parameters
<span class='lineno'> 165</span>         ----------
<span class='lineno'> 166</span>         detected_faces: dict
<span class='lineno'> 167</span>             Dictionary of :class:`plugins.extract.pipeline.ExtractMedia` with the filename as the
<span class='lineno'> 168</span>             key for repopulating the image attribute.
<span class='lineno'> 169</span>         &quot;&quot;&quot;
<span class='lineno'> 170</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.debug(&quot;Reload Images: Start. Detected Faces Count: %s&quot;, len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.detected_faces', title='?'>detected_faces</a>))
<span class='lineno'> 171</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.load_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.load_queue', title='Extractor -> None'>load_queue</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', title='Extractor'>_extractor</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.input_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.input_queue', title='Extractor -> None'>input_queue</a>
<span class='lineno'> 172</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.filename', title='?'>filename</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.image', title='?'>image</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.load', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.load', title='ImagesLoader -> ?'>load</a>():
<span class='lineno'> 173</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.load_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.load_queue', title='Extractor -> None'>load_queue</a>.shutdown.is_set():
<span class='lineno'> 174</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.debug(&quot;Reload Queue: Stop signal received. Terminating&quot;)
<span class='lineno'> 175</span>                 break
<span class='lineno'> 176</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.trace(&quot;Reloading image: &#39;%s&#39;&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.filename', title='?'>filename</a>)
<span class='lineno'> 177</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.extract_media', title='?'>extract_media</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.detected_faces', title='?'>detected_faces</a>.pop(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.filename', title='?'>filename</a>, None)
<span class='lineno'> 178</span>             if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.extract_media', title='?'>extract_media</a>:
<span class='lineno'> 179</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.warning(&quot;Couldn&#39;t find faces for: %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.filename', title='?'>filename</a>)
<span class='lineno'> 180</span>                 continue
<span class='lineno'> 181</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.extract_media', title='?'>extract_media</a>.set_image(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.image', title='?'>image</a>)
<span class='lineno'> 182</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.load_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.load_queue', title='Extractor -> None'>load_queue</a>.put(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.extract_media', title='?'>extract_media</a>)
<span class='lineno'> 183</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.load_queue', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._reload.load_queue', title='Extractor -> None'>load_queue</a>.put(&quot;EOF&quot;)
<span class='lineno'> 184</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.debug(&quot;Reload Images: Complete&quot;)
<span class='lineno'> 185</span> 
<span class='lineno'> 186</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction', title='Extract -> None'>_run_extraction</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>):
<span class='lineno'> 187</span>         &quot;&quot;&quot; The main Faceswap Extraction process
<span class='lineno'> 188</span> 
<span class='lineno'> 189</span>         Receives items from :class:`plugins.extract.Pipeline.Extractor` and either saves out the
<span class='lineno'> 190</span>         faces and data (if on the final pass) or reprocesses data through the pipeline for serial
<span class='lineno'> 191</span>         processing.
<span class='lineno'> 192</span>         &quot;&quot;&quot;
<span class='lineno'> 193</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.size', title='int'>size</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.size if hasattr(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>, &quot;size&quot;) else 256
<span class='lineno'> 194</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.saver', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.saver', title='ImagesSaver'>saver</a> = <a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesSaver', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesSaver', title='<ImagesSaver>'>ImagesSaver</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_dir', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_dir', title='str'>_output_dir</a>, as_bytes=True)
<span class='lineno'> 195</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.exception', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.exception', title='bool'>exception</a> = False
<span class='lineno'> 196</span> 
<span class='lineno'> 197</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.phase', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.phase', title='int'>phase</a> in range(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', title='Extractor'>_extractor</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.passes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.passes', title='Extractor -> int'>passes</a>):
<span class='lineno'> 198</span>             if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.exception', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.exception', title='bool'>exception</a>:
<span class='lineno'> 199</span>                 break
<span class='lineno'> 200</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.is_final', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.is_final', title='Extractor -> bool'>is_final</a> = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', title='Extractor'>_extractor</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.final_pass', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.final_pass', title='Extractor -> bool'>final_pass</a>
<span class='lineno'> 201</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.detected_faces', title='dict'>detected_faces</a> = dict()
<span class='lineno'> 202</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', title='Extractor'>_extractor</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.launch', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.launch', title='Extractor -> None'>launch</a>()
<span class='lineno'> 203</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error', title='Extract -> None'>_check_thread_error</a>()
<span class='lineno'> 204</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.ph_desc', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.ph_desc', title='{Extractor -> str | str}'>ph_desc</a> = &quot;Extraction&quot; if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', title='Extractor'>_extractor</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.passes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.passes', title='Extractor -> int'>passes</a> == 1 else <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', title='Extractor'>_extractor</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.phase_text', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.phase_text', title='Extractor -> str'>phase_text</a>
<span class='lineno'> 205</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.desc', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.desc', title='str'>desc</a> = &quot;Running pass {} of {}: {}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.phase', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.phase', title='int'>phase</a> + 1,
<span class='lineno'> 206</span>                                                       <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', title='Extractor'>_extractor</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.passes', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.passes', title='Extractor -> int'>passes</a>,
<span class='lineno'> 207</span>                                                       <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.ph_desc', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.ph_desc', title='{Extractor -> str | str}'>ph_desc</a>)
<span class='lineno'> 208</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.status_bar', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.status_bar', title='?'>status_bar</a> = tqdm(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._extractor', title='Extractor'>_extractor</a>.<a href='../plugins/extract/pipeline.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.plugins.extract.pipeline.Extractor.detected_faces', title='Extractor -> ?'>detected_faces</a>(),
<span class='lineno'> 209</span>                               total=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._images', title='ImagesLoader'>_images</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.process_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesLoader.process_count', title='ImagesLoader -> None'>process_count</a>,
<span class='lineno'> 210</span>                               file=sys.stdout,
<span class='lineno'> 211</span>                               desc=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.desc', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.desc', title='str'>desc</a>)
<span class='lineno'> 212</span>             for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.idx', title='?'>idx</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.extract_media', title='?'>extract_media</a> in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.status_bar', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.status_bar', title='?'>status_bar</a>):
<span class='lineno'> 213</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error', title='Extract -> None'>_check_thread_error</a>()
<span class='lineno'> 214</span>                 if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.is_final', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.is_final', title='Extractor -> bool'>is_final</a>:
<span class='lineno'> 215</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing', title='(Extract, ?, int) -> None / (Extract, ?, ?) -> None'>_output_processing</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.extract_media', title='?'>extract_media</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.size', title='int'>size</a>)
<span class='lineno'> 216</span>                     if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._args', title='?'>_args</a>.skip_saving_faces:
<span class='lineno'> 217</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces', title='(Extract, ?, ?) -> None / (Extract, ImagesSaver, ?) -> None'>_output_faces</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.saver', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.saver', title='ImagesSaver'>saver</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.extract_media', title='?'>extract_media</a>)
<span class='lineno'> 218</span>                     if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval', title='Extract -> None'>_save_interval</a> and (<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.idx', title='?'>idx</a> + 1) % <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._save_interval', title='Extract -> None'>_save_interval</a> == 0:
<span class='lineno'> 219</span>                         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.save', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.save', title='Alignments -> None'>save</a>()
<span class='lineno'> 220</span>                 else:
<span class='lineno'> 221</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.extract_media', title='?'>extract_media</a>.remove_image()
<span class='lineno'> 222</span>                     # cache extract_media for next run
<span class='lineno'> 223</span>                     <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.detected_faces', title='dict'>detected_faces</a>[<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.extract_media', title='?'>extract_media</a>.filename] = <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.extract_media', title='?'>extract_media</a>
<span class='lineno'> 224</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.status_bar', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.status_bar', title='?'>status_bar</a>.update(1)
<span class='lineno'> 225</span> 
<span class='lineno'> 226</span>             if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.is_final', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.is_final', title='Extractor -> bool'>is_final</a>:
<span class='lineno'> 227</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.debug(&quot;Reloading images&quot;)
<span class='lineno'> 228</span>                 <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threaded_redirector', title='(Extract, str, None) -> None / (Extract, ?, None) -> None / (Extract, str, dict) -> None'>_threaded_redirector</a>(&quot;reload&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.detected_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.detected_faces', title='dict'>detected_faces</a>)
<span class='lineno'> 229</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.saver', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._run_extraction.saver', title='ImagesSaver'>saver</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesSaver.close', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesSaver.close', title='ImagesSaver -> None'>close</a>()
<span class='lineno'> 230</span> 
<span class='lineno'> 231</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error', title='Extract -> None'>_check_thread_error</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error.self', title='Extract'>self</a>):
<span class='lineno'> 232</span>         &quot;&quot;&quot; Check if any errors have occurred in the running threads and their errors &quot;&quot;&quot;
<span class='lineno'> 233</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error.thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error.thread', title='<list>'>thread</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threads', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._threads', title='list'>_threads</a>:
<span class='lineno'> 234</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error.thread', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._check_thread_error.thread', title='<list>'>thread</a>.check_and_raise_error()
<span class='lineno'> 235</span> 
<span class='lineno'> 236</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing', title='(Extract, ?, int) -> None / (Extract, ?, ?) -> None'>_output_processing</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.self', title='Extract'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', title='?'>extract_media</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.size', title='int'>size</a>):
<span class='lineno'> 237</span>         &quot;&quot;&quot; Prepare faces for output
<span class='lineno'> 238</span> 
<span class='lineno'> 239</span>         Loads the aligned face, perform any processing actions and verify the output.
<span class='lineno'> 240</span> 
<span class='lineno'> 241</span>         Parameters
<span class='lineno'> 242</span>         ----------
<span class='lineno'> 243</span>         extract_media: :class:`plugins.extract.pipeline.ExtractMedia`
<span class='lineno'> 244</span>             Output from :class:`plugins.extract.pipeline.Extractor`
<span class='lineno'> 245</span>         size: int
<span class='lineno'> 246</span>             The size that the aligned face should be created at
<span class='lineno'> 247</span>         &quot;&quot;&quot;
<span class='lineno'> 248</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.face', title='?'>face</a> in <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', title='?'>extract_media</a>.detected_faces:
<span class='lineno'> 249</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.face', title='?'>face</a>.load_aligned(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', title='?'>extract_media</a>.image, size=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.size', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.size', title='int'>size</a>)
<span class='lineno'> 250</span> 
<span class='lineno'> 251</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._post_process', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._post_process', title='PostProcess'>_post_process</a>.<a href='fsmedia.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.PostProcess.do_actions', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.fsmedia.PostProcess.do_actions', title='(PostProcess, dict) -> None / (PostProcess, ?) -> None'>do_actions</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', title='?'>extract_media</a>)
<span class='lineno'> 252</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', title='?'>extract_media</a>.remove_image()
<span class='lineno'> 253</span> 
<span class='lineno'> 254</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.faces_count', title='int'>faces_count</a> = len(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', title='?'>extract_media</a>.detected_faces)
<span class='lineno'> 255</span>         if <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.faces_count', title='int'>faces_count</a> == 0:
<span class='lineno'> 256</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.verbose(&quot;No faces were detected in image: %s&quot;,
<span class='lineno'> 257</span>                            os.path.basename(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.extract_media', title='?'>extract_media</a>.filename))
<span class='lineno'> 258</span> 
<span class='lineno'> 259</span>         if not <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._verify_output', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._verify_output', title='bool'>_verify_output</a> and <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.faces_count', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.faces_count', title='int'>faces_count</a> &gt; 1:
<span class='lineno'> 260</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_processing.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._verify_output', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._verify_output', title='bool'>_verify_output</a> = True
<span class='lineno'> 261</span> 
<span class='lineno'> 262</span>     def <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces', title='(Extract, ?, ?) -> None / (Extract, ImagesSaver, ?) -> None'>_output_faces</a>(<a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.self', title='Extract'>self</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.saver', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.saver', title='ImagesSaver'>saver</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extract_media', title='?'>extract_media</a>):
<span class='lineno'> 263</span>         &quot;&quot;&quot; Output faces to save thread
<span class='lineno'> 264</span> 
<span class='lineno'> 265</span>         Set the face filename based on the frame name and put the face to the
<span class='lineno'> 266</span>         :class:`~lib.image.ImagesSaver` save queue and add the face information to the alignments
<span class='lineno'> 267</span>         data.
<span class='lineno'> 268</span> 
<span class='lineno'> 269</span>         Parameters
<span class='lineno'> 270</span>         ----------
<span class='lineno'> 271</span>         saver: lib.images.ImagesSaver
<span class='lineno'> 272</span>             The background saver for saving the image
<span class='lineno'> 273</span>         extract_media: :class:`~plugins.extract.pipeline.ExtractMedia`
<span class='lineno'> 274</span>             The output from :class:`~plugins.extract.Pipeline.Extractor`
<span class='lineno'> 275</span>         &quot;&quot;&quot;
<span class='lineno'> 276</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.logger', title='?'>logger</a>.trace(&quot;Outputting faces for %s&quot;, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extract_media', title='?'>extract_media</a>.filename)
<span class='lineno'> 277</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.final_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.final_faces', title='list'>final_faces</a> = list()
<span class='lineno'> 278</span>         <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.filename', title='str'>filename</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extension', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extension', title='str'>extension</a> = os.path.splitext(os.path.basename(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extract_media', title='?'>extract_media</a>.filename))
<span class='lineno'> 279</span>         for <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.idx', title='?'>idx</a>, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.face', title='?'>face</a> in enumerate(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extract_media', title='?'>extract_media</a>.detected_faces):
<span class='lineno'> 280</span>             <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.output_filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.output_filename', title='str'>output_filename</a> = &quot;{}_{}{}&quot;.format(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.filename', title='str'>filename</a>, str(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.idx', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.idx', title='?'>idx</a>), <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extension', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extension', title='str'>extension</a>)
<span class='lineno'> 281</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.face', title='?'>face</a>.hash, <a name='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.image', title='?'>image</a> = <a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.encode_image_with_hash', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.encode_image_with_hash', title='(?, ?) -> (?, ?) / (?, str) -> (?, ?)'>encode_image_with_hash</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.face', title='?'>face</a>.aligned_face, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extension', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extension', title='str'>extension</a>)
<span class='lineno'> 282</span> 
<span class='lineno'> 283</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.saver', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.saver', title='ImagesSaver'>saver</a>.<a href='../lib/image.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesSaver.save', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.image.ImagesSaver.save', title='(ImagesSaver, ?, ?) -> None / (ImagesSaver, str, None) -> None / (ImagesSaver, str, ?) -> None'>save</a>(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.output_filename', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.output_filename', title='str'>output_filename</a>, <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.image', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.image', title='?'>image</a>)
<span class='lineno'> 284</span>             <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.final_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.final_faces', title='list'>final_faces</a>.append(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.face', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.face', title='?'>face</a>.to_alignment())
<span class='lineno'> 285</span>         <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.self', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.self', title='Extract'>self</a>.<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._alignments', title='Alignments'>_alignments</a>.<a href='../lib/alignments.py.html#.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.data', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.lib.alignments.Alignments.data', title='Alignments -> None'>data</a>[os.path.basename(<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extract_media', title='?'>extract_media</a>.filename)] = dict(faces=<a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.final_faces', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.final_faces', title='list'>final_faces</a>)
<span class='lineno'> 286</span>         del <a href='#.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extract_media', xid ='.home.xxm.Desktop.EMSE.dataset.faceswap.scripts.extract.Extract._output_faces.extract_media', title='?'>extract_media</a>
</pre></td></tr></table></body></html>